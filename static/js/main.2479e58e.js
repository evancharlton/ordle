/*! For license information please see main.2479e58e.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},446:function(e,t,n){"use strict";var r=n(740),i=n(181),o=n(933),a=n(293),s=n(386);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),f=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),h=new a.ErrorFactory("appCheck","AppCheck",f),d=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function g(e){return d.get(e)||p}function y(e,t){d.set(e,t)}function m(){return v}var b="https://content-firebaseappcheck.googleapis.com/v1beta",_=3e4,w=96e4,E=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function S(){return self.grecaptcha}function T(e){if(!g(e).activated)throw h.create("use-before-activation",{appName:e.name})}function k(e){return a.base64.encodeString(JSON.stringify(e),!1)}function I(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,f,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),h.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw h.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),h.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(f=c.ttl.match(/^([\d.]+)(s)$/))||!f[2]||isNaN(Number(f[1])))throw h.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(f[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function C(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function N(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:b+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var A="firebase-app-check-store",x="debug-token",P=null;function R(){return P||(P=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(h.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(A,{keyPath:"compositeKey"})}}catch(r){t(h.create("storage-open",{originalErrorMessage:r.message}))}})),P)}function O(e){return L(M(e))}function D(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,R()];case 1:return n=o.sent(),r=n.transaction(A,"readwrite"),i=r.objectStore(A),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(h.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function L(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,R()];case 1:return t=o.sent(),n=t.transaction(A,"readonly"),r=n.objectStore(A),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(h.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function M(e){return e.options.appId+"-"+e.name}var j=new s.Logger("@firebase/app-check");function F(e,t){return a.isIndexedDBAvailable()?function(e,t){return D(M(e),t)}(e,t).catch((function(e){j.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,L(x)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,D(x,r)).catch((function(e){return j.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function V(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=m()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var q={error:"UNKNOWN_ERROR"};function B(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,f,h,d;return o.__generator(this,(function(p){switch(p.label){case 0:return T(e),r=g(e),i=r.token,a=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(s=p.sent())&&H(s)&&(i=s,y(e,o.__assign(o.__assign({},r),{token:i})),W(e,{token:i.token})),p.label=2;case 2:return!n&&i&&H(i)?[2,{token:i.token}]:m().enabled?(c=I,l=N,f=[e],[4,V()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,f.concat([p.sent()])),t])];case 4:return u=p.sent(),[4,F(e,u)];case 5:return p.sent(),y(e,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return h=p.sent(),j.error(h),a=h,[3,9];case 9:return i?[3,10]:(d=function(e){return{token:k(q),error:e}}(a),[3,12]);case 10:return d={token:i.token},y(e,o.__assign(o.__assign({},r),{token:i})),[4,F(e,i)];case 11:p.sent(),p.label=12;case 12:return W(e,d),[2,d]}}))}))}function z(e,t,n,r,i){var a=g(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new E((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return g(e).token?[3,2]:[4,B(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,B(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=g(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),_,w)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&H(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&H(e)&&r({token:e.token})})).catch((function(){}));y(e,u)}function K(e,t){var n=g(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),y(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function W(e,t){for(var n=0,r=g(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function H(e){return e.expireTimeMillis-Date.now()>0}var G="https://www.google.com/recaptcha/api.js";function Q(e,t){var n=g(e),r=new a.Deferred;y(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=S();return u?u.ready((function(){Y(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+G,t.onload=e,document.head.appendChild(t)}((function(){var n=S();if(!n)throw new Error("no recaptcha");n.ready((function(){Y(e,t,n,i),r.resolve(n)}))})),r.promise}function $(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return T(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=g(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function Y(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=g(e);y(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var X=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw h.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,$(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),h.create("recaptcha-error");case 4:return[2,I(C(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,Q(e,this._siteKey).catch((function(){}))},e}(),J=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw h.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();function Z(e,t,n,r){var i=g(e);if(i.activated)throw h.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,O(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),j.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&H(t)&&y(e,o.__assign(o.__assign({},g(e)),{token:t})),t})),s.provider="string"===typeof t?new X(t):t instanceof X||t instanceof J?t:new J({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,y(e,s),s.provider.initialize(e,n)}function ee(e,t){return{app:e,activate:function(n,r){return Z(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=g(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),y(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,B(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),z(e,t,"EXTERNAL",o,a),function(){return K(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=g(e).tokenObservers;t<n.length;t++){var r=n[t];K(e,r.next)}return Promise.resolve()}}}}var te="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return ee(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:X,CustomProvider:J}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(te).initialize()}))),e.INTERNAL.registerComponent(new i.Component(te,(function(e){return function(e,t){return{getToken:function(n){return B(e,t,n)},addTokenListener:function(n){return z(e,t,"INTERNAL",n)},removeTokenListener:function(t){return K(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=m();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(U())}}()},933:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return l},__generator:function(){return f},__createBinding:function(){return h},__exportStar:function(){return d},__values:function(){return p},__read:function(){return v},__spread:function(){return g},__spreadArrays:function(){return y},__spreadArray:function(){return m},__await:function(){return b},__asyncGenerator:function(){return _},__asyncDelegator:function(){return w},__asyncValues:function(){return E},__makeTemplateObject:function(){return S},__importStar:function(){return k},__importDefault:function(){return I},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return N}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var T=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return T(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function N(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}},740:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w},firebase:function(){return _}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.create;Object.create;var i,o,a=n(293),s=n(181),u=n(386),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new a.ErrorFactory("app","Firebase",c),f="@firebase/app",h="[DEFAULT]",d=((o={})[f]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/app-check"]="fire-app-check",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),p=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=h),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=h),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=h);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||h,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,f=Object.keys(t);c<f.length;c++){var h=f[c];t[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=r(r({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),y=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var _=g;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new y(e)}),"PRIVATE")),e.registerVersion(f,"0.6.30",t),e.registerVersion("fire-js","")}(_);var w=_},181:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return c},ComponentContainer:function(){return h},Provider:function(){return f}});function r(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function o(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var u=n(293),c=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),l="[DEFAULT]",f=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new u.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:l})}catch(d){}try{for(var r=o(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var s=a(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:f});c.resolve(h)}catch(d){}}}catch(p){t={error:p}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=l),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(s(s([],a(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),a(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=l),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=l),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:i});try{for(var c=o(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var f=a(l.value,2),h=f[0],d=f[1];s===this.normalizeInstanceIdentifier(h)&&d.resolve(u)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return u},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var a=o(i),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===l?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=l),this.component?this.component.multipleInstances?e:l:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var h=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new f(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},172:function(e,t,n){"use strict";var r=n(740),i=n(181),o=n(293),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)};function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function f(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(P){i={error:P}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var p=n(386);e=n.hmd(e);var v="";function g(e){v=e}var y=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),m=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),b=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new y(t)}}catch(n){}return new m},_=b("localStorage"),w=b("sessionStorage"),E=new p.Logger("@firebase/database"),S=function(){var e=1;return function(){return e++}}(),T=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},k=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?(0,o.stringify)(a):a,r+=" "}return r},I=null,C=!0,N=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(E.logLevel=p.LogLevel.VERBOSE,I=E.log.bind(E),t&&w.set("logging_enabled",!0)):"function"===typeof e?I=e:(I=null,w.remove("logging_enabled"))},A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===C&&(C=!1,null===I&&!0===w.get("logging_enabled")&&N(!0)),I){var n=k.apply(null,e);I(n)}},x=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];A.apply(void 0,d([e],h(t)))}},P=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+k.apply(void 0,d([],h(e)));E.error(n)},R=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+k.apply(void 0,d([],h(e)));throw E.error(n),new Error(n)},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+k.apply(void 0,d([],h(e)));E.warn(n)},D=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},L="[MIN_NAME]",M="[MAX_NAME]",j=function(e,t){if(e===t)return 0;if(e===L||t===M)return-1;if(t===L||e===M)return 1;var n=G(e),r=G(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},F=function(e,t){return e===t?0:e<t?-1:1},U=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},V=function e(t){if("object"!==typeof t||null===t)return(0,o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},q=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function B(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var z=function(e){(0,o.assert)(!D(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var f=parseInt(c.substr(a,8),2).toString(16);1===f.length&&(f="0"+f),l+=f}return l.toLowerCase()};var K=new RegExp("^-?(0*)\\d{1,10}$"),W=-2147483648,H=2147483647,G=function(e){if(K.test(e)){var t=Number(e);if(t>=W&&t<=H)return t}return null},Q=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw O("Exception was thrown by user callback.",e),t}),Math.floor(0))}},$=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},Y=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){O('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),X=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(A("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',O(e)},e}(),J=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),Z="5",ee=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,te="websocket",ne="long_polling",re=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function ie(e,t,n){var r;if((0,o.assert)("string"===typeof t,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),t===te)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ne)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return B(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var oe=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),ae={},se={};function ue(e){var t=e.toString();return ae[t]||(ae[t]=new oe),ae[t]}var ce=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&Q((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),le="start",fe="close",he=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=x(e),this.stats_=ue(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),ie(t,ne,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ce(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new de((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=h(e,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===le)n.id=o,n.password=a;else{if(i!==fe)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=h(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Z,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ee.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=q(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),de=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=S(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){A("frame writing exception"),u.stack&&A(u.stack),A(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||A("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){A("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),pe=null;"undefined"!==typeof MozWebSocket?pe=MozWebSocket:"undefined"!==typeof WebSocket&&(pe=WebSocket);var ve=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=x(this.connId),this.stats_=ue(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=Z,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&ee.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),ie(e,te,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+v+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/ordle",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new pe(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new pe(this.connURL,[],i)}}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==pe&&!e.forceDisallow_},e.previouslyFailed=function(){return _.isInMemoryStorage||!0===_.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){_.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=q(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ge=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[he,ve]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ve&&ve.isAvailable(),o=i&&!ve.previouslyFailed();if(t.webSocketOnly&&(i||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ve];else{var a=this.transports_=[];try{for(var s=f(e.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ye=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=x("c:"+this.id+":"),this.transportManager_=new ge(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=$((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=U("t",e),n=U("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=U("t",e),n=U("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=U("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?P("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):P("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Z!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),me=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),be=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=d([],h(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),_e=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return s(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(be),we=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function Ee(){return new we("")}function Se(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Te(e){return e.pieces_.length-e.pieceNum_}function ke(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new we(e.pieces_,t)}function Ie(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ce(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Ne(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new we(t,0)}function Ae(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof we)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new we(n,0)}function xe(e){return e.pieceNum_>=e.pieces_.length}function Pe(e,t){var n=Se(e),r=Se(t);if(null===n)return t;if(n===r)return Pe(ke(e),ke(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Re(e,t){for(var n=Ce(e,0),r=Ce(t,0),i=0;i<n.length&&i<r.length;i++){var o=j(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Oe(e,t){if(Te(e)!==Te(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function De(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Te(e)>Te(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Le=function(e,t){this.errorPrefix_=t,this.parts_=Ce(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Me(this)};function Me(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+je(e))}function je(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Fe,Ue,Ve=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return s(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(be),qe=1e3,Be=function(e){function t(n,r,i,a,s,u,c,l){var f=e.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=t.nextPersistentConnectionId_++,f.log_=x("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=qe,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ve.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&_e.getInstance().on("online",f.onOnline_,f),f}return s(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):P("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qe,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=qe),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return c(this,void 0,void 0,(function(){var e,n,r,i,a,s,u,c,f,d,p,v,g,y,m=this;return l(this,(function(l){switch(l.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())},f=function(e){(0,o.assert)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:f},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)])];case 2:return p=h.apply(void 0,[l.sent(),2]),v=p[0],g=p[1],s?A("getToken() completed but was canceled"):(A("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=g&&g.token,u=new ye(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){O(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),a)),[3,4];case 3:return y=l.sent(),this.log_("Failed to get token: "+y),s||(this.repoInfo_.nodeAdmin&&O(y),c()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){A("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){A("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=qe,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return V(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new we(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){A("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){A("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=f(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,f(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+v.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=_e.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(me),ze=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Ke=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new ze(L,e),r=new ze(L,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return ze.MIN},e}(),We=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Fe},set:function(e){Fe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return j(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return ze.MIN},t.prototype.maxPost=function(){return new ze(M,Fe)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new ze(e,Fe)},t.prototype.toString=function(){return".key"},t}(Ke),He=new We,Ge=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Qe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ye.EMPTY_NODE,this.right=null!=o?o:Ye.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ye.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ye.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),$e=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Qe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ye=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Qe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Qe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ge(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ge(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ge(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ge(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new $e,e}();function Xe(e,t){return j(e.name,t.name)}function Je(e,t){return j(e,t)}var Ze,et,tt,nt=function(e){return"number"===typeof e?"number:"+z(e):"string:"+e},rt=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===Ue||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===Ue||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},it=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rt(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ze},set:function(e){Ze=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return xe(t)?this:".priority"===Se(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=Se(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===Te(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+nt(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?z(this.value_):this.value_,this.lazyHash_=T(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var ot,at,st=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?j(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return ze.MIN},t.prototype.maxPost=function(){return new ze(M,new it("[PRIORITY-POST]",tt))},t.prototype.makePost=function(e,t){var n=et(e);return new ze(t,new it("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Ke),ut=new st,ct=Math.log(2),lt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ct,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),ft=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Qe(a,o.node,Qe.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new Qe(a,o.node,Qe.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new Qe(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,Qe.BLACK):(s(f,Qe.BLACK),s(f,Qe.RED))}return o}(new lt(e.length));return new Ye(r||t,o)},ht={},dt=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(ht&&ut,"ChildrenNode.ts has not been loaded"),ot=ot||new e({".priority":ht},{".priority":ut})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ye?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==He,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,s=n.getIterator(ze.Wrap),c=s.getNext();c;)a=a||t.isDefinedOn(c.node),i.push(c),c=s.getNext();r=a?ft(i,t.getCompare()):ht;var l=t.toString(),f=u({},this.indexSet_);f[l]=t;var h=u({},this.indexes_);return h[l]=r,new e(h,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===ht){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(ze.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),ft(s,a.getCompare())}return ht}var l=n.get(t.name),f=e;return l&&(f=f.remove(new ze(t.name,l))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===ht)return e;var r=n.get(t.name);return r?e.remove(new ze(t.name,r)):e})),this.indexSet_)},e}(),pt=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&rt(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return at||(at=new e(new Ye(Je),null,dt.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||at},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?at:t},e.prototype.getChild=function(e){var t=Se(e);return null===t?this:this.getImmediateChild(t).getChild(ke(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new ze(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?at:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=Se(e);if(null===n)return t;(0,o.assert)(".priority"!==Se(e)||1===Te(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ke(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(ut,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+nt(this.getPriority().val())+":"),this.forEachChild(ut,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":T(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new ze(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new ze(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new ze(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,ze.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,ze.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vt?-1:0},e.prototype.withIndex=function(t){if(t===He||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===He||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ut),r=t.getIterator(ut),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===He?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),vt=new(function(e){function t(){return e.call(this,new Ye(Je),pt.EMPTY_NODE,dt.Default)||this}return s(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return pt.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(pt));Object.defineProperties(ze,{MIN:{value:new ze(L,pt.EMPTY_NODE)},MAX:{value:new ze(M,vt)}}),We.__EMPTY_NODE=pt.EMPTY_NODE,it.__childrenNodeConstructor=pt,Ue=vt,function(e){tt=e}(vt);function gt(e,t){if(void 0===t&&(t=null),null===e)return pt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new it(e,gt(t));if(e instanceof Array){var n=pt.EMPTY_NODE;return B(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=gt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(gt(t))}var r=[],i=!1;if(B(e,(function(e,t){if("."!==e.substring(0,1)){var n=gt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new ze(e,n)))}})),0===r.length)return pt.EMPTY_NODE;var a=ft(r,Xe,(function(e){return e.name}),Je);if(i){var s=ft(r,ut.getCompare());return new pt(a,gt(t),new dt({".priority":s},{".priority":ut}))}return new pt(a,gt(t),dt.Default)}!function(e){et=e}(gt);var yt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!xe(t)&&".priority"!==Se(t),"Can't create PathIndex with empty path or .priority key"),n}return s(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?j(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=gt(e),r=pt.EMPTY_NODE.updateChild(this.indexPath_,n);return new ze(t,r)},t.prototype.maxPost=function(){var e=pt.EMPTY_NODE.updateChild(this.indexPath_,vt);return new ze(M,e)},t.prototype.toString=function(){return Ce(this.indexPath_,0).join("/")},t}(Ke),mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?j(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return ze.MIN},t.prototype.maxPost=function(){return ze.MAX},t.prototype.makePost=function(e,t){var n=gt(e);return new ze(t,n)},t.prototype.toString=function(){return".value"},t}(Ke),bt=new mt,_t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",wt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=_t.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=_t.charAt(t[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),Et=function(e){if("2147483647"===e)return"-";var t=G(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return M;var o=n[i],a=_t.charAt(_t.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},St=function(e){if("-2147483648"===e)return L;var t=G(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=_t.charAt(_t.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function Tt(e){return{type:"value",snapshotNode:e}}function kt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function It(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ct(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Nt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(It(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(kt(t,n)):a.trackChildChange(Ct(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ut,(function(e,r){t.hasChild(e)||n.trackChildChange(It(e,r))})),t.isLeafNode()||t.forEachChild(ut,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ct(t,r,i))}else n.trackChildChange(kt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?pt.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),At=function(){function e(t){this.indexedFilter_=new Nt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new ze(t,n))||(n=pt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=pt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(pt.EMPTY_NODE);var i=this;return t.forEachChild(ut,(function(e,t){i.matches(new ze(e,t))||(r=r.updateImmediateChild(e,pt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),xt=function(){function e(e){this.rangedFilter_=new At(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new ze(t,n))||(n=pt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=pt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=pt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(pt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&c(s,a)<=0&&(f=!0),f&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new ze(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var h=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Ct(t,n,h)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(It(t,h));var v=u.updateImmediateChild(t,pt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(kt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:f&&a(l,c)>=0?(null!=i&&(i.trackChildChange(It(l.name,l.node)),i.trackChildChange(kt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,pt.EMPTY_NODE)):e},e}(),Pt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ut}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:L},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:M},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ut},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Rt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ot(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Dt(e,t){var n=e.copy();return n.index_=t,n}function Lt(e){var t,n={};return e.isDefault()||(e.index_===ut?t="$priority":e.index_===bt?t="$value":e.index_===He?t="$key":((0,o.assert)(e.index_ instanceof yt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Mt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ut&&(t.i=e.index_.toString()),t}var jt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=x("p:rest:"),o.listens_={},o}return s(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Lt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Lt(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=h(i,2),s=a[0],u=a[1];s&&s.accessToken&&(t.auth=s.accessToken),u&&u.token&&(t.ac=u.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=(0,o.jsonEval)(l.responseText)}catch(t){O("Failed to parse JSON response for "+c+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&O("Got unsuccessful REST response for "+c+" Status: "+l.status),n(l.status);n=null}},l.open("GET",c,!0),l.send()}))},t}(me),Ft=function(){function e(){this.rootNode_=pt.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Ut(){return{value:null,children:new Map}}function Vt(e,t,n){if(xe(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Se(t);e.children.has(r)||e.children.set(r,Ut()),Vt(e.children.get(r),t=ke(t),n)}}function qt(e,t){if(xe(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(ut,(function(t,n){Vt(e,new we(t),n)})),qt(e,t)}if(e.children.size>0){var r=Se(t);if(t=ke(t),e.children.has(r))qt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Bt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Bt(r,new we(t.toString()+"/"+e),n)}))}var zt,Kt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=u({},e);return this.last_&&B(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Wt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Kt(e);var n=1e4+2e4*Math.random();$(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;B(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),$(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ht(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(zt||(zt={}));var Gt,Qt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=zt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(xe(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new we(t));return new e(Ee(),n,this.revert)}return(0,o.assert)(Se(this.path)===t,"operationForChild called for unrelated child."),new e(ke(this.path),this.affectedTree,this.revert)},e}(),$t=function(){function e(e,t){this.source=e,this.path=t,this.type=zt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return xe(this.path)?new e(this.source,Ee()):new e(this.source,ke(this.path))},e}(),Yt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=zt.OVERWRITE}return e.prototype.operationForChild=function(t){return xe(this.path)?new e(this.source,Ee(),this.snap.getImmediateChild(t)):new e(this.source,ke(this.path),this.snap)},e}(),Xt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=zt.MERGE}return e.prototype.operationForChild=function(t){if(xe(this.path)){var n=this.children.subtree(new we(t));return n.isEmpty()?null:n.value?new Yt(this.source,Ee(),n.value):new e(this.source,Ee(),n)}return(0,o.assert)(Se(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ke(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Jt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;var t=Se(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Zt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function en(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new ze(t.childName,t.snapshotNode),i=new ze(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function tn(e,t){return{eventCache:e,serverCache:t}}function nn(e,t,n,r){return tn(new Jt(t,n,r),e.serverCache)}function rn(e,t,n,r){return tn(e.eventCache,new Jt(t,n,r))}function on(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function an(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var sn=function(){function e(e,t){void 0===t&&(Gt||(Gt=new Ye(F)),t=Gt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return B(t,(function(e,t){n=n.set(new we(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:Ee(),value:this.value};if(xe(e))return null;var n=Se(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ke(e),t);return null!=i?{path:Ae(new we(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(xe(t))return this;var n=Se(t),r=this.children.get(n);return null!==r?r.subtree(ke(t)):new e(null)},e.prototype.set=function(t,n){if(xe(t))return new e(n,this.children);var r=Se(t),i=(this.children.get(r)||new e(null)).set(ke(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(xe(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Se(t),r=this.children.get(n);if(r){var i=r.remove(ke(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(xe(e))return this.value;var t=Se(e),n=this.children.get(t);return n?n.get(ke(e)):null},e.prototype.setTree=function(t,n){if(xe(t))return n;var r=Se(t),i=(this.children.get(r)||new e(null)).setTree(ke(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(Ee(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ae(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Ee(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(xe(e))return null;var i=Se(e),o=this.children.get(i);return o?o.findOnPath_(ke(e),Ae(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Ee(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(xe(t))return this;this.value&&r(n,this.value);var i=Se(t),o=this.children.get(i);return o?o.foreachOnPath_(ke(t),Ae(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(Ee(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ae(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),un=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new sn(null))},e}();function cn(e,t,n){if(xe(t))return new un(new sn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Pe(i,t);return o=o.updateChild(a,n),new un(e.writeTree_.set(i,o))}var s=new sn(n),u=e.writeTree_.setTree(t,s);return new un(u)}function ln(e,t,n){var r=e;return B(n,(function(e,n){r=cn(r,Ae(t,e),n)})),r}function fn(e,t){if(xe(t))return un.empty();var n=e.writeTree_.setTree(t,new sn(null));return new un(n)}function hn(e,t){return null!=dn(e,t)}function dn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Pe(n.path,t)):null}function pn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ut,(function(e,n){t.push(new ze(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new ze(e,n.value))})),t}function vn(e,t){if(xe(t))return e;var n=dn(e,t);return new un(null!=n?new sn(n):e.writeTree_.subtree(t))}function gn(e){return e.writeTree_.isEmpty()}function yn(e,t){return mn(Ee(),e.writeTree_,t)}function mn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=mn(Ae(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ae(e,".priority"),r)),n}function bn(e,t){return Rn(t,e)}function _n(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&wn(u,r.path)?i=!1:De(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=Sn(e.allWrites,En,Ee()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=fn(e.visibleWrites,r.path):B(r.children,(function(t){e.visibleWrites=fn(e.visibleWrites,Ae(r.path,t))}));return!0}return!1}function wn(e,t){if(e.snap)return De(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&De(Ae(e.path,n),t))return!0;return!1}function En(e){return e.visible}function Sn(e,t,n){for(var r=un.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)De(n,s)?r=cn(r,u=Pe(n,s),a.snap):De(s,n)&&(u=Pe(s,n),r=cn(r,Ee(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(De(n,s))r=ln(r,u=Pe(n,s),a.children);else if(De(s,n))if(xe(u=Pe(s,n)))r=ln(r,Ee(),a.children);else{var c=(0,o.safeGet)(a.children,Se(u));if(c){var l=c.getChild(ke(u));r=cn(r,Ee(),l)}}}}}return r}function Tn(e,t,n,r,i){if(r||i){var o=vn(e.visibleWrites,t);if(!i&&gn(o))return n;if(i||null!=n||hn(o,Ee())){return yn(Sn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(De(e.path,t)||De(t,e.path))}),t),n||pt.EMPTY_NODE)}return null}var a=dn(e.visibleWrites,t);if(null!=a)return a;var s=vn(e.visibleWrites,t);return gn(s)?n:null!=n||hn(s,Ee())?yn(s,n||pt.EMPTY_NODE):null}function kn(e,t,n,r){return Tn(e.writeTree,e.treePath,t,n,r)}function In(e,t){return function(e,t,n){var r=pt.EMPTY_NODE,i=dn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ut,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=vn(e.visibleWrites,t);return n.forEachChild(ut,(function(e,t){var n=yn(vn(o,new we(e)),t);r=r.updateImmediateChild(e,n)})),pn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return pn(vn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Cn(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ae(t,n);if(hn(e.visibleWrites,a))return null;var s=vn(e.visibleWrites,a);return gn(s)?i.getChild(n):yn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Nn(e,t){return function(e,t){return dn(e.visibleWrites,t)}(e.writeTree,Ae(e.treePath,t))}function An(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=vn(e.visibleWrites,t),c=dn(u,Ee());if(null!=c)s=c;else{if(null==n)return[];s=yn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function xn(e,t,n){return function(e,t,n,r){var i=Ae(t,n),o=dn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?yn(vn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Pn(e,t){return Rn(Ae(e.treePath,t),e.writeTree)}function Rn(e,t){return{treePath:e,writeTree:t}}var On=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ct(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,It(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,kt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ct(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Dn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Ln=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Jt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:an(this.viewCache_),i=An(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Mn(e,t,n,r,i){var a,s,u=new On;if(n.type===zt.OVERWRITE){var c=n;c.source.fromUser?a=Un(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!xe(c.path),a=Fn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===zt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Ae(n,r);Vn(t,Se(c))&&(s=Un(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Ae(n,r);Vn(t,Se(c))||(s=Un(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Bn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===zt.ACK_USER_WRITE){var f=n;a=f.revert?function(e,t,n,r,i,a){var s;if(null!=Nn(r,n))return t;var u=new Ln(r,t,i),c=t.eventCache.getNode(),l=void 0;if(xe(n)||".priority"===Se(n)){var f=void 0;if(t.serverCache.isFullyInitialized())f=kn(r,an(t));else{var h=t.serverCache.getNode();(0,o.assert)(h instanceof pt,"serverChildren would be complete if leaf node"),f=In(r,h)}f=f,l=e.filter.updateFullNode(c,f,a)}else{var d=Se(n),p=xn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,ke(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,pt.EMPTY_NODE,ke(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=kn(r,an(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=Nn(r,Ee()),nn(t,l,s,e.filter.filtersNodes())}(e,t,f.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=Nn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(xe(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Fn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(xe(n)){var c=new sn(null);return u.getNode().forEachChild(He,(function(e,t){c=c.set(new we(e),t)})),Bn(e,t,n,c,i,o,s,a)}return t}var l=new sn(null);return r.foreach((function(e,t){var r=Ae(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Bn(e,t,n,l,i,o,s,a)}(e,t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==zt.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=rn(t,o.getNode(),o.isFullyInitialized()||xe(n),o.isFiltered());return jn(e,a,n,r,Dn,i)}(e,t,n.path,r,u)}var h=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=on(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Tt(on(t)))}}(t,a,h),{viewCache:a,changes:h}}function jn(e,t,n,r,i,a){var s=t.eventCache;if(null!=Nn(r,n))return t;var u=void 0,c=void 0;if(xe(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=an(t),f=In(r,l instanceof pt?l:pt.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=kn(r,an(t));u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var d=Se(n);if(".priority"===d){(0,o.assert)(1===Te(n),"Can't have a priority with additional path components");var p=s.getNode(),v=Cn(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var g=ke(n),y=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var m=Cn(r,n,s.getNode(),c);y=null!=m?s.getNode().getImmediateChild(d).updateChild(g,m):s.getNode().getImmediateChild(d)}else y=xn(r,d,t.serverCache);u=null!=y?e.filter.updateChild(s.getNode(),d,y,g,i,a):s.getNode()}}return nn(t,u,s.isFullyInitialized()||xe(n),e.filter.filtersNodes())}function Fn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(xe(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=Se(n);if(!c.isCompleteForPath(n)&&Te(n)>1)return t;var d=ke(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Dn,null)}var v=rn(t,u,c.isFullyInitialized()||xe(n),l.filtersNodes());return jn(e,v,n,i,new Ln(i,v,o),s)}function Un(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Ln(i,t,o);if(xe(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=nn(t,u,!0,e.filter.filtersNodes());else{var f=Se(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=nn(t,u,c.isFullyInitialized(),c.isFiltered());else{var h=ke(n),d=c.getNode().getImmediateChild(f),p=void 0;if(xe(h))p=r;else{var v=l.getCompleteChild(f);p=null!=v?".priority"===Ie(h)&&v.getChild(Ne(h)).isEmpty()?v:v.updateChild(h,r):pt.EMPTY_NODE}if(d.equals(p))s=t;else s=nn(t,e.filter.updateChild(c.getNode(),f,p,h,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Vn(e,t){return e.eventCache.isCompleteForChild(t)}function qn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Bn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=xe(n)?r:new sn(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=qn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Fn(e,c,new we(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=qn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Fn(e,c,new we(n),f,i,o,a,s)}})),c}var zn,Kn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Nt(r.getIndex()),o=(n=r).loadsAllData()?new Nt(n.getIndex()):n.hasLimit()?new xt(n):new At(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(pt.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(pt.EMPTY_NODE,s.getNode(),null),l=new Jt(u,a.isFullyInitialized(),i.filtersNodes()),f=new Jt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=tn(f,l),this.eventGenerator_=new Zt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Wn(e,t){var n=an(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!xe(t)&&!n.getImmediateChild(Se(t)).isEmpty())?n.getChild(t):null}function Hn(e){return 0===e.eventRegistrations_.length}function Gn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Qn(e,t,n,r){t.type===zt.MERGE&&null!==t.source.queryId&&((0,o.assert)(an(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(on(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Mn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,$n(e,u.changes,u.viewCache.eventCache.getNode(),null)}function $n(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),en(e,i,"child_removed",t,r,n),en(e,i,"child_added",t,r,n),en(e,i,"child_moved",o,r,n),en(e,i,"child_changed",t,r,n),en(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Yn,Xn=function(){this.views=new Map};function Jn(e,t,n,r){var i,a,s=t.source.queryId;if(null!==s){var u=e.views.get(s);return(0,o.assert)(null!=u,"SyncTree gave us an op for an invalid query."),Qn(u,t,n,r)}var c=[];try{for(var l=f(e.views.values()),h=l.next();!h.done;h=l.next()){u=h.value;c=c.concat(Qn(u,t,n,r))}}catch(d){i={error:d}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return c}function Zn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=kn(n,i?r:null),u=!1;s?u=!0:r instanceof pt?(s=In(n,r),u=!1):(s=pt.EMPTY_NODE,u=!1);var c=tn(new Jt(s,u,!1),new Jt(r,i,!1));return new Kn(t,c)}return a}function er(e,t,n,r,i,o){var a=Zn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ut,(function(e,t){r.push(kt(e,t))})),n.isFullyInitialized()&&r.push(Tt(n.getNode())),$n(e,r,n.getNode(),t)}(a,n)}function tr(e,t,n,r){var i,a,s=t._queryIdentifier,u=[],c=[],l=ar(e);if("default"===s)try{for(var d=f(e.views.entries()),p=d.next();!p.done;p=d.next()){var v=h(p.value,2),g=v[0],y=v[1];c=c.concat(Gn(y,n,r)),Hn(y)&&(e.views.delete(g),y.query._queryParams.loadsAllData()||u.push(y.query))}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}else(y=e.views.get(s))&&(c=c.concat(Gn(y,n,r)),Hn(y)&&(e.views.delete(s),y.query._queryParams.loadsAllData()||u.push(y.query)));return l&&!ar(e)&&u.push(new((0,o.assert)(zn,"Reference.ts has not been loaded"),zn)(t._repo,t._path)),{removed:u,events:c}}function nr(e){var t,n,r=[];try{for(var i=f(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function rr(e,t){var n,r,i=null;try{for(var o=f(e.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||Wn(s,t)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function ir(e,t){if(t._queryParams.loadsAllData())return sr(e);var n=t._queryIdentifier;return e.views.get(n)}function or(e,t){return null!=ir(e,t)}function ar(e){return null!=sr(e)}function sr(e){var t,n;try{for(var r=f(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var ur=1,cr=function(e){this.listenProvider_=e,this.syncPointTree_=new sn(null),this.pendingWriteTree_={visibleWrites:un.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function lr(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=cn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?mr(e,new Yt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function fr(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=ln(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=sn.fromObject(n);return mr(e,new Xt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function hr(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(_n(e.pendingWriteTree_,t)){var i=new sn(null);return null!=r.snap?i=i.set(Ee(),!0):B(r.children,(function(e){i=i.set(new we(e),!0)})),mr(e,new Qt(r.path,i,n))}return[]}function dr(e,t,n){return mr(e,new Yt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function pr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||or(o,t))){var s=tr(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return ar(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&ar(t))return[sr(t)];var r=[];return t&&(r=nr(t)),B(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,g=wr(e,p);e.listenProvider_.startListening(Cr(v),Er(e,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Cr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(Sr(t));e.listenProvider_.stopListening(Cr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Sr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function vr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Pe(e,r);i=i||rr(t,n),a=a||ar(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||ar(u),i=i||rr(u,Ee())):(u=new Xn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=pt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=rr(t,Ee());n&&(i=i.updateImmediateChild(e,n))})));var c=or(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=Sr(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=ur++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=er(u,t,n,bn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=ir(u,t);h=h.concat(function(e,t,n){var r=t._path,i=Er(e,t),a=wr(e,n),s=e.listenProvider_.startListening(Cr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!ar(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!xe(e)&&t&&ar(t))return[sr(t).query];var r=[];return t&&(r=r.concat(nr(t).map((function(e){return e.query})))),B(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=c[l];e.listenProvider_.stopListening(Cr(f),Er(e,f))}return s}(e,t,d))}return h}function gr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=rr(n,Pe(e,t));if(r)return r}));return Tn(r,t,i,n,!0)}function yr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Pe(e,n);r=r||rr(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||rr(i,Ee()):(i=new Xn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Jt(r,!0,!1):null;return function(e){return on(e.viewCache_)}(Zn(i,t,bn(e.pendingWriteTree_,t._path),o?a.getNode():pt.EMPTY_NODE,o))}function mr(e,t){return br(t,e.syncPointTree_,null,bn(e.pendingWriteTree_,Ee()))}function br(e,t,n,r){if(xe(e.path))return _r(e,t,n,r);var i=t.get(Ee());null==n&&null!=i&&(n=rr(i,Ee()));var o=[],a=Se(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Pn(r,a);o=o.concat(br(s,u,c,l))}return i&&(o=o.concat(Jn(i,e,r,n))),o}function _r(e,t,n,r){var i=t.get(Ee());null==n&&null!=i&&(n=rr(i,Ee()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Pn(r,t),u=e.operationForChild(t);u&&(o=o.concat(_r(u,i,a,s)))})),i&&(o=o.concat(Jn(i,e,r,n))),o}function wr(e,t){var n=t.query,r=Er(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||pt.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Tr(e,n);if(r){var i=kr(r),o=i.path,a=i.queryId,s=Pe(o,t);return Ir(e,o,new $t(Ht(a),s))}return[]}(e,n._path,r):function(e,t){return mr(e,new $t({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return pr(e,n,null,i)}}}function Er(e,t){var n=Sr(t);return e.queryToTagMap.get(n)}function Sr(e){return e._path.toString()+"$"+e._queryIdentifier}function Tr(e,t){return e.tagToQueryMap.get(t)}function kr(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new we(e.substr(0,t))}}function Ir(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Jn(r,n,bn(e.pendingWriteTree_,t),null)}function Cr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(Yn,"Reference.ts has not been loaded"),Yn)(e._repo,e._path):e}var Nr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Ar=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Ae(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return gr(this.syncTree_,this.path_)},e}(),xr=function(e,t,n){return e&&"object"===typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Pr(e[".sv"],t,n):"object"===typeof e[".sv"]?Rr(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Pr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.assert)(!1,"Unexpected server value: "+e)},Rr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Or=function(e,t,n,r){return Lr(t,new Ar(n,e),r)},Dr=function(e,t,n){return Lr(e,new Nr(t),n)};function Lr(e,t,n){var r,i=e.getPriority().val(),o=xr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=xr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new it(s,gt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new it(o))),u.forEachChild(ut,(function(e,i){var o=Lr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Mr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function jr(e,t){for(var n=t instanceof we?t:new we(t),r=e,i=Se(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Mr(i,r,a),i=Se(n=ke(n))}return r}function Fr(e){return e.node.value}function Ur(e,t){e.node.value=t,Kr(e)}function Vr(e){return e.node.childCount>0}function qr(e,t){B(e.node.children,(function(n,r){t(new Mr(n,e,r))}))}function Br(e,t,n,r){n&&!r&&t(e),qr(e,(function(e){Br(e,t,!0,r)})),n&&r&&t(e)}function zr(e){return new we(null===e.parent?e.name:zr(e.parent)+"/"+e.name)}function Kr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Fr(e)&&!Vr(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Kr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Kr(e))}(e.parent,e.name,e)}var Wr=/[\[\].#$\/\u0000-\u001F\u007F]/,Hr=/[\[\].#$\u0000-\u001F\u007F]/,Gr=10485760,Qr=function(e){return"string"===typeof e&&0!==e.length&&!Wr.test(e)},$r=function(e){return"string"===typeof e&&0!==e.length&&!Hr.test(e)},Yr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!D(e)||e&&"object"===typeof e&&(0,o.contains)(e,".sv")},Xr=function(e,t,n,r){r&&void 0===t||Jr((0,o.errorPrefix)(e,"value"),t,n)},Jr=function e(t,n,r){var i=r instanceof we?new Le(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+je(i));if("function"===typeof n)throw new Error(t+"contains a function "+je(i)+" with contents = "+n.toString());if(D(n))throw new Error(t+"contains "+n.toString()+" "+je(i));if("string"===typeof n&&n.length>Gr/3&&(0,o.stringLength)(n)>Gr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+je(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(B(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Qr(n)))throw new Error(t+" contains an invalid key ("+n+") "+je(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),Me(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+je(i)+" in addition to actual children.")}},Zr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];B(t,(function(e,t){var r=new we(e);if(Jr(i,t,Ae(n,r)),".priority"===Ie(r)&&!Yr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Ce(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Qr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Re);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&De(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},ei=function(e,t,n){if(!n||void 0!==t){if(D(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Yr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ti=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ni=function(e,t,n,r){if((!r||void 0!==n)&&!Qr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ri=function(e,t,n,r){if((!r||void 0!==n)&&!$r(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ii=function(e,t){if(".info"===Se(t))throw new Error(e+" failed = Can't modify data under /.info/")},oi=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Qr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$r(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ai=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")},si=function(){this.eventLists_=[],this.recursionDepth_=0};function ui(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Oe(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ci(e,t,n){ui(e,n),fi(e,(function(e){return Oe(e,t)}))}function li(e,t,n){ui(e,n),fi(e,(function(e){return De(e,t)||De(t,e)}))}function fi(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(hi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function hi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();I&&A("event: "+n.toString()),Q(r)}}}var di="repo_interrupt",pi=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new si,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ut(),this.transactionQueueTree_=new Mr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function vi(e,t,n){if(e.stats_=ue(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new jt(e.repoInfo_,(function(t,n,r,i){mi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return bi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Be(e.repoInfo_,t,(function(t,n,r,i){mi(e,t,n,r,i)}),(function(t){bi(e,t)}),(function(t){!function(e,t){B(t,(function(t,n){_i(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return se[n]||(se[n]=t()),se[n]}(e.repoInfo_,(function(){return new Wt(e.stats_,e.server_)})),e.infoData_=new Ft,e.infoSyncTree_=new cr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=dr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),_i(e,"connected",!1),e.serverSyncTree_=new cr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);li(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function gi(e){var t=e.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function yi(e){return(t=(t={timestamp:gi(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function mi(e,t,n,r,i){e.dataUpdateCount++;var a=new we(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return gt(e)}));s=function(e,t,n,r){var i=Tr(e,r);if(i){var o=kr(i),a=o.path,s=o.queryId,u=Pe(a,t),c=sn.fromObject(n);return Ir(e,a,new Xt(Ht(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=gt(n);s=function(e,t,n,r){var i=Tr(e,r);if(null!=i){var o=kr(i),a=o.path,s=o.queryId,u=Pe(a,t);return Ir(e,a,new Yt(Ht(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return gt(e)}));s=function(e,t,n){var r=sn.fromObject(n);return mr(e,new Xt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var f=gt(n);s=dr(e.serverSyncTree_,a,f)}var h=a;s.length>0&&(h=Pi(e,a)),li(e.eventQueue_,h,s)}function bi(e,t){_i(e,"connected",t),!1===t&&function(e){Ci(e,"onDisconnectEvents");var t=yi(e),n=Ut();Bt(e.onDisconnect_,Ee(),(function(r,i){var o=Or(r,i,e.serverSyncTree_,t);Vt(n,r,o)}));var r=[];Bt(n,Ee(),(function(t,n){r=r.concat(dr(e.serverSyncTree_,t,n));var i=Mi(e,t);Pi(e,i)})),e.onDisconnect_=Ut(),li(e.eventQueue_,Ee(),r)}(e)}function _i(e,t,n){var r=new we("/.info/"+t),i=gt(n);e.infoData_.updateSnapshot(r,i);var o=dr(e.infoSyncTree_,r,i);li(e.eventQueue_,r,o)}function wi(e){return e.nextWriteId_++}function Ei(e,t,n,r,i){Ci(e,"set",{path:t.toString(),value:n,priority:r});var o=yi(e),a=gt(n,r),s=gr(e.serverSyncTree_,t),u=Dr(a,s,o),c=wi(e),l=lr(e.serverSyncTree_,t,u,c,!0);ui(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||O("set at "+t+" failed: "+n);var a=hr(e.serverSyncTree_,c,!o);li(e.eventQueue_,t,a),Ni(e,i,n,r)}));var f=Mi(e,t);Pi(e,f),li(e.eventQueue_,f,[])}function Si(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&qt(e.onDisconnect_,t),Ni(e,n,r,i)}))}function Ti(e,t,n,r){var i=gt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Vt(e.onDisconnect_,t,i),Ni(e,r,n,o)}))}function ki(e,t,n){var r;r=".info"===Se(t._path)?pr(e.infoSyncTree_,t,n):pr(e.serverSyncTree_,t,n),ci(e.eventQueue_,t._path,r)}function Ii(e){e.persistentConnection_&&e.persistentConnection_.interrupt(di)}function Ci(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),A.apply(void 0,d([r],h(t)))}function Ni(e,t,n,r){t&&Q((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Ai(e,t,n){return gr(e.serverSyncTree_,t,n)||pt.EMPTY_NODE}function xi(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Li(e,t),Fr(t)){var n=Oi(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ai(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Pe(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var f=a.val(!0),h=t;e.server_.put(h.toString(),f,(function(r){Ci(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(hr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Li(e,jr(e.transactionQueueTree_,t)),xi(e,e.transactionQueueTree_),li(e.eventQueue_,t,i);for(s=0;s<o.length;s++)Q(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{O("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Pi(e,t)}}),s)}(e,zr(t),n)}else Vr(t)&&qr(t,(function(t){xi(e,t)}))}function Pi(e,t){var n=Ri(e,t),r=zr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],f=Pe(n,l.path),h=!1;if((0,o.assert)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,u=l.abortReason,i=i.concat(hr(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,u="maxretry",i=i.concat(hr(e.serverSyncTree_,l.currentWriteId,!0));else{var d=Ai(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Jr("transaction failed: Data returned ",p,l.path);var v=gt(p);"object"===typeof p&&null!=p&&(0,o.contains)(p,".priority")||(v=v.updatePriority(d.getPriority()));var g=l.currentWriteId,y=yi(e),m=Dr(v,d,y);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=m,l.currentWriteId=wi(e),a.splice(a.indexOf(g),1),i=(i=i.concat(lr(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally))).concat(hr(e.serverSyncTree_,g,!0))}else h=!0,u="nodata",i=i.concat(hr(e.serverSyncTree_,l.currentWriteId,!0))}li(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Li(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)Q(r[u]);xi(e,e.transactionQueueTree_)}(e,Oi(e,n),r),r}function Ri(e,t){var n,r=e.transactionQueueTree_;for(n=Se(t);null!==n&&void 0===Fr(r);)r=jr(r,n),n=Se(t=ke(t));return r}function Oi(e,t){var n=[];return Di(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Di(e,t,n){var r=Fr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);qr(t,(function(t){Di(e,t,n)}))}function Li(e,t){var n=Fr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ur(t,n.length>0?n:void 0)}qr(t,(function(t){Li(e,t)}))}function Mi(e,t){var n=zr(Ri(e,t)),r=jr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){ji(e,t)})),ji(e,r),Br(r,(function(t){ji(e,t)})),n}function ji(e,t){var n=Fr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(hr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Ur(t,void 0):n.length=a+1,li(e.eventQueue_,zr(t),i);for(s=0;s<r.length;s++)Q(r[s])}}var Fi=function(e,t){var n=Ui(e),r=n.namespace;"firebase.com"===n.domain&&R(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||R("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new re(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new we(n.pathString)}},Ui=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(l,h)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=f(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):O("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},Vi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),qi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Bi=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),zi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return Si(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){ii("OnDisconnect.remove",this._path);var e=new o.Deferred;return Ti(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){ii("OnDisconnect.set",this._path),Xr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return Ti(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){ii("OnDisconnect.setWithPriority",this._path),Xr("OnDisconnect.setWithPriority",e,this._path,!1),ei("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=gt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Vt(e.onDisconnect_,t,o),Ni(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){ii("OnDisconnect.update",this._path),Zr("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return A("onDisconnect().update() called with empty data.  Don't do anything."),void Ni(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&B(n,(function(n,r){var i=gt(r);Vt(e.onDisconnect_,Ae(t,n),i)})),Ni(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Ki=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return xe(this._path)?null:Ie(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Qi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Mt(this._queryParams),t=V(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Mt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Oe(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Wi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Hi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===He){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==L)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==M)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===ut){if(null!=t&&!Yr(t)||null!=n&&!Yr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof yt||e.getIndex()===bt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Gi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Qi=function(e){function t(t,n){return e.call(this,t,n,new Pt,!1)||this}return s(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Ne(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Ki),$i=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new we(t),r=Ji(this.ref,t);return new e(this._node.getChild(n),r,ut)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Ji(n.ref,r),ut))}))},e.prototype.hasChild=function(e){var t=new we(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Yi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Ji(e._root,t):e._root}function Xi(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Fi(t,e._repo.repoInfo_.nodeAdmin);oi("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||R("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Yi(e,n.path.toString())}function Ji(e,t){var n,r,i,a;return null===Se((e=(0,o.getModularInstance)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ri(n,r,i,a)):ri("child","path",t,!1),new Qi(e._repo,Ae(e._path,t))}function Zi(e,t){e=(0,o.getModularInstance)(e),ii("push",e._path),Xr("push",t,e._path,!0);var n,r=gi(e._repo),i=wt(r),a=Ji(e,i),s=Ji(e,i);return n=null!=t?to(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function eo(e){return ii("remove",e._path),to(e,null)}function to(e,t){e=(0,o.getModularInstance)(e),ii("set",e._path),Xr("set",t,e._path,!1);var n=new o.Deferred;return Ei(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function no(e,t){e=(0,o.getModularInstance)(e),ii("setPriority",e._path),ei("setPriority",t,!1);var n=new o.Deferred;return Ei(e._repo,Ae(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function ro(e,t,n){if(ii("setWithPriority",e._path),Xr("setWithPriority",t,e._path,!1),ei("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return Ei(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function io(e,t){Zr("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){Ci(e,"update",{path:t.toString(),value:n});var i=!0,o=yi(e),a={};if(B(n,(function(n,r){i=!1,a[n]=Or(Ae(t,n),gt(r),e.serverSyncTree_,o)})),i)A("update() called with empty data.  Don't do anything."),Ni(0,r,"ok",void 0);else{var s=wi(e),u=fr(e.serverSyncTree_,t,a,s);ui(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||O("update at "+t+" failed: "+n);var a=hr(e.serverSyncTree_,s,!o),u=a.length>0?Pi(e,t):t;li(e.eventQueue_,u,a),Ni(0,r,n,i)})),B(n,(function(n){var r=Mi(e,Ae(t,n));Pi(e,r)})),li(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function oo(e){return function(e,t){var n=yr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=gt(n).withIndex(t._queryParams.getIndex()),i=dr(e.serverSyncTree_,t._path,r);return ci(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Ci(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new $i(t,new Qi(e._repo,e._path),e._queryParams.getIndex())}))}var ao=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Vi("value",this,new $i(e.snapshotNode,new Qi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new qi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),so=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new qi(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Ji(new Qi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Vi(e.type,this,new $i(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function uo(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){ki(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Bi(n,o||void 0),c="value"===t?new ao(u):new so(t,u);return function(e,t,n){var r;r=".info"===Se(t._path)?vr(e.infoSyncTree_,t,n):vr(e.serverSyncTree_,t,n),ci(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return ki(e._repo,e,c)}}function co(e,t,n,r){return uo(e,"value",t,n,r)}function lo(e,t,n,r){return uo(e,"child_added",t,n,r)}function fo(e,t,n,r){return uo(e,"child_changed",t,n,r)}function ho(e,t,n,r){return uo(e,"child_moved",t,n,r)}function po(e,t,n,r){return uo(e,"child_removed",t,n,r)}function vo(e,t,n){var r=null,i=n?new Bi(n):null;"value"===t?r=new ao(i):t&&(r=new so(t,i)),ki(e._repo,e,r)}var go=function(){},yo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Xr("endAt",this._value,e._path,!0);var t=Ot(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ki(e._repo,e._path,t,e._orderByCalled)},t}(go);function mo(e,t){return ni("endAt","key",t,!0),new yo(e,t)}var bo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Xr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===He?("string"===typeof t&&(t=St(t)),r=Ot(e,t,n)):r=Ot(e,t,null==n?L:St(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ki(e._repo,e._path,t,e._orderByCalled)},t}(go);function _o(e,t){return ni("endBefore","key",t,!0),new bo(e,t)}var wo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Xr("startAt",this._value,e._path,!0);var t=Rt(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ki(e._repo,e._path,t,e._orderByCalled)},t}(go);function Eo(e,t){return void 0===e&&(e=null),ni("startAt","key",t,!0),new wo(e,t)}var So=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){Xr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===He?("string"===typeof t&&(t=Et(t)),r=Rt(e,t,n)):r=Rt(e,t,null==n?M:Et(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Gi(t),Hi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ki(e._repo,e._path,t,e._orderByCalled)},t}(go);function To(e,t){return ni("startAfter","key",t,!0),new So(e,t)}var ko=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return s(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ki(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(go);function Io(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ko(e)}var Co=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return s(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ki(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(go);function No(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Co(e)}var Ao=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return s(t,e),t.prototype._apply=function(e){Wi(e,"orderByChild");var t=new we(this._path);if(xe(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new yt(t),r=Dt(e._queryParams,n);return Hi(r),new Ki(e._repo,e._path,r,!0)},t}(go);function xo(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ri("orderByChild","path",e,!1),new Ao(e)}var Po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._apply=function(e){Wi(e,"orderByKey");var t=Dt(e._queryParams,He);return Hi(t),new Ki(e._repo,e._path,t,!0)},t}(go);function Ro(){return new Po}var Oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._apply=function(e){Wi(e,"orderByPriority");var t=Dt(e._queryParams,ut);return Hi(t),new Ki(e._repo,e._path,t,!0)},t}(go);function Do(){return new Oo}var Lo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._apply=function(e){Wi(e,"orderByValue");var t=Dt(e._queryParams,bt);return Hi(t),new Ki(e._repo,e._path,t,!0)},t}(go);function Mo(){return new Lo}var jo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return s(t,e),t.prototype._apply=function(e){if(Xr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new yo(this._value,this._key)._apply(new wo(this._value,this._key)._apply(e))},t}(go);function Fo(e,t){return ni("equalTo","key",t,!0),new jo(e,t)}function Uo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=(0,o.getModularInstance)(e);try{for(var s=f(r),u=s.next();!u.done;u=s.next()){var c=u.value;a=c._apply(a)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}!function(e){(0,o.assert)(!zn,"__referenceConstructor has already been defined"),zn=e}(Qi),function(e){(0,o.assert)(!Yn,"__referenceConstructor has already been defined"),Yn=e}(Qi);var Vo={},qo=!1;function Bo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||R("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),A("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Fi(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/ordle",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Fi(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new J(J.OWNER):new X(e.name,e.options,t);oi("Invalid Firebase Database URL",s),xe(s.path)||R("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Vo[t.name];i||(i={},Vo[t.name]=i);var o=i[e.toURLString()];o&&R("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new pi(e,qo,n,r),i[e.toURLString()]=o,o}(u,e,l,new Y(e.name,n));return new zo(f,e)}var zo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(vi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Qi(this._repo,Ee())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=Vo[t];n&&n[e.key]===e||R("Database "+t+"("+e.repoInfo_+") has already been deleted."),Ii(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&R("Cannot call "+e+" on a deleted database.")},e}();function Ko(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&R("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&R('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new J(J.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new J(s)}!function(e,t,n,r){e.repoInfo_=new re(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Wo(e){(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),Ii(e._repo)}function Ho(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(di)}var Go={".sv":"timestamp"};var Qo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function $o(e,t,n){var r;if(e=(0,o.getModularInstance)(e),ii("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=co(e,(function(){}));return function(e,t,n,r,i,a){Ci(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:S(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ai(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Jr("transaction failed: Data returned ",c,s.path),s.status=0;var l=jr(e.transactionQueueTree_,t),f=Fr(l)||[];f.push(s),Ur(l,f);var h=void 0;"object"===typeof c&&null!==c&&(0,o.contains)(c,".priority")?(h=(0,o.safeGet)(c,".priority"),(0,o.assert)(Yr(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(gr(e.serverSyncTree_,t)||pt.EMPTY_NODE).getPriority().val();var d=yi(e),p=gt(c,h),v=Dr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=wi(e);var g=lr(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);li(e.eventQueue_,t,g),xi(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new $i(r,new Qi(e._repo,e._path),ut),a.resolve(new Qo(n,i)))}),s,i),a.promise}var Yo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Xo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Jo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),ri("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),ri("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new ea(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Zo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Jo(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return co(this._delegate,c,l),n;case"child_added":return lo(this._delegate,c,l),n;case"child_removed":return po(this._delegate,c,l),n;case"child_changed":return fo(this._delegate,c,l),n;case"child_moved":return ho(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),ti("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,vo(this._delegate,e,r)}else vo(this._delegate,e)},e.prototype.get=function(){var e=this;return oo(this._delegate).then((function(t){return new Jo(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Jo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":co(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":lo(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":po(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":fo(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":ho(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Uo(this._delegate,Io(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,Uo(this._delegate,No(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,Uo(this._delegate,xo(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,Uo(this._delegate,Ro()))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Uo(this._delegate,Do()))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,Uo(this._delegate,Mo()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,Uo(this._delegate,Eo(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,Uo(this._delegate,To(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,Uo(this._delegate,mo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,Uo(this._delegate,_o(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,Uo(this._delegate,Fo(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new ea(this.database,new Qi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),ea=function(e){function t(t,n){var r=e.call(this,t,new Ki(n._repo,n._path,new Pt,!1))||this;return r.database=t,r._delegate=n,r}return s(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Ji(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=to(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ii("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=io(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=ro(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=eo(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),ai("Reference.transaction","applyLocally",n,!0);var i=$o(this._delegate,e,{applyLocally:n}).then((function(e){return new Xo(e.committed,new Jo(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=no(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Zi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return ii("Reference.onDisconnect",this._delegate._path),new Yo(new zi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Zo),ta=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Ko(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof ea){var t=Xi(this._delegate,e.toString());return new ea(this,t)}t=Yi(this._delegate,e);return new ea(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.validateArgCount)(t,1,1,arguments.length);var n=Xi(this._delegate,e);return new ea(this,n)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),Wo(this._delegate)},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),Ho(this._delegate)},e.ServerValue={TIMESTAMP:Go,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var na=Object.freeze({__proto__:null,forceLongPolling:function(){ve.forceDisallow(),he.forceAllow()},forceWebSockets:function(){he.forceDisallow()},isWebSocketsAvailable:function(){return ve.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Kt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);B(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;g(r);var c=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return c.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new ta(Bo(t,c,void 0,n,u),t),namespace:a}}}),ra=Be;Be.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Be.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var ia=ye,oa=re,aa=Object.freeze({__proto__:null,DataConnection:ra,RealTimeConnection:ia,hijackHash:function(e){var t=Be.prototype.put;return Be.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Be.prototype.put=t}},ConnectionTarget:oa,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){qo=e}(e)}}),sa=ta.ServerValue;!function(t){g(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new ta(Bo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:ea,Query:Zo,Database:ta,DataSnapshot:Jo,enableLogging:N,INTERNAL:na,ServerValue:sa,TEST_ACCESS:aa}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},494:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},386:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return o},Logger:function(){return f},setLogLevel:function(){return h},setUserLogHandler:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function h(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},365:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},293:function(e,t,n){"use strict";n.r(t),n.d(t,{CONSTANTS:function(){return o},Deferred:function(){return v},ErrorFactory:function(){return O},FirebaseError:function(){return R},MAX_VALUE_MILLIS:function(){return le},RANDOM_FACTOR:function(){return fe},Sha1:function(){return J},areCookiesEnabled:function(){return x},assert:function(){return a},assertionError:function(){return s},async:function(){return te},base64:function(){return c},base64Decode:function(){return h},base64Encode:function(){return l},base64urlEncodeWithoutPadding:function(){return f},calculateBackoffMillis:function(){return he},contains:function(){return z},createMockUserToken:function(){return g},createSubscribe:function(){return Z},decode:function(){return F},deepCopy:function(){return d},deepEqual:function(){return G},deepExtend:function(){return p},errorPrefix:function(){return ie},extractQuerystring:function(){return X},getGlobal:function(){return P},getModularInstance:function(){return pe},getUA:function(){return y},isAdmin:function(){return B},isBrowser:function(){return _},isBrowserExtension:function(){return w},isElectron:function(){return S},isEmpty:function(){return W},isIE:function(){return T},isIndexedDBAvailable:function(){return N},isMobileCordova:function(){return m},isNode:function(){return b},isNodeSdk:function(){return I},isReactNative:function(){return E},isSafari:function(){return C},isUWP:function(){return k},isValidFormat:function(){return q},isValidTimestamp:function(){return U},issuedAtTime:function(){return V},jsonEval:function(){return M},map:function(){return H},ordinal:function(){return de},querystring:function(){return $},querystringDecode:function(){return Y},safeGet:function(){return K},stringLength:function(){return ce},stringToByteArray:function(){return ue},stringify:function(){return j},validateArgCount:function(){return re},validateCallback:function(){return ae},validateContextObject:function(){return se},validateIndexedDBOpenable:function(){return A},validateNamespace:function(){return oe}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.create;Object.create;var o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},u=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){var t=u(e);return c.encodeByteArray(t,!0)},f=function(e){return l(e).replace(/\./g,"")},h=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}var v=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(a)),""].join(".")}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function b(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function _(){return"object"===typeof self&&self.self===self}function w(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function E(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function S(){return y().indexOf("Electron/")>=0}function T(){var e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function k(){return y().indexOf("MSAppHost/")>=0}function I(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function C(){return!b()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N(){return"indexedDB"in self&&null!=indexedDB}function A(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function x(){return!(!navigator||!navigator.cookieEnabled)}function P(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var R=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,O.prototype.create),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),O=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?D(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new R(i,s,r);return u},e}();function D(e,t){return e.replace(L,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var L=/\{\$([^}]+)}/g;function M(e){return JSON.parse(e)}function j(e){return JSON.stringify(e)}var F=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=M(h(o[0])||""),n=M(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},U=function(e){var t=F(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},V=function(e){var t=F(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},q=function(e){var t=F(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},B=function(e){var t=F(e).claims;return"object"===typeof t&&!0===t.admin};function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function K(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function W(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function H(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function G(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(Q(s)&&Q(u)){if(!G(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function Q(e){return null!==e&&"object"===typeof e}function $(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function Y(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function X(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var J=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function Z(e,t){var n=new ee(e,t);return n.subscribe.bind(n)}var ee=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ne),void 0===r.error&&(r.error=ne),void 0===r.complete&&(r.complete=ne);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function te(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function ne(){}var re=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ie(e,t){return e+" failed: "+t+" argument "}function oe(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(ie(e,"namespace")+"must be a valid firebase namespace.")}function ae(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ie(e,t)+"must be a valid function.")}function se(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ie(e,t)+"must be a valid context object.")}var ue=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,a(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ce=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},le=144e5,fe=.5;function he(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(fe*r*(Math.random()-.5)*2);return Math.min(le,r+i)}function de(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function pe(e){return e&&e._delegate?e._delegate:e}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),o=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,S=60106,T=60107,k=60108,I=60114,C=60109,N=60110,A=60112,x=60113,P=60120,R=60115,O=60116,D=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),S=U("react.portal"),T=U("react.fragment"),k=U("react.strict_mode"),I=U("react.profiler"),C=U("react.provider"),N=U("react.context"),A=U("react.forward_ref"),x=U("react.suspense"),P=U("react.suspense_list"),R=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case I:return"Profiler";case k:return"StrictMode";case x:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ge,ye=(ge=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ne=null,Ae=null;function xe(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ce(e.stateNode,e.type,t))}}function Pe(e){Ne?Ae?Ae.push(e):Ae=[e]:Ne=e}function Re(){if(Ne){var e=Ne,t=Ae;if(Ae=Ne=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,je=!1,Fe=!1;function Ue(){null===Ne&&null===Ae||(Le(),Re())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var qe=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ge){qe=!1}function ze(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,We=null,He=!1,Ge=null,Qe={onError:function(e){Ke=!0,We=e}};function $e(e,t,n,r,i,o,a,s,u){Ke=!1,We=null,ze.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){mt(e)&&n.delete(t)}function _t(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),null!==ct&&mt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function Et(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},kt={},It={};function Ct(e){if(kt[e])return kt[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return kt[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var Nt=Ct("animationend"),At=Ct("animationiteration"),xt=Ct("animationstart"),Pt=Ct("transitionend"),Rt=new Map,Ot=new Map,Dt=["abort","abort",Nt,"animationEnd",At,"animationIteration",xt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Rt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Mt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=jt(u),i=Mt):0!==(s&=o)&&(r=jt(s),i=Mt)}else 0!==(o=n&~a)?(r=jt(o),i=Mt):0!==s&&(r=jt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Vt(10,t):e;case 10:return 0===(e=qt(192&~t))?Vt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function qt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){je||Le();var i=Jt,o=je;je=!0;try{De(i,e,t,n,r)}finally{(je=o)||Ue()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=gt(st,e,t,n,r,i),!0;case"dragenter":return ut=gt(ut,e,t,n,r,i),!0;case"mouseover":return ct=gt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,gt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,gt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(gn),mn=un(i({},gn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),_n=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=un(wn),Sn=un(i({},hn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Nn(){return Cn}var An=i({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=un(An),Pn=un(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!jn||Fn&&8<Fn&&11>=Fn),qn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Pe(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){Ar(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",or),Yn=$n=null)}function or(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,Ie(e)),e=Xn,je)e(t);else{je=!0;try{Oe(e,t)}finally{je=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=f&&"documentMode"in document&&11>=document.documentMode,br=null,_r=null,wr=null,Er=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==br||br!==J(r)||("selectionStart"in(r=br)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=jr(_r,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Tr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kr=0;kr<Tr.length;kr++)Ot.set(Tr[kr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if($e.apply(this,arguments),Ke){if(!Ke)throw Error(a(198));var l=We;Ke=!1,We=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Nr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Nr(i,s,c),o=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function xr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Cr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Dr(o,e,i,t),a.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=o,i=Ie(n),a=[];e:{var s=Rt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=xn;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Nt:case At:case xt:u=_n;break;case Pt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(a,s,u,l,!1),null!==c&&null!==f&&Ur(a,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Zn;else if(Gn(s))if(er)g=cr;else{g=sr;var y=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ur);switch(g&&(g=g(e,r))?Qn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(br=y,_r=r,wr=null);break;case"focusout":wr=_r=br=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Sr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Sr(a,n,i)}var m;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(m=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=jr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:y}),m?b.data=m:null!==(m=Kn(n))&&(b.data=m))),(m=Un?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(Bn=!0,qn);case"textInput":return(e=t.data)===qn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!jn&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Ar(a,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ve(e,n))&&r.unshift(Mr(e,o,i)),null!=(o=Ve(e,t))&&r.push(Mr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,o))&&a.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,o))&&a.push(Mr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Vr(){}var qr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Zr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function gi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==hi)throw Error(a(168));fi(di,t),fi(pi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Si=null,Ti=null,ki=o.unstable_runWithPriority,Ii=o.unstable_scheduleCallback,Ci=o.unstable_cancelCallback,Ni=o.unstable_shouldYield,Ai=o.unstable_requestPaint,xi=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,ji={},Fi=void 0!==Ai?Ai:function(){},Ui=null,Vi=null,qi=!1,Bi=xi(),zi=1e4>Bi?xi:function(){return xi()-Bi};function Ki(){switch(Pi()){case Ri:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(a(332))}}function Wi(e){switch(e){case 99:return Ri;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(a(332))}}function Hi(e,t){return e=Wi(e),ki(e,t)}function Gi(e,t,n){return e=Wi(e),Ii(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ci(e)}$i()}function $i(){if(!qi&&null!==Ui){qi=!0;var e=0;try{var t=Ui;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ii(Ri,Qi),n}finally{qi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,eo=null,to=null;function no(){to=eo=Zi=null}function ro(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ja=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(a(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,s=0,f=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,qs|=s,e.lanes=s,e.memoizedState=h}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var go=(new r.Component).refs;function yo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),pu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,o))}function _o(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=yi(t)?vi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=yi(t)?vi:di.current,i.context=gi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(yo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function To(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ko(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Io(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=To(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=To(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=To(e,null,t),n.return=e,n;case S:return(t=Xu(t,e.mode,n)).return=e,t}if(So(t)||B(t))return(t=Qu(t,e.mode,n,null)).return=e,t;ko(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===T?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(So(n)||B(n))return null!==i?null:f(e,t,n,r,null);ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===T?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);ko(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=g}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=d(i,v,m.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,g),null===f?l=b:f.sibling=b,f=b,v=y}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=h(i,m.value,c))&&(s=o(m,s,g),null===f?l=m:f.sibling=m,f=m);return l}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=p(v,i,g,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=o(m,s,g),null===f?l=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===T){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=To(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===T?((r=Qu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Gu(o.type,o.key,o.props,null,e.mode,u)).ref=To(e,r,o),u.return=e,e=u)}return s(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yu(o,e.mode,u)).return=e,e=r),s(e);if(So(o))return v(e,r,o,u);if(B(o))return g(e,r,o,u);if(l&&ko(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var Co=Io(!0),No=Io(!1),Ao={},xo=ci(Ao),Po=ci(Ao),Ro=ci(Ao);function Oo(e){if(e===Ao)throw Error(a(174));return e}function Do(e,t){switch(fi(Ro,t),fi(Po,e),fi(xo,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(xo),fi(xo,t)}function Lo(){li(xo),li(Po),li(Ro)}function Mo(e){Oo(Ro.current);var t=Oo(xo.current),n=pe(t,e.type);t!==n&&(fi(Po,e),fi(xo,n))}function jo(e){Po.current===e&&(li(xo),li(Po))}var Fo=ci(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=null,qo=null,Bo=!1;function zo(e,t){var n=Ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ko(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(Bo){var t=qo;if(t){var n=t;if(!Ko(e,t)){if(!(t=Qr(n.nextSibling))||!Ko(e,t))return e.flags=-1025&e.flags|2,Bo=!1,void(Vo=e);zo(Vo,n)}Vo=e,qo=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Bo=!1,Vo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vo=e}function Go(e){if(e!==Vo)return!1;if(!Bo)return Ho(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=qo;t;)zo(e,t),t=Qr(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){qo=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}qo=null}}else qo=Vo?Qr(e.stateNode.nextSibling):null;return!0}function Qo(){qo=Vo=null,Bo=!1}var $o=[];function Yo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Xo=w.ReactCurrentDispatcher,Jo=w.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Zo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?Oa:Da,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Xo.current=La,e=n(r,i)}while(ia)}if(Xo.current=Ra,t=null!==ta&&null!==ta.next,Zo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,ea.lanes|=l,qs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(ja=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ha(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(ja=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(a(350))}function pa(e,t,n,r){var i=Os;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Xo.current,c=u.useState((function(){return da(i,t,n)})),l=c[1],f=c[0];c=na;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var g=ea;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Kt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:f}).dispatch=l=Pa.bind(null,ea,e),c.queue=e,c.baseQueue=null,f=da(i,t,n),c.memoizedState=c.baseState=f),f}function va(e,t,n){return pa(ca(),e,t,n)}function ga(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Pa.bind(null,ea,e),[t.memoizedState,e]}function ya(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function _a(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ya(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ya(t,n,o,r)}ea.flags|=e,i.memoizedState=ya(1|t,n,o,r)}function Ea(e,t){return _a(516,4,e,t)}function Sa(e,t){return wa(516,4,e,t)}function Ta(e,t){return wa(4,2,e,t)}function ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ia(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,ka.bind(null,t,e),n)}function Ca(){}function Na(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Aa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xa(e,t){var n=Ki();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Pa(e,t,n){var r=hu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Ra={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Oa={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Ea,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,ea,e),[r.memoizedState,e]},useRef:ma,useState:ga,useDebugValue:Ca,useDeferredValue:function(e){var t=ga(e),n=t[0],r=t[1];return Ea((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ga(!1),t=e[0];return ma(e=xa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Bo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=ga(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ya(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return ga(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Na,useContext:ao,useEffect:Sa,useImperativeHandle:Ia,useLayoutEffect:Ta,useMemo:Aa,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:Ca,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},La={readContext:ao,useCallback:Na,useContext:ao,useEffect:Sa,useImperativeHandle:Ia,useLayoutEffect:Ta,useMemo:Aa,useReducer:ha,useRef:ba,useState:function(){return ha(la)},useDebugValue:Ca,useDeferredValue:function(e){var t=ha(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ha(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(la)[0]},unstable_isNewReconciler:!1},Ma=w.ReactCurrentOwner,ja=!1;function Fa(e,t,n,r){t.child=null===e?No(t,null,n,r):Co(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||ja?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Va(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Wu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,qa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Hu(a,r)).ref=t.ref,e.return=t,t.child=e)}function qa(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(ja=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(ja=!0)}return Ka(e,t,n,r,o)}function Ba(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Eu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Eu(t,e),null;t.memoizedState={baseLanes:0},Eu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Eu(t,r);return Fa(e,t,i,n),t.child}function za(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ka(e,t,n,r,i){var o=yi(n)?vi:di.current;return o=gi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||ja?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Wa(e,t,n,r,i){if(yi(n)){var o=!0;wi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_o(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=gi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wo(t,a,r,c),so=!1;var h=t.memoizedState;a.state=h,po(t,r,a,i),u=t.memoizedState,s!==r||h!==u||pi.current||so?("function"===typeof l&&(yo(t,n,l,r),u=t.memoizedState),(s=so||bo(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=gi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&wo(t,a,r,u),so=!1,h=t.memoizedState,a.state=h,po(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||pi.current||so?("function"===typeof d&&(yo(t,n,d,r),p=t.memoizedState),(c=so||bo(t,n,c,r,h,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){za(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Ei(t,n,!1),os(e,t,o);r=t.stateNode,Ma.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Do(e,t.containerInfo)}var Qa,$a,Ya,Xa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(Fo,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$u(t,i,0,null),n=Qu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(a,s),null!==e?r=Hu(e,r):(r=Qu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Bo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&mi(),null;case 3:return Lo(),li(pi),li(di),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Go(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:jo(t);var o=Oo(Ro.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Oo(xo.current),Go(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":xr("cancel",r),xr("close",r);break;case"iframe":case"object":case"embed":xr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)xr(Ir[e],r);break;case"source":xr("error",r);break;case"img":case"image":case"link":xr("error",r),xr("load",r);break;case"details":xr("toggle",r);break;case"input":ee(r,s),xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xr("invalid",r);break;case"textarea":ue(r,s),xr("invalid",r)}for(var c in Te(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&xr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qa(e,t),t.stateNode=e,c=ke(n,r),n){case"dialog":xr("cancel",e),xr("close",e),o=r;break;case"iframe":case"object":case"embed":xr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)xr(Ir[o],e);o=r;break;case"source":xr("error",e),o=r;break;case"img":case"image":case"link":xr("error",e),xr("load",e),o=r;break;case"details":xr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),xr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),xr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),xr("invalid",e);break;default:o=r}Te(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?Ee(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&xr("scroll",e):null!=f&&_(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Oo(Ro.current),Oo(xo.current),Go(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Go(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Os||0===(134217727&qs)&&0===(134217727&Bs)||mu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Lo(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Fo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Uo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Hs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Uo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Bo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fo.current,fi(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return Su(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Lo(),li(pi),li(di),Yo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return jo(e),null;case 13:return li(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fo),null;case 4:return Lo(),null;case 10:return ro(e),null;case 23:case 24:return Su(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Oo(xo.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Te(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&xr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function gs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(a(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ti&&"function"===typeof Ti.onCommitFiberUnmount)try{Ti.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(t,n);else{r=t;try{i()}catch(o){Vu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vu(t,o)}break;case 5:vs(t);break;case 4:ks(e,t)}}function _s(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):Ts(e,n,t)}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function ks(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?me(n,u):_(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=zi(),ms(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(a(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ns(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,xs=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Rs=0,Os=null,Ds=null,Ls=0,Ms=0,js=ci(0),Fs=0,Us=null,Vs=0,qs=0,Bs=0,zs=0,Ks=null,Ws=0,Hs=1/0;function Gs(){Hs=zi()+500}var Qs,$s=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Rs)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===uu&&(uu=Vs),0!==Yi.transition){0!==cu&&(cu=null!==Ks?Ks.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Rs)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Os&&(Bs|=t,4===Fs&&mu(e,Ls));var r=Ki();1===t?0!==(8&Rs)&&0===(48&Rs)?bu(e):(gu(e,n),0===Rs&&(Gs(),Qi())):(0===(4&Rs)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),gu(e,n)),Ks=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Kt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Os?Ls:0),t=Mt,0===r)null!==n&&(n!==ji&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ci(n)}15===t?(n=bu.bind(null,e),null===Ui?(Ui=[n],Vi=Ii(Ri,$i)):Ui.push(n),n=ji):14===t?n=Gi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Rs))throw Error(a(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var o=Iu();for(Os===e&&Ls===r||(Gs(),Tu(e,r));;)try{Au();break}catch(u){ku(e,u)}if(no(),xs.current=o,Rs=i,null!==Ds?r=0:(Os=null,Ls=0,r=Fs),0!==(Vs&Bs))Tu(e,0);else if(0!==r){if(2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Cu(e,n))),1===r)throw t=Us,Tu(e,0),mu(e,n),gu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ru(e);break;case 3:if(mu(e,n),(62914560&n)===n&&10<(r=Ws+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ru.bind(null,e),r);break}Ru(e);break;case 4:if(mu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Kt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Wr(Ru.bind(null,e),n);break}Ru(e);break;default:throw Error(a(329))}}return gu(e,zi()),e.callbackNode===t?yu.bind(null,e):null}function mu(e,t){for(t&=~zs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Rs))throw Error(a(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Cu(e,t);0!==(Vs&Bs)&&(n=Cu(e,t=Ft(e,t)))}else n=Cu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Cu(e,t))),1===n)throw n=Us,Tu(e,0),mu(e,t),gu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e),gu(e,zi()),null}function _u(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Qi())}}function wu(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Qi())}}function Eu(e,t){fi(js,Ms),Ms|=t,Vs|=t}function Su(){Ms=js.current,li(js)}function Tu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Lo(),li(pi),li(di),Yo();break;case 5:jo(r);break;case 4:Lo();break;case 13:case 19:li(Fo);break;case 10:ro(r);break;case 23:case 24:Su()}n=n.return}Os=e,Ds=Hu(e.current,null),Ls=Ms=Vs=t,Fs=0,Us=null,zs=Bs=qs=0}function ku(e,t){for(;;){var n=Ds;try{if(no(),Xo.current=Ra,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Zo=0,na=ta=ea=null,ia=!1,Ps.current=null,null===n||null===n.return){Fs=1,Us=t,Ds=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var g=h.updateQueue;if(null===g){var y=new Set;y.add(c),h.updateQueue=y}else g.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=lo(-1,1);m.tag=2,fo(s,m)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var _=qu.bind(null,o,c,s);c.then(_,_)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,hs(0,o,t));break e;case 1:o=u;var w=h.type,E=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Js||!Js.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ds(h,o,t));break e}}h=h.return}while(null!==h)}Pu(n)}catch(S){t=S,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Iu(){var e=xs.current;return xs.current=Ra,null===e?Ra:e}function Cu(e,t){var n=Rs;Rs|=16;var r=Iu();for(Os===e&&Ls===t||Tu(e,t);;)try{Nu();break}catch(i){ku(e,i)}if(no(),Rs=n,xs.current=r,null!==Ds)throw Error(a(261));return Os=null,Ls=0,Fs}function Nu(){for(;null!==Ds;)xu(Ds)}function Au(){for(;null!==Ds&&!Ni();)xu(Ds)}function xu(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Pu(e):Ds=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ru(e){var t=Ki();return Hi(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&Rs))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Kt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ds=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,Ps.current=null,qr=$t,yr(s=gr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(I){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,g=s,y=null;t:for(;;){for(var m;g!==u||0!==o&&3!==g.nodeType||(h=f+o),g!==c||0!==l&&3!==g.nodeType||(d=f+l),3===g.nodeType&&(f+=g.nodeValue.length),null!==(m=g.firstChild);)y=g,g=m;for(;;){if(g===s)break t;if(y===u&&++p===o&&(h=f),y===c&&++v===l&&(d=f),null!==(m=g.nextSibling))break;y=(g=y).parentNode}g=m}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},$t=!1,lu=null,fu=!1,$s=r;do{try{Du()}catch(I){if(null===$s)throw Error(a(330));Vu($s,I),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&me($s.stateNode,""),128&b){var _=$s.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:Es($s),$s.flags&=-3;break;case 6:Es($s),$s.flags&=-3,Is($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Is($s.alternate,$s);break;case 4:Is($s.alternate,$s);break;case 8:ks(s,u=$s);var E=u.alternate;_s(u),null!==E&&_s(E)}$s=$s.nextEffect}}catch(I){if(null===$s)throw Error(a(330));Vu($s,I),$s=$s.nextEffect}}while(null!==$s);if(w=Br,_=gr(),b=w.focusedElem,s=w.selectionRange,_!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&yr(b)&&(_=s.start,void 0===(w=s.end)&&(w=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(w,b.value.length)):(w=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!w.extend&&E>s&&(u=s,s=E,E=u),u=pr(b,E),o=pr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((_=_.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),E>s?(w.addRange(_),w.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),w.addRange(_))))),_=[];for(w=b;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(w=_[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!qr,Br=qr=null,e.current=n,$s=r;do{try{for(b=e;null!==$s;){var S=$s.flags;if(36&S&&ys(b,$s.alternate,$s),128&S){_=void 0;var T=$s.ref;if(null!==T){var k=$s.stateNode;$s.tag,_=k,"function"===typeof T?T(_):T.current=_}}$s=$s.nextEffect}}catch(I){if(null===$s)throw Error(a(330));Vu($s,I),$s=$s.nextEffect}}while(null!==$s);$s=null,Fi(),Rs=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((S=$s).sibling=null,S.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ti&&"function"===typeof Ti.onCommitFiberRoot)try{Ti.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(I){}if(gu(e,zi()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&Rs)||Qi(),null}function Du(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(fu=!0):13===$s.tag&&Ns(e,$s)&&et($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&gs(e,$s),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),$s=$s.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Hi(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function ju(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Rs))throw Error(a(331));var t=Rs;Rs|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Vu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Vu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Rs=t,Qi(),!0}function Uu(e,t,n){fo(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(zt(e,1,t),gu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fo(n,i),i=hu(),null!==(n=vu(n,1)))zt(n,1,i),gu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function qu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===Fs||3===Fs&&(62914560&Ls)===Ls&&500>zi()-Ws?Tu(e,0):zs|=n),gu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===uu&&(uu=Vs),0===(t=qt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(zt(e,t,n),gu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ku(e,t,n,r){return new zu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return Qu(n.children,i,o,t);case M:s=8,i|=16;break;case k:s=8,i|=1;break;case I:return(e=Ku(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case x:return(e=Ku(13,n,t,i)).type=x,e.elementType=x,e.lanes=o,e;case P:return(e=Ku(19,n,t,i)).elementType=P,e.lanes=o,e;case j:return $u(n,i,o,t);case F:return(e=Ku(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case N:s=9;break e;case A:s=11;break e;case R:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ku(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Qu(e,t,n,r){return(e=Ku(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Ku(23,e,r,t)).elementType=j,e.lanes=n,e}function Yu(e,t,n){return(e=Ku(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=hu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=_i(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),pu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Ku(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}wu((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)ja=!0;else{if(0===(n&r)){switch(ja=!1,t.tag){case 3:Ga(t),Qo();break;case 5:Mo(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(fi(Fo,1&Fo.current),null!==(t=os(e,t,n))?t.sibling:null);fi(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ba(e,t,n)}return os(e,t,n)}ja=0!==(16384&e.flags)}else ja=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,di.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&yo(t,r,s,e),i.updater=mo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Ka(null,t,i,e,n);break e;case 1:t=Wa(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=Va(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ka(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Qo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(qo=Qr(t.stateNode.containerInfo.firstChild),Vo=t,o=Bo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=No(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Qo();t=t.child}return t;case 5:return Mo(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Kr(r,i)?s=null:null!==o&&Kr(r,o)&&(t.flags|=16),za(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Ja(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,fo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Va(e,t,i,o=Xi(i.type,o),r,n);case 15:return qa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,oo(t,n),_o(t,r,i),Eo(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Ba(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Oe=_u,De=function(e,t,n,r,i){var o=Rs;Rs|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Rs=o)&&(Gs(),Qi())}},Le=function(){0===(49&Rs)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gu(e,zi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,oi,Pe,Re,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Si=fc.inject(lc),Ti=fc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Rs;if(0!==(48&n))return e(t);Rs|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Rs=n,Qi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(wu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=_u,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=m.prototype=new y;b.constructor=m,r(b,g.prototype),b.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+I(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=C(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+I(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function P(){var e=x.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new N(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return x()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function g(){}function y(){}function m(){}var b={};u(b,o,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(A([])));w&&w!==n&&r.call(w,o)&&(b=w);var E=m.prototype=g.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:x}}function x(){return{value:t,done:!0}}return y.prototype=m,u(E,"constructor",m),u(m,"constructor",y),y.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},S(T.prototype),u(T.prototype,a,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new T(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(E),u(E,s,"Generator"),u(E,o,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,y=-1,m=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,w=_.port2;_.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+m;try{g(!0,e)?w.postMessage(null):(v=!1,g=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){g=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>k(a,n))void 0!==u&&0>k(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>k(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],C=[],N=1,A=null,x=3,P=!1,R=!1,O=!1;function D(e){for(var t=S(C);null!==t;){if(null===t.callback)T(C);else{if(!(t.startTime<=e))break;T(C),t.sortIndex=t.expirationTime,E(I,t)}t=S(C)}}function L(e){if(O=!1,D(e),!R)if(null!==S(I))R=!0,n(M);else{var t=S(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,O&&(O=!1,i()),P=!0;var o=x;try{for(D(n),A=S(I);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=A.callback;if("function"===typeof a){A.callback=null,x=A.priorityLevel;var s=a(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===S(I)&&T(I),D(n)}else T(I);A=S(I)}if(null!==A)var u=!0;else{var c=S(C);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{A=null,x=o,P=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||P||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return S(I)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:N++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(C,e),null===S(I)&&e===S(C)&&(O?i():O=!0,r(L,a-s))):(e.sortIndex=u,E(I,e),R||P||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".88894983.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="ordle:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ordle/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkordle=self.webpackChunkordle||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n(164);function r(e){if(Array.isArray(e))return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return r(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||o(e,t)||a()}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var c,l=c||(c={});l.Pop="POP",l.Push="PUSH",l.Replace="REPLACE";var f=function(e){return e};function h(e){e.preventDefault(),e.returnValue=""}function d(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function p(){return Math.random().toString(36).substr(2,8)}function v(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function g(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function y(e,t){if(!e)throw new Error(t)}var m=(0,e.createContext)(null);var b=(0,e.createContext)(null);var _=(0,e.createContext)({outlet:null,matches:[]});function w(t){return function(t){var n=(0,e.useContext)(_).outlet;if(n)return(0,e.createElement)(A.Provider,{value:t},n);return n}(t.context)}function E(e){y(!1)}function S(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,o=void 0===i?null:i,a=t.location,s=t.navigationType,u=void 0===s?c.Pop:s,l=t.navigator,f=t.static,h=void 0!==f&&f;I()&&y(!1);var d=z(r),p=(0,e.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof a&&(a=g(a));var v=a,_=v.pathname,w=void 0===_?"/":_,E=v.search,S=void 0===E?"":E,T=v.hash,k=void 0===T?"":T,C=v.state,N=void 0===C?null:C,A=v.key,x=void 0===A?"default":A,P=(0,e.useMemo)((function(){var e=q(w,d);return null==e?null:{pathname:e,search:S,hash:k,state:N,key:x}}),[d,w,S,k,N,x]);return null==P?null:(0,e.createElement)(m.Provider,{value:p},(0,e.createElement)(b.Provider,{children:o,value:{location:P,navigationType:u}}))}function T(t){var n=t.children,r=t.location;return function(t,n){I()||y(!1);var r=(0,e.useContext)(_).matches,i=r[r.length-1],o=i?i.params:{},a=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=C();if(n){var c,l="string"===typeof n?g(n):n;"/"===a||(null==(c=l.pathname)?void 0:c.startsWith(a))||y(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===a?f:f.slice(a.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=q(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=O(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=j(i[a],r);return o}(t,{pathname:h});0;return F(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:B([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:B([a,e.pathnameBase])})})),r)}(R(n),r)}function k(t){I()||y(!1);var n=(0,e.useContext)(m),r=n.basename,i=n.navigator,o=P(t),a=o.hash,s=o.pathname,u=o.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(t),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):B([r,s])}return i.createHref({pathname:c,search:u,hash:a})}function I(){return null!=(0,e.useContext)(b)}function C(){return I()||y(!1),(0,e.useContext)(b).location}function N(){I()||y(!1);var t=(0,e.useContext)(m),n=t.basename,r=t.navigator,i=(0,e.useContext)(_).matches,o=C().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);(0,e.useEffect)((function(){s.current=!0}));var u=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=V(e,JSON.parse(a),o);"/"!==n&&(i.pathname=B([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,a,o]);return u}var A=(0,e.createContext)(null);function x(){var t=(0,e.useContext)(_).matches,n=t[t.length-1];return n?n.params:{}}function P(t){var n=(0,e.useContext)(_).matches,r=C().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return V(t,JSON.parse(i),r)}),[t,i,r])}function R(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==E&&y(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=R(t.props.children)),n.push(r)}else n.push.apply(n,R(t.props.children))})),n}function O(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||y(!1),o.relativePath=o.relativePath.slice(r.length));var a=B([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&y(!1),O(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:M(a,e.index),routesMeta:s})})),t}var D=/^:\w+$/,L=function(e){return"*"===e};function M(e,t){var n=e.split("/"),r=n.length;return n.some(L)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!L(e)})).reduce((function(e,t){return e+(D.test(t)?3:""===t?1:10)}),r)}function j(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=U({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;o.push({params:r,pathname:B([i,l.pathname]),pathnameBase:B([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=B([i,l.pathnameBase]))}return o}function F(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,o){return(0,e.createElement)(_.Provider,{children:void 0!==i.route.element?i.route.element:(0,e.createElement)(w,null),value:{outlet:r,matches:n.concat(t.slice(0,o+1))}})}),null)}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var u=a[0],c=u.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(jc){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function V(e,t,n){var r,i="string"===typeof e?g(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:K(o),hash:W(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var B=function(e){return e.join("/").replace(/\/\/+/g,"/")},z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},K=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},W=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["onClick","reloadDocument","replace","state","target","to"];function $(t){var n=t.basename,r=t.children,i=t.window,o=(0,e.useRef)();null==o.current&&(o.current=function(e){function t(){var e=g(s.location.hash.substr(1)),t=e.pathname,n=e.search;e=e.hash;var r=l.state||{};return[r.idx,f({pathname:void 0===t?"/":t,search:void 0===n?"":n,hash:void 0===e?"":e,state:r.usr||null,key:r.key||"default"})]}function n(){if(y)E.call(y),y=null;else{var e=c.Pop,n=t(),r=n[0];if(n=n[1],E.length){if(null!=r){var i=b-r;i&&(y={action:e,location:n,retry:function(){a(-1*i)}},a(i))}}else o(e)}}function r(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=-1===(n=(t=s.location.href).indexOf("#"))?t:t.slice(0,n)),n+"#"+("string"===typeof e?e:v(e))}function i(e,t){return void 0===t&&(t=null),f(u({pathname:_.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:p()}))}function o(e){m=e,e=t(),b=e[0],_=e[1],w.call({action:m,location:_})}function a(e){l.go(e)}void 0===e&&(e={});var s=void 0===(e=e.window)?document.defaultView:e,l=s.history,y=null;s.addEventListener("popstate",n),s.addEventListener("hashchange",(function(){v(t()[1])!==v(_)&&n()}));var m=c.Pop,b=(e=t())[0],_=e[1],w=d(),E=d();return null==b&&(b=0,l.replaceState(u({},l.state,{idx:b}),"")),{get action(){return m},get location(){return _},createHref:r,push:function e(t,n){var a=c.Push,u=i(t,n);if(!E.length||(E.call({action:a,location:u,retry:function(){e(t,n)}}),0)){var f=[{usr:u.state,key:u.key,idx:b+1},r(u)];u=f[0],f=f[1];try{l.pushState(u,"",f)}catch(Th){s.location.assign(f)}o(a)}},replace:function e(t,n){var a=c.Replace,s=i(t,n);E.length&&(E.call({action:a,location:s,retry:function(){e(t,n)}}),1)||(s=[{usr:s.state,key:s.key,idx:b},r(s)],l.replaceState(s[0],"",s[1]),o(a))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return w.push(e)},block:function(e){var t=E.push(e);return 1===E.length&&s.addEventListener("beforeunload",h),function(){t(),E.length||s.removeEventListener("beforeunload",h)}}}}({window:i}));var a=o.current,l=s((0,e.useState)({action:a.action,location:a.location}),2),y=l[0],m=l[1];return(0,e.useLayoutEffect)((function(){return a.listen(m)}),[a]),(0,e.createElement)(S,{basename:n,children:r,location:y.location,navigationType:y.action,navigator:a})}var Y=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,o=t.replace,a=void 0!==o&&o,s=t.state,u=t.target,c=t.to,l=G(t,Q),f=k(c),h=function(t,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,s=N(),u=C(),c=P(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var n=!!o||v(u)===v(c);s(t,{replace:n,state:a})}}),[u,s,c,o,a,i,t])}(c,{replace:a,state:s,target:u});return(0,e.createElement)("a",H({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=n(184),te="ordle/storageVersion",ne=function(t){var n=t.children,r=s((0,e.useState)((function(){var e;return+(null!==(e=localStorage.getItem(te))&&void 0!==e?e:1)})),2),i=r[0],o=r[1];return(0,e.useEffect)((function(){Object.keys(localStorage).filter((function(e){return e.startsWith("ordle/")})).forEach((function(e){var t=localStorage.getItem(e);if(t){var n=function(){try{return JSON.parse(t)}catch(e){return[]}}();if(n&&0!==n.length&&Array.isArray(n)){var r=n.filter((function(e){return"string"===typeof e&&5===e.length})).reduce((function(e,t,n){return Z(Z({},e),{},X({},t,1e6+10*n))}),{});localStorage.setItem("backup/".concat(e),t),localStorage.setItem(e,JSON.stringify(r))}}})),o(2),localStorage.setItem(te,String(2))}),[i]),2!==i?null:(0,ee.jsx)(ee.Fragment,{children:n})};function re(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ie(e){return r(e)||re(e)||o(e)||a()}function oe(e){return function(e){if(Array.isArray(e))return i(e)}(e)||re(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function se(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(jc){return void n(jc)}s.done?t(u):Promise.resolve(u).then(r,i)}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}function ce(e,t){return ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ce(e,t)}function le(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(nk){return!1}}function fe(e,t,n){return fe=le()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ce(i,n.prototype),i},fe.apply(null,arguments)}function he(e){var t="function"===typeof Map?new Map:void 0;return he=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return fe(e,arguments,ue(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ce(n,e)},he(e)}function de(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ce(e,t)}function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function ye(e,t){if(t&&("object"===ge(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pe(e)}function me(e){var t=le();return function(){var n,r=ue(e);if(t){var i=ue(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ye(this,n)}}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t,n){return t&&_e(e.prototype,t),n&&_e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ee=n(757),Se=n.n(Ee),Te=["override"],ke=["default"],Ie=["cachePolicyForParams_UNSTABLE"],Ce=Se().mark($t),Ne=Se().mark(Zn);var Ae=function(e){var t=new Error(e);if(void 0===t.stack)try{throw t}catch(n){}return t},xe=Ae;var Pe=function(e){return!!e&&"function"===typeof e.then};var Re=function(e,t){if(null!=e)return e;throw xe(null!==t&&void 0!==t?t:"Got unexpected null or undefined")};function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(){function e(){be(this,e)}return we(e,[{key:"getValue",value:function(){throw xe("BaseLoadable")}},{key:"toPromise",value:function(){throw xe("BaseLoadable")}},{key:"valueMaybe",value:function(){throw xe("BaseLoadable")}},{key:"valueOrThrow",value:function(){throw xe('Loadable expected value, but in "'.concat(this.state,'" state'))}},{key:"promiseMaybe",value:function(){throw xe("BaseLoadable")}},{key:"promiseOrThrow",value:function(){throw xe('Loadable expected promise, but in "'.concat(this.state,'" state'))}},{key:"errorMaybe",value:function(){throw xe("BaseLoadable")}},{key:"errorOrThrow",value:function(){throw xe('Loadable expected error, but in "'.concat(this.state,'" state'))}},{key:"is",value:function(e){return e.state===this.state&&e.contents===this.contents}},{key:"map",value:function(e){throw xe("BaseLoadable")}}]),e}(),Le=function(e){ve(n,e);var t=me(n);function n(e){var r;return be(this,n),Oe(pe(r=t.call(this)),"state","hasValue"),Oe(pe(r),"contents",void 0),r.contents=e,r}return we(n,[{key:"getValue",value:function(){return this.contents}},{key:"toPromise",value:function(){return Promise.resolve(this.contents)}},{key:"valueMaybe",value:function(){return this.contents}},{key:"valueOrThrow",value:function(){return this.contents}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;try{var n=e(this.contents);return Pe(n)?Ve(n):Be(n)?n:Fe(n)}catch(nk){return Pe(nk)?Ve(nk.next((function(){return t.map(e)}))):Ue(nk)}}}]),n}(De),Me=function(e){ve(n,e);var t=me(n);function n(e){var r;return be(this,n),Oe(pe(r=t.call(this)),"state","hasError"),Oe(pe(r),"contents",void 0),r.contents=e,r}return we(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return Promise.reject(this.contents)}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){return this.contents}},{key:"errorOrThrow",value:function(){return this.contents}},{key:"map",value:function(e){return this}}]),n}(De),je=function(e){ve(n,e);var t=me(n);function n(e){var r;return be(this,n),Oe(pe(r=t.call(this)),"state","loading"),Oe(pe(r),"contents",void 0),r.contents=e,r}return we(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return this.contents}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){return this.contents}},{key:"promiseOrThrow",value:function(){return this.contents}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;return Ve(this.contents.then((function(t){var n=e(t);if(Be(n)){var r=n;switch(r.state){case"hasValue":case"loading":return r.contents;case"hasError":throw r.contents}}return n})).catch((function(n){if(Pe(n))return n.then((function(){return t.map(e).contents}));throw n})))}}]),n}(De);function Fe(e){return Object.freeze(new Le(e))}function Ue(e){return Object.freeze(new Me(e))}function Ve(e){return Object.freeze(new je(e))}function qe(e){var t=function(e){return e.every((function(e){return"hasValue"===e.state}))?Fe(e.map((function(e){return e.contents}))):e.some((function(e){return"hasError"===e.state}))?Ue(Re(e.find((function(e){return"hasError"===e.state})),"Invalid loadable passed to loadableAll").contents):Ve(Promise.all(e.map((function(e){return e.contents}))))}(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]})));return Array.isArray(e)?t:t.map((function(t){return Object.getOwnPropertyNames(e).reduce((function(e,n,r){return Z(Z({},e),{},X({},n,t[r]))}),{})}))}function Be(e){return e instanceof De}var ze={of:function(e){return Pe(e)?Ve(e):Fe(e)},error:function(e){return Ue(e)},all:qe,isLoadable:Be},Ke={loadableWithValue:Fe,loadableWithError:Ue,loadableWithPromise:Ve,loadableLoading:function(){return Object.freeze(new je(new Promise((function(){}))))},loadableAll:qe,isLoadable:Be,RecoilLoadable:ze},We=Ke.loadableWithValue,He=Ke.loadableWithError,Ge=Ke.loadableWithPromise,Qe=Ke.loadableLoading,$e=Ke.loadableAll,Ye=Ke.isLoadable,Xe=Ke.RecoilLoadable,Je=Object.freeze({__proto__:null,loadableWithValue:We,loadableWithError:He,loadableWithPromise:Ge,loadableLoading:Qe,loadableAll:$e,isLoadable:Ye,RecoilLoadable:Xe});var Ze,et=function(e){},tt=null!==(Ze=e.useMutableSource)&&void 0!==Ze?Ze:e.unstable_useMutableSource;var nt={mutableSourceExists:function(){return tt&&!("undefined"!==typeof window&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)},useMutableSource:tt},rt=nt.mutableSourceExists,it=(new Map).set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function ot(e){var t;return!("recoil_early_rendering_2021"===e&&!rt())&&(null!==(t=it.get(e))&&void 0!==t&&t)}ot.setPass=function(e){it.set(e,!0)},ot.setFail=function(e){it.set(e,!1)};var at=ot;var st=function(e,t){return Se().mark((function n(){var r,i,o,a;return Se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0,i=de(e),n.prev=2,i.s();case 4:if((o=i.n()).done){n.next=10;break}return a=o.value,n.next=8,t(a,r++);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),i.e(n.t0);case 15:return n.prev=15,i.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])}))()};var ut=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.error,null},ct=ut,lt=we((function e(t){be(this,e),Oe(this,"key",void 0),this.key=t})),ft=function(e){ve(n,e);var t=me(n);function n(){return be(this,n),t.apply(this,arguments)}return we(n)}(lt),ht=function(e){ve(n,e);var t=me(n);function n(){return be(this,n),t.apply(this,arguments)}return we(n)}(lt);var dt={AbstractRecoilValue:lt,RecoilState:ft,RecoilValueReadOnly:ht,isRecoilValue:function(e){return e instanceof ft||e instanceof ht}},pt=dt.AbstractRecoilValue,vt=dt.RecoilState,gt=dt.RecoilValueReadOnly,yt=dt.isRecoilValue,mt=Object.freeze({__proto__:null,AbstractRecoilValue:pt,RecoilState:vt,RecoilValueReadOnly:gt,isRecoilValue:yt}),bt=we((function e(){be(this,e)})),_t=new bt,wt=function(e){ve(n,e);var t=me(n);function n(e){return be(this,n),t.call(this,"Tried to set the value of Recoil selector ".concat(e," using an updater function, but it is an async selector in a pending or error state; this is not supported."))}return we(n)}(he(Error)),Et=new Map,St=new Map;var Tt=function(e){ve(n,e);var t=me(n);function n(){return be(this,n),t.apply(this,arguments)}return we(n)}(he(Error));var kt=new Map;function It(e){return kt.get(e)}var Ct={nodes:Et,recoilValues:St,registerNode:function(e){if(Et.has(e.key)){var t='Duplicate atom key "'.concat(e.key,'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.');console.warn(t)}Et.set(e.key,e);var n=null==e.set?new mt.RecoilValueReadOnly(e.key):new mt.RecoilState(e.key);return St.set(e.key,n),n},getNode:function(e){var t=Et.get(e);if(null==t)throw new Tt('Missing definition for RecoilValue: "'.concat(e,'""'));return t},getNodeMaybe:function(e){return Et.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(at("recoil_memory_managament_2020")){var n,r=Et.get(e);if(null===r||void 0===r||null===(t=r.shouldDeleteConfigOnRelease)||void 0===t?void 0:t.call(r))Et.delete(e),null===(n=It(e))||void 0===n||n(),kt.delete(e)}},setConfigDeletionHandler:function(e,t){at("recoil_memory_managament_2020")&&(void 0===t?kt.delete(e):kt.set(e,t))},getConfigDeletionHandler:It,recoilValuesForKeys:function(e){return st(e,(function(e){return Re(St.get(e))}))},NodeMissingError:Tt,DefaultValue:bt,DEFAULT_VALUE:_t,RecoilValueNotReady:wt};var Nt={enqueueExecution:function(e,t){t()}};var At=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,o=r/2,a=r/4,s={},u=function(e){return function(){return e}},c=n.hash=function(e){var n="undefined"===typeof e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,o=e.length;i<o;++i){r=(r<<5)-r+e.charCodeAt(i)|0}return r},l=function(e,t){return t>>>e&i},f=function(e){return 1<<e},h=function(e,t){return function(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&e+(e>>16)}(e&t-1)},d=function(e,t,n,r){var i=r;if(!e){var o=r.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=r[a]}return i[t]=n,i},p=function(e,t,n){var r=n.length-1,i=0,o=0,a=n;if(e)i=o=t;else for(a=new Array(r);i<t;)a[o++]=n[i++];for(++i;i<=r;)a[o++]=n[i++];return e&&(a.length=r),a},v={__hamt_isEmpty:!0},g=function(e){return e===v||e&&e.__hamt_isEmpty},y=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:S}},m=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:T}},b=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:k}},_=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:I}},w=function e(t,n,r,i,o,a){if(r===o)return m(t,r,[a,i]);var s=l(n,r),u=l(n,o);return b(t,f(s)|f(u),s===u?[e(t,n+5,r,i,o,a)]:s<u?[i,a]:[a,i])},E=function(e,t){return e===t.edit},S=function(e,t,n,r,i,o,a){if(t(o,this.key)){var u=r(this.value);return u===this.value?this:u===s?(--a.value,v):E(e,this)?(this.value=u,this):y(e,i,o,u)}var c=r();return c===s?this:(++a.value,w(e,n,this.hash,this,i,y(e,i,o,c)))},T=function(e,t,n,r,i,o,a){if(i===this.hash){var u=function(e,t,n,r,i,o,a,u){for(var c=i.length,l=0;l<c;++l){var f=i[l];if(n(a,f.key)){var h=f.value,v=o(h);return v===h?i:v===s?(--u.value,p(e,l,i)):d(e,l,y(t,r,a,v),i)}}var g=o();return g===s?i:(++u.value,d(e,c,y(t,r,a,g),i))}(E(e,this),e,t,this.hash,this.children,r,o,a);return u===this.children?this:u.length>1?m(e,this.hash,u):u[0]}var c=r();return c===s?this:(++a.value,w(e,n,this.hash,this,i,y(e,i,o,c)))},k=function(e,t,n,r,i,a,s){var u=this.mask,c=this.children,y=l(n,i),m=f(y),w=h(u,m),S=u&m,T=S?c[w]:v,k=T._modify(e,t,n+5,r,i,a,s);if(T===k)return this;var I,C=E(e,this),N=u,A=void 0;if(S&&g(k)){if(!(N&=~m))return v;if(c.length<=2&&((I=c[1^w])===v||1===I.type||2===I.type))return c[1^w];A=p(C,w,c)}else if(S||g(k))A=d(C,w,k,c);else{if(c.length>=o)return function(e,t,n,r,i){for(var o=[],a=r,s=0,u=0;a;++u)1&a&&(o[u]=i[s++]),a>>>=1;return o[t]=n,_(e,s+1,o)}(e,y,k,u,c);N|=m,A=function(e,t,n,r){var i=r.length;if(e){for(var o=i;o>=t;)r[o--]=r[o];return r[t]=n,r}for(var a=0,s=0,u=new Array(i+1);a<t;)u[s++]=r[a++];for(u[t]=n;a<i;)u[++s]=r[a++];return u}(C,w,k,c)}return C?(this.mask=N,this.children=A,this):b(e,N,A)},I=function(e,t,n,r,i,o,s){var u=this.size,c=this.children,f=l(n,i),h=c[f],p=(h||v)._modify(e,t,n+5,r,i,o,s);if(h===p)return this;var y=E(e,this),m=void 0;if(g(h)&&!g(p))++u,m=d(y,f,p,c);else if(!g(h)&&g(p)){if(--u<=a)return function(e,t,n,r){for(var i=new Array(t-1),o=0,a=0,s=0,u=r.length;s<u;++s)if(s!==n){var c=r[s];c&&!g(c)&&(i[o++]=c,a|=1<<s)}return b(e,a,i)}(e,u,f,c);m=d(y,f,v,c)}else m=d(y,f,p,c);return y?(this.size=u,this.children=m,this):_(e,u,m)};function C(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}v._modify=function(e,t,n,r,i,o,a){var u=r();return u===s?v:(++a.value,y(e,i,o,u))},C.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new C(this._editable,this._edit,this._config,e,t)};var N=n.tryGetHash=function(e,t,n,r){for(var i=r._root,o=0,a=r._config.keyEq;;)switch(i.type){case 1:return a(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var s=i.children,u=0,c=s.length;u<c;++u){var d=s[u];if(a(n,d.key))return d.value}return e;case 3:var p=l(o,t),v=f(p);if(i.mask&v){i=i.children[h(i.mask,v)],o+=5;break}return e;case 4:if(i=i.children[l(o,t)]){o+=5;break}return e;default:return e}};C.prototype.tryGetHash=function(e,t,n){return N(e,t,n,this)};var A=n.tryGet=function(e,t,n){return N(e,n._config.hash(t),t,n)};C.prototype.tryGet=function(e,t){return A(e,t,this)};var x=n.getHash=function(e,t,n){return N(void 0,e,t,n)};C.prototype.getHash=function(e,t){return x(e,t,this)};n.get=function(e,t){return N(void 0,t._config.hash(e),e,t)};C.prototype.get=function(e,t){return A(t,e,this)};var P=n.has=function(e,t,n){return N(s,e,t,n)!==s};C.prototype.hasHash=function(e,t){return P(e,t,this)};var R=n.has=function(e,t){return P(t._config.hash(e),e,t)};C.prototype.has=function(e){return R(e,this)};var O=function(e,t){return e===t};n.make=function(e){return new C(0,0,{keyEq:e&&e.keyEq||O,hash:e&&e.hash||c},v,0)},n.empty=n.make();var D=n.isEmpty=function(e){return e&&!!g(e._root)};C.prototype.isEmpty=function(){return D(this)};var L=n.modifyHash=function(e,t,n,r){var i={value:r._size},o=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(o,i.value)};C.prototype.modifyHash=function(e,t,n){return L(n,e,t,this)};var M=n.modify=function(e,t,n){return L(e,n._config.hash(t),t,n)};C.prototype.modify=function(e,t){return M(t,e,this)};var j=n.setHash=function(e,t,n,r){return L(u(n),e,t,r)};C.prototype.setHash=function(e,t,n){return j(e,t,n,this)};var F=n.set=function(e,t,n){return j(n._config.hash(e),e,t,n)};C.prototype.set=function(e,t){return F(e,t,this)};var U=u(s),V=n.removeHash=function(e,t,n){return L(U,e,t,n)};C.prototype.removeHash=C.prototype.deleteHash=function(e,t){return V(e,t,this)};var q=n.remove=function(e,t){return V(t._config.hash(e),e,t)};C.prototype.remove=C.prototype.delete=function(e){return q(e,this)};var B=n.beginMutation=function(e){return new C(e._editable+1,e._edit+1,e._config,e._root,e._size)};C.prototype.beginMutation=function(){return B(this)};var z=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};C.prototype.endMutation=function(){return z(this)};var K=n.mutate=function(e,t){var n=B(t);return e(n),z(n)};C.prototype.mutate=function(e){return K(e,this)};var W=function(e){return e&&H(e[0],e[1],e[2],e[3],e[4])},H=function(e,t,n,r,i){for(;n<e;){var o=t[n++];if(o&&!g(o))return G(o,r,[e,t,n,r,i])}return W(i)},G=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return H(r.length,r,0,t,n);default:return W(n)}},Q={done:!0};function $(e){this.v=e}$.prototype.next=function(){if(!this.v)return Q;var e=this.v;return this.v=W(e.rest),e},$.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new $(G(e._root,t))},X=function(e){return[e.key,e.value]},J=n.entries=function(e){return Y(e,X)};C.prototype.entries=C.prototype[Symbol.iterator]=function(){return J(this)};var Z=function(e){return e.key},ee=n.keys=function(e){return Y(e,Z)};C.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=C.prototype.values=function(e){return Y(e,te)};C.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],o=void 0;o=i.pop();)for(var a=0,s=o.length;a<s;){var u=o[a++];u&&u.type&&(1===u.type?t=e(t,u.value,u.key):i.push(u.children))}return t};C.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};C.prototype.forEach=function(e){return ie(e,this)};var oe=n.count=function(e){return e._size};C.prototype.count=function(){return oe(this)},Object.defineProperty(C.prototype,"size",{get:C.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n})),xt=function(){function e(t){be(this,e),Oe(this,"_map",void 0),this._map=new Map(null===t||void 0===t?void 0:t.entries())}return we(e,[{key:"keys",value:function(){return this._map.keys()}},{key:"entries",value:function(){return this._map.entries()}},{key:"get",value:function(e){return this._map.get(e)}},{key:"has",value:function(e){return this._map.has(e)}},{key:"set",value:function(e,t){return this._map.set(e,t),this}},{key:"delete",value:function(e){return this._map.delete(e),this}},{key:"clone",value:function(){return Rt(this)}},{key:"toMap",value:function(){return new Map(this._map)}}]),e}(),Pt=function(){function e(t){if(be(this,e),Oe(this,"_hamt",At.empty.beginMutation()),t instanceof e){var n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t){var r,i=de(t.entries());try{for(i.s();!(r=i.n()).done;){var o=s(r.value,2),a=o[0],u=o[1];this._hamt.set(a,u)}}catch(c){i.e(c)}finally{i.f()}}}return we(e,[{key:"keys",value:function(){return this._hamt.keys()}},{key:"entries",value:function(){return this._hamt.entries()}},{key:"get",value:function(e){return this._hamt.get(e)}},{key:"has",value:function(e){return this._hamt.has(e)}},{key:"set",value:function(e,t){return this._hamt.set(e,t),this}},{key:"delete",value:function(e){return this._hamt.delete(e),this}},{key:"clone",value:function(){return Rt(this)}},{key:"toMap",value:function(){return new Map(this._hamt)}}]),e}();function Rt(e){return at("recoil_hamt_2020")?new Pt(e):new xt(e)}var Ot=Rt;var Dt=function(e){for(var t=new Set,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o,a=de(e);try{e:for(a.s();!(o=a.n()).done;){var s,u=o.value,c=de(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(l.has(u))continue e}}catch(f){c.e(f)}finally{c.f()}t.add(u)}}catch(f){a.e(f)}finally{a.f()}return t};var Lt=function(e,t){var n=new Map;return e.forEach((function(e,r){n.set(r,t(e,r))})),n};function Mt(e,t,n){var r=t.nodeDeps,i=t.nodeToNodeSubscriptions;e.forEach((function(e,t){var o=r.get(t);o&&n&&o!==n.nodeDeps.get(t)||(r.set(t,new Set(e)),(null==o?e:Dt(e,o)).forEach((function(e){i.has(e)||i.set(e,new Set),Re(i.get(e)).add(t)})),o&&Dt(o,e).forEach((function(e){if(i.has(e)){var n=Re(i.get(e));n.delete(t),0===n.size&&i.delete(e)}})))}))}var jt=function(e){return{nodeDeps:Lt(e.nodeDeps,(function(e){return new Set(e)})),nodeToNodeSubscriptions:Lt(e.nodeToNodeSubscriptions,(function(e){return new Set(e)}))}},Ft=function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},Ut=function(e,t,n){var r,i,o,a,s=t.getState();n!==s.currentTree.version&&n!==(null===(r=s.nextTree)||void 0===r?void 0:r.version)&&n!==(null===(i=s.previousTree)||void 0===i?void 0:i.version)&&ct("Tried to save dependencies to a discarded tree");var u=t.getGraph(n);if(Mt(e,u),n===(null===(o=s.previousTree)||void 0===o?void 0:o.version)&&Mt(e,t.getGraph(s.currentTree.version),u),n===(null===(a=s.previousTree)||void 0===a?void 0:a.version)||n===s.currentTree.version){var c,l=null===(c=s.nextTree)||void 0===c?void 0:c.version;if(void 0!==l)Mt(e,t.getGraph(l),u)}},Vt=Object.freeze({__proto__:null,persistentMap:Ot}).persistentMap,qt=Ft,Bt=0,zt=function(){return Bt++};function Kt(){var e=zt();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Vt(),nonvalidatedAtoms:Vt()}}var Wt=function(){var e=Kt();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,qt()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},Ht=zt;var Gt=function(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a,s=o[i],u=de(s);try{for(u.s();!(a=u.n()).done;){var c=a.value;e.add(c)}}catch(l){u.e(l)}finally{u.f()}}return e};var Qt=function(e,t){var n=new Set(e);return n.add(t),n};function $t(e,t){var n,r,i,o;return Se().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=0,r=de(e),a.prev=2,r.s();case 4:if((i=r.n()).done){a.next=11;break}if(o=i.value,!t(o,n++)){a.next=9;break}return a.next=9,o;case 9:a.next=4;break;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(2),r.e(a.t0);case 16:return a.prev=16,r.f(),a.finish(16);case 19:case"end":return a.stop()}}),Ce,null,[[2,13,16,19]])}var Yt=$t,Xt=we((function e(){be(this,e)}));var Jt={RetentionZone:Xt,retentionZone:function(){return new Xt}},Zt=Qt,en=Ct.getNode,tn=Ct.getNodeMaybe,nn=Ct.recoilValuesForKeys,rn=Jt.RetentionZone,on=Object.freeze(new Set),an=function(e){ve(n,e);var t=me(n);function n(){return be(this,n),t.apply(this,arguments)}return we(n)}(he(Error));function sn(e,t,n,r){var i=e.getState();if(!i.nodeCleanupFunctions.has(n)){var o=en(n),a=function(e,t,n){if(!at("recoil_memory_managament_2020"))return function(){};var r=e.getState().retention.nodesRetainedByZone;function i(e){var n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof rn)i(n);else if(Array.isArray(n)){var o,a=de(n);try{for(a.s();!(o=a.n()).done;)i(o.value)}catch(s){a.e(s)}finally{a.f()}}return function(){if(at("recoil_memory_managament_2020")){var r=e.getState().retention.nodesRetainedByZone;if(n instanceof rn)a(n);else if(Array.isArray(n)){var i,o=de(n);try{for(o.s();!(i=o.n()).done;)a(i.value)}catch(s){o.e(s)}finally{o.f()}}}function a(e){var n=r.get(e);n&&n.delete(t),n&&0===n.size&&r.delete(e)}}}(e,n,o.retainedBy),s=o.init(e,t,r);i.nodeCleanupFunctions.set(n,(function(){s(),a()}))}}function un(e,t,n){return en(n).peek(e,t)}function cn(e,t,n){for(var r=new Set,i=Array.from(n),o=e.getGraph(t.version),a=i.pop();a;a=i.pop()){var s;r.add(a);var u,c=de(null!==(s=o.nodeToNodeSubscriptions.get(a))&&void 0!==s?s:on);try{for(c.s();!(u=c.n()).done;){var l=u.value;r.has(l)||i.push(l)}}catch(f){c.e(f)}finally{c.f()}}return r}var ln=function(e,t,n){return sn(e,t,n,"get"),en(n).get(e,t)},fn=un,hn=function(e,t,n,r){var i=en(n);if(null==i.set)throw new an("Attempt to set read-only RecoilValue: ".concat(n));var o=i.set;return sn(e,t,n,"set"),o(e,t,r)},dn=function(e,t){var n,r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},pn=function(e,t,n){var r,i=tn(t);return null===i||void 0===i||null===(r=i.invalidate)||void 0===r||r.call(i,e),Z(Z({},e),{},{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:Zt(e.dirtyAtoms,t)})},vn=function(e,t,n){var r,i,o,a=e.getState(),u=e.getGraph(t.version),c=a.knownAtoms.has(n)?"atom":a.knownSelectors.has(n)?"selector":void 0,l=Yt(cn(e,t,new Set([n])),(function(e){return e!==n}));return{loadable:un(e,t,n),isActive:a.knownAtoms.has(n)||a.knownSelectors.has(n),isSet:"selector"!==c&&t.atomValues.has(n),isModified:t.dirtyAtoms.has(n),type:c,deps:nn(null!==(r=u.nodeDeps.get(n))&&void 0!==r?r:[]),subscribers:{nodes:nn(l),components:st(null!==(i=null===(o=a.nodeToComponentSubscriptions.get(n))||void 0===o?void 0:o.values())&&void 0!==i?i:[],(function(e){return{name:s(e,1)[0]}}))}}},gn=cn,yn=sn,mn=gn,bn=ln,_n=hn,wn=Ct.getNodeMaybe,En=Ct.DefaultValue,Sn=Ct.RecoilValueNotReady,Tn=mt.AbstractRecoilValue,kn=mt.RecoilState,In=mt.RecoilValueReadOnly,Cn=mt.isRecoilValue;function Nn(e,t,n){if("set"===n.type){var r,i=n.recoilValue,o=function(e,t,n,r){var i=n.key;if("function"===typeof r){var o=bn(e,t,i);if("loading"===o.state)throw new Sn(i);if("hasError"===o.state)throw o.contents;return r(o.contents)}return r}(e,t,i,n.valueOrUpdater),a=de(_n(e,t,i.key,o).entries());try{for(a.s();!(r=a.n()).done;){var u=s(r.value,2);An(t,u[0],u[1])}}catch(p){a.e(p)}finally{a.f()}}else if("setLoadable"===n.type){An(t,n.recoilValue.key,n.loadable)}else if("markModified"===n.type){var c=n.recoilValue.key;t.dirtyAtoms.add(c)}else if("setUnvalidated"===n.type){var l,f=n.recoilValue.key,h=n.unvalidatedValue,d=wn(f);null===d||void 0===d||null===(l=d.invalidate)||void 0===l||l.call(d,t),t.atomValues.delete(f),t.nonvalidatedAtoms.set(f,h),t.dirtyAtoms.add(f)}else ct("Unknown action ".concat(n.type))}function An(e,t,n){"hasValue"===n.state&&n.contents instanceof En?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function xn(e,t){e.replaceState((function(n){var r,i=On(n),o=de(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;Nn(e,i,a)}}catch(s){o.e(s)}finally{o.f()}return Dn(e,i),i}))}function Pn(e,t){if(Rn.length){var n=Rn[Rn.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else xn(e,[t])}var Rn=[];function On(e){return Z(Z({},e),{},{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function Dn(e,t){var n,r=de(mn(e,t,t.dirtyAtoms));try{for(r.s();!(n=r.n()).done;){var i,o,a=n.value;null===(i=wn(a))||void 0===i||null===(o=i.invalidate)||void 0===o||o.call(i,t)}}catch(s){r.e(s)}finally{r.f()}}function Ln(e,t,n){Pn(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var Mn=0;var jn={RecoilValueReadOnly:In,AbstractRecoilValue:Tn,RecoilState:kn,getRecoilValueAsLoadable:function(e,t){var n,r,i=t.key,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getState().currentTree,a=e.getState();o.version!==a.currentTree.version&&o.version!==(null===(n=a.nextTree)||void 0===n?void 0:n.version)&&o.version!==(null===(r=a.previousTree)||void 0===r?void 0:r.version)&&ct("Tried to read from a discarded tree");var s=bn(e,o,i);return"loading"===s.state&&s.contents.catch((function(){})),s},setRecoilValue:Ln,setRecoilValueLoadable:function(e,t,n){if(n instanceof En)return Ln(e,t,n);Pn(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){Pn(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){Pn(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,t,n){var r=t.key,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=Mn++,a=e.getState();if(a.nodeToComponentSubscriptions.has(r)||a.nodeToComponentSubscriptions.set(r,new Map),Re(a.nodeToComponentSubscriptions.get(r)).set(o,[null!==i&&void 0!==i?i:"<not captured>",n]),at("recoil_early_rendering_2021")){var s=e.getState().nextTree;s&&s.dirtyAtoms.has(r)&&n(s)}return{release:function(){var t=e.getState(),n=t.nodeToComponentSubscriptions.get(r);void 0!==n&&n.has(o)?(n.delete(o),0===n.size&&t.nodeToComponentSubscriptions.delete(r)):ct("Subscription missing at release time for atom ".concat(r,". This is a bug in Recoil."))}}},isRecoilValue:Cn,applyAtomValueWrites:function(e,t){var n=e.clone();return t.forEach((function(e,t){"hasValue"===e.state&&e.contents instanceof En?n.delete(t):n.set(t,e)})),n},batchStart:function(){var e=new Map;return Rn.push(e),function(){var t,n=de(e);try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2);xn(r[0],r[1])}}catch(i){n.e(i)}finally{n.f()}Rn.pop()!==e&&ct("Incorrect order of batch popping")}},writeLoadableToTreeState:An,invalidateDownstreams:Dn,copyTreeState:On,invalidateDownstreams_FOR_TESTING:Dn};var Fn=function(e,t,n){for(var r=e.entries(),i=r.next();!i.done;){var o=i.value;if(t.call(n,o[1],o[0],e))return!0;i=r.next()}return!1},Un=dn,Vn=Ct.deleteNodeConfigIfPossible,qn=Ct.getNode,Bn=Jt.RetentionZone,zn=new Set;function Kn(e,t){var n=e.getState(),r=n.currentTree;if(n.nextTree)ct("releaseNodesNowOnCurrentTree should only be called at the end of a batch");else{var i,o=new Set,a=de(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s instanceof Bn){var u,c=de(Hn(n,s));try{for(c.s();!(u=c.n()).done;){var l=u.value;o.add(l)}}catch(p){c.e(p)}finally{c.f()}}else o.add(s)}}catch(p){a.e(p)}finally{a.f()}var f,h=function(e,t){var n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),o=new Set,a=new Set;return s(t),o;function s(t){var u,c=new Set,l=function(e,t,n,r,i){var o=e.getGraph(t.version),a=[],s=new Set;for(;n.size>0;)u(Re(n.values().next().value));return a;function u(e){if(r.has(e)||i.has(e))n.delete(e);else if(!s.has(e)){var t=o.nodeToNodeSubscriptions.get(e);if(t){var c,l=de(t);try{for(l.s();!(c=l.n()).done;){u(c.value)}}catch(p){l.e(p)}finally{l.f()}}s.add(e),n.delete(e),a.push(e)}}}(e,r,t,o,a),f=de(l);try{for(f.s();!(u=f.n()).done;){var h,d=u.value;if("recoilRoot"!==qn(d).retainedBy)if((null!==(h=n.retention.referenceCounts.get(d))&&void 0!==h?h:0)>0)a.add(d);else if(Gn(d).some((function(e){return n.retention.referenceCounts.get(e)})))a.add(d);else{var v=i.nodeToNodeSubscriptions.get(d);v&&Fn(v,(function(e){return a.has(e)}))?a.add(d):(o.add(d),c.add(d))}else a.add(d)}}catch(p){f.e(p)}finally{f.f()}var g,y=new Set,m=de(c);try{for(m.s();!(g=m.n()).done;){var b,_=g.value,w=de(null!==(E=i.nodeDeps.get(_))&&void 0!==E?E:zn);try{for(w.s();!(b=w.n()).done;){var E,S=b.value;o.has(S)||y.add(S)}}catch(p){w.e(p)}finally{w.f()}}}catch(p){m.e(p)}finally{m.f()}y.size&&s(y)}}(e,o),d=de(h);try{for(d.s();!(f=d.n()).done;){Wn(e,r,f.value)}}catch(p){d.e(p)}finally{d.f()}}}function Wn(e,t,n){if(at("recoil_memory_managament_2020")){Un(e,n);var r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);var i,o=de(Gn(n));try{for(o.s();!(i=o.n()).done;){var a,s=i.value;null===(a=r.retention.nodesRetainedByZone.get(s))||void 0===a||a.delete(n)}}catch(p){o.e(p)}finally{o.f()}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);var u=r.graphsByVersion.get(t.version);if(u){var c=u.nodeDeps.get(n);if(void 0!==c){u.nodeDeps.delete(n);var l,f=de(c);try{for(f.s();!(l=f.n()).done;){var h,d=l.value;null===(h=u.nodeToNodeSubscriptions.get(d))||void 0===h||h.delete(n)}}catch(p){f.e(p)}finally{f.f()}}u.nodeToNodeSubscriptions.delete(n)}Vn(n)}}function Hn(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:zn}function Gn(e){var t=qn(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof Bn?[t]:t}function Qn(e,t){at("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){var n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):Kn(e,new Set([t]))}(e,t))}var $n=12e4,Yn=function(e,t,n){var r;if(at("recoil_memory_managament_2020")){var i=e.getState().retention.referenceCounts,o=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===o?Qn(e,t):i.set(t,o)}},Xn=function(e){if(at("recoil_memory_managament_2020")){var t=e.getState();Kn(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}},Jn=function(e){return void 0===e?"recoilRoot":e};function Zn(e){var t,n,r,i,o,a;return Se().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t=de(e),s.prev=1,t.s();case 3:if((n=t.n()).done){s.next=24;break}r=n.value,i=de(r),s.prev=6,i.s();case 8:if((o=i.n()).done){s.next=14;break}return a=o.value,s.next=12,a;case 12:s.next=8;break;case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(6),i.e(s.t0);case 19:return s.prev=19,i.f(),s.finish(19);case 22:s.next=3;break;case 24:s.next=29;break;case 26:s.prev=26,s.t1=s.catch(1),t.e(s.t1);case 29:return s.prev=29,t.f(),s.finish(29);case 32:case"end":return s.stop()}}),Ne,null,[[1,26,29,32],[6,16,19,22]])}var er=Zn,tr={isSSR:"undefined"===typeof window,isReactNative:"undefined"!==typeof navigator&&"ReactNative"===navigator.product},nr=t.unstable_batchedUpdates,rr=jn.batchStart,ir={unstable_batchedUpdates:{unstable_batchedUpdates:nr}.unstable_batchedUpdates}.unstable_batchedUpdates,or=function(e){ir((function(){var t=function(){};try{t=rr(),e()}finally{t()}}))},ar=tr.isSSR,sr=or,ur=yn,cr=vn,lr=Ft,fr=Ct.DEFAULT_VALUE,hr=Ct.recoilValues,dr=Ct.recoilValuesForKeys,pr=jn.AbstractRecoilValue,vr=jn.getRecoilValueAsLoadable,gr=jn.setRecoilValue,yr=jn.setUnvalidatedRecoilValue,mr=Yn,br=Ht,_r=Wt,wr=function(){function e(t){var n=this;be(this,e),Oe(this,"_store",void 0),Oe(this,"_refCount",0),Oe(this,"getLoadable",(function(e){return n.checkRefCount_INTERNAL(),vr(n._store,e)})),Oe(this,"getPromise",(function(e){return n.checkRefCount_INTERNAL(),n.getLoadable(e).toPromise()})),Oe(this,"getNodes_UNSTABLE",(function(e){if(n.checkRefCount_INTERNAL(),!0===(null===e||void 0===e?void 0:e.isModified)){if(!1===(null===e||void 0===e?void 0:e.isInitialized))return[];var t=n._store.getState().currentTree;return dr(t.dirtyAtoms)}var r=n._store.getState().knownAtoms,i=n._store.getState().knownSelectors;return null==(null===e||void 0===e?void 0:e.isInitialized)?hr.values():!0===e.isInitialized?dr(er([n._store.getState().knownAtoms,n._store.getState().knownSelectors])):Yt(hr.values(),(function(e){var t=e.key;return!r.has(t)&&!i.has(t)}))})),Oe(this,"getInfo_UNSTABLE",(function(e){var t=e.key;return n.checkRefCount_INTERNAL(),cr(n._store,n._store.getState().currentTree,t)})),Oe(this,"map",(function(e){n.checkRefCount_INTERNAL();var t=new Tr(n,sr);return e(t),Sr(t.getStore_INTERNAL())})),Oe(this,"asyncMap",function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){se(o,r,i,a,s,"next",e)}function s(e){se(o,r,i,a,s,"throw",e)}a(void 0)}))}}(Se().mark((function e(t){var r;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.checkRefCount_INTERNAL(),r=new Tr(n,sr),e.next=4,t(r);case 4:return e.abrupt("return",Sr(r.getStore_INTERNAL()));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._store={getState:function(){return t},replaceState:function(e){t.currentTree=e(t.currentTree)},getGraph:function(e){var n=t.graphsByVersion;if(n.has(e))return Re(n.get(e));var r=lr();return n.set(e,r),r},subscribeToTransactions:function(){return{release:function(){}}},addTransactionMetadata:function(){throw xe("Cannot subscribe to Snapshots")}};var r,i=de(this._store.getState().nodeCleanupFunctions.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value;ur(this._store,t.currentTree,o,"get"),mr(this._store,o,1)}}catch(a){i.e(a)}finally{i.f()}this.retain(),this.autorelease_INTERNAL()}return we(e,[{key:"retain",value:function(){var e=this;if(!at("recoil_memory_managament_2020"))return function(){};this._refCount++;var t=!1;return function(){t||(t=!0,e.release_INTERNAL())}}},{key:"autorelease_INTERNAL",value:function(){var e=this;at("recoil_memory_managament_2020")&&(ar||window.setTimeout((function(){return e.release_INTERNAL()}),0))}},{key:"release_INTERNAL",value:function(){at("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}},{key:"checkRefCount_INTERNAL",value:function(){at("recoil_memory_managament_2020")&&this._refCount}},{key:"getStore_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store}},{key:"getID",value:function(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}},{key:"getID_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}]),e}();function Er(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getState(),i=n?br():t.version;return{currentTree:n?{version:i,stateID:i,transactionMetadata:Z({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function Sr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"current",n=e.getState(),r="current"===t?n.currentTree:Re(n.previousTree);return new wr(Er(e,r))}var Tr=function(e){ve(n,e);var t=me(n);function n(e,r){var i;return be(this,n),Oe(pe(i=t.call(this,Er(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0))),"_batch",void 0),Oe(pe(i),"set",(function(e,t){i.checkRefCount_INTERNAL();var n=i.getStore_INTERNAL();i._batch((function(){mr(n,e.key,1),gr(i.getStore_INTERNAL(),e,t)}))})),Oe(pe(i),"reset",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();i._batch((function(){mr(t,e.key,1),gr(i.getStore_INTERNAL(),e,fr)}))})),Oe(pe(i),"setUnvalidatedAtomValues_DEPRECATED",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();sr((function(){var n,r=de(e.entries());try{for(r.s();!(n=r.n()).done;){var i=s(n.value,2),o=i[0],a=i[1];mr(t,o,1),yr(t,new pr(o),a)}}catch(u){r.e(u)}finally{r.f()}}))})),i._batch=r,i}return we(n)}(wr),kr={Snapshot:wr,MutableSnapshot:Tr,freshSnapshot:function(e){var t=new wr(_r());return null!=e?t.map(e):t},cloneSnapshot:Sr},Ir=kr.Snapshot,Cr=kr.MutableSnapshot,Nr=kr.freshSnapshot,Ar=kr.cloneSnapshot,xr=Object.freeze({__proto__:null,Snapshot:Ir,MutableSnapshot:Cr,freshSnapshot:Nr,cloneSnapshot:Ar}),Pr=Ht,Rr=Wt,Or=dn,Dr=gn,Lr=hn,Mr=pn,jr=Ft,Fr=jt,Ur=jn.applyAtomValueWrites,Vr=Xn,qr=xr.freshSnapshot,Br=e.useCallback,zr=e.useContext,Kr=e.useEffect,Wr=e.useMemo,Hr=e.useRef,Gr=e.useState;function Qr(){throw xe("This component must be used inside a <RecoilRoot> component.")}var $r=Object.freeze({getState:Qr,replaceState:Qr,getGraph:Qr,subscribeToTransactions:Qr,addTransactionMetadata:Qr}),Yr=!1;function Xr(e){if(Yr)throw xe("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");var t=e.getState();if(null===t.nextTree){at("recoil_memory_managament_2020")&&at("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&Vr(e);var n=t.currentTree.version,r=Pr();t.nextTree=Z(Z({},t.currentTree),{},{version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(r,Fr(Re(t.graphsByVersion.get(n))))}}var Jr=e.createContext({current:$r}),Zr=function(){return zr(Jr)},ei=e.createContext(null);function ti(e,t,n){var r,i=de(Dr(e,n,n.dirtyAtoms));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=t.nodeToComponentSubscriptions.get(o);if(a){var u,c=de(a);try{for(c.s();!(u=c.n()).done;){var l=s(u.value,2),f=(l[0],s(l[1],2));f[0];(0,f[1])(n)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}}function ni(e){var t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){var i,o=de(t.nodeTransactionSubscriptions);try{for(o.s();!(i=o.n()).done;){var a=s(i.value,2),u=a[0],c=a[1];if(r.has(u)){var l,f=de(c);try{for(f.s();!(l=f.n()).done;){var h=s(l.value,2);h[0];(0,h[1])(e)}}catch(g){f.e(g)}finally{f.f()}}}}catch(g){o.e(g)}finally{o.f()}var d,p=de(t.transactionSubscriptions);try{for(p.s();!(d=p.n()).done;){var v=s(d.value,2);v[0];(0,v[1])(e)}}catch(g){p.e(g)}finally{p.f()}at("recoil_early_rendering_2021")&&!t.suspendedComponentResolvers.size||(ti(e,t,n),t.suspendedComponentResolvers.forEach((function(e){return e()})),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((function(e){return e(n)})),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function ri(e){var t=e.setNotifyBatcherOfChange,n=Zr(),r=s(Gr([]),2),i=(r[0],r[1]);return t((function(){return i({})})),Kr((function(){Nt.enqueueExecution("Batcher",(function(){!function(e){var t=e.current.getState();t.commitDepth++;try{var n=t.nextTree;if(null===n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,ni(e.current),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):ct("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,at("recoil_memory_managament_2020")&&Vr(e.current)}finally{t.commitDepth--}}(n)}))})),Kr((function(){return function(){t((function(){}))}}),[t]),null}var ii=0;function oi(t){var n,r,i=t.initializeState_DEPRECATED,o=t.initializeState,a=t.store_INTERNAL,s=t.children,u=Hr(null),c=Br((function(e){u.current=e}),[u]),l=null!==(n=e.createMutableSource)&&void 0!==n?n:e.unstable_createMutableSource,f=null!==a&&void 0!==a?a:{getState:function(){return r.current},replaceState:function(e){var t=h.current.getState();Xr(h.current);var n,r=Re(t.nextTree);try{Yr=!0,n=e(r)}finally{Yr=!1}n!==r&&(t.nextTree=n,at("recoil_early_rendering_2021")&&ti(f,t,n),Re(u.current)())},getGraph:function(e){var t=r.current.graphsByVersion;if(t.has(e))return Re(t.get(e));var n=jr();return t.set(e,n),n},subscribeToTransactions:function(e,t){if(null==t){var n=h.current.getState().transactionSubscriptions,r=ii++;return n.set(r,e),{release:function(){n.delete(r)}}}var i=h.current.getState().nodeTransactionSubscriptions;i.has(t)||i.set(t,new Map);var o=ii++;return Re(i.get(t)).set(o,e),{release:function(){var e=i.get(t);e&&(e.delete(o),0===e.size&&i.delete(t))}}},addTransactionMetadata:function(e){Xr(h.current);for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];Re(h.current.getState().nextTree).transactionMetadata[r]=e[r]}}},h=Hr(f);r=Hr(null!=i?function(e,t){var n=Rr();return t({set:function(t,r){var i,o=n.currentTree,a=Lr(e,o,t.key,r),s=new Set(a.keys()),u=o.nonvalidatedAtoms.clone(),c=de(s);try{for(c.s();!(i=c.n()).done;){var l=i.value;u.delete(l)}}catch(f){c.e(f)}finally{c.f()}n.currentTree=Z(Z({},o),{},{dirtyAtoms:Gt(o.dirtyAtoms,s),atomValues:Ur(o.atomValues,a),nonvalidatedAtoms:u})},setUnvalidatedAtomValues:function(e){e.forEach((function(e,t){n.currentTree=Mr(n.currentTree,t,e)}))}}),n}(f,i):null!=o?function(e){return qr().map(e).getStore_INTERNAL().getState()}(o):Rr());var d=Wr((function(){return l?l(r,(function(){return r.current.currentTree.version})):null}),[l,r]);return Kr((function(){return function(){var e,t=de(h.current.getState().knownAtoms);try{for(t.s();!(e=t.n()).done;){var n=e.value;Or(h.current,n)}}catch(r){t.e(r)}finally{t.f()}}}),[]),e.createElement(Jr.Provider,{value:h},e.createElement(ei.Provider,{value:d},e.createElement(ri,{setNotifyBatcherOfChange:c}),s))}var ai=Zr,si=function(){var e=zr(ei);return null==e&&et("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},ui=function(t){var n=t.override,r=ae(t,Te),i=Zr();return!1===n&&i.current!==$r?t.children:e.createElement(oi,r)};var ci=e.useRef;var li=function(){return ci(),"<component name not available>"};var fi=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},hi=e.useEffect,di=e.useRef;var pi=function(e){var t=di();return hi((function(){t.current=e})),t.current},vi=ai,gi=$n,yi=Yn,mi=Jt.RetentionZone,bi=tr.isSSR,_i=e.useEffect,wi=e.useRef;var Ei=function(e){if(at("recoil_memory_managament_2020"))return function(e){var t=(Array.isArray(e)?e:[e]).map((function(e){return e instanceof mi?e:e.key})),n=vi();_i((function(){if(at("recoil_memory_managament_2020")){var e=n.current;if(r.current&&!bi)window.clearTimeout(r.current),r.current=null;else{var i,o=de(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;yi(e,a,1)}}catch(s){o.e(s)}finally{o.f()}}return function(){var n,r=de(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;yi(e,i,-1)}}catch(s){r.e(s)}finally{r.f()}}}}),[n].concat(oe(t)));var r=wi(),i=pi(t);if(!bi&&(void 0===i||!fi(i,t))){var o,a=n.current,s=de(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;yi(a,u,1)}}catch(h){s.e(h)}finally{s.f()}if(i){var c,l=de(i);try{for(l.s();!(c=l.n()).done;){var f=c.value;yi(a,f,-1)}}catch(h){l.e(h)}finally{l.f()}}r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((function(){r.current=null;var e,n=de(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;yi(a,i,-1)}}catch(h){n.e(h)}finally{n.f()}}),gi)}}(e)},Si=or,Ti=Ct.DEFAULT_VALUE,ki=si,Ii=ai,Ci=(mt.isRecoilValue,jn.AbstractRecoilValue),Ni=jn.getRecoilValueAsLoadable,Ai=jn.setRecoilValue,xi=jn.setUnvalidatedRecoilValue,Pi=jn.subscribeToRecoilValue,Ri=nt.mutableSourceExists,Oi=nt.useMutableSource,Di=e.useCallback,Li=e.useEffect,Mi=(e.useMemo,e.useRef),ji=e.useState;function Fi(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state)throw new Promise((function(e){n.current.getState().suspendedComponentResolvers.add(e)}));throw"hasError"===e.state?e.contents:xe('Invalid value of loadable atom "'.concat(t.key,'"'))}function Ui(e){return at("recoil_memory_managament_2020")&&Ei(e),Ri()?function(e){var t=Ii(),n=Di((function(){var n,r=t.current,i=r.getState(),o=at("recoil_early_rendering_2021")&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return Ni(r,e,o)}),[t,e]),r=Di((function(){return n()}),[n]),i=li(),o=Di((function(r,o){var a=t.current;return Pi(a,e,(function(){if(!at("recoil_suppress_rerender_in_callback"))return o();var e=n();u.current.is(e)||o(),u.current=e}),i).release}),[t,e,i,n]),a=ki(),s=Oi(a,r,o),u=Mi(s);return Li((function(){u.current=s})),s}(e):function(e){var t=Ii(),n=s(ji([]),2),r=(n[0],n[1]),i=li();Li((function(){var n=t.current,o=n.getState(),s=Pi(n,e,(function(t){var i;if(!at("recoil_suppress_rerender_in_callback"))return r([]);var o=Ni(n,e,n.getState().currentTree);(null===(i=a.current)||void 0===i?void 0:i.is(o))||r(o),a.current=o}),i);if(o.nextTree)n.getState().queuedComponentCallbacks_DEPRECATED.push((function(){a.current=null,r([])}));else{var u;if(!at("recoil_suppress_rerender_in_callback"))return r([]);var c=Ni(n,e,n.getState().currentTree);(null===(u=a.current)||void 0===u?void 0:u.is(c))||r(c),a.current=c}return s.release}),[i,e,t]);var o=Ni(t.current,e),a=Mi(o);return Li((function(){a.current=o})),o}(e)}function Vi(e){var t=Ii();return Fi(Ui(e),e,t)}function qi(e){var t=Ii();return Di((function(n){Ai(t.current,e,n)}),[t,e])}var Bi=function(e){return[Vi(e),qi(e)]},zi=function(e){return[Ui(e),qi(e)]},Ki=Vi,Wi=Ui,Hi=function(e){var t=Ii();return Di((function(){Ai(t.current,e,Ti)}),[t,e])},Gi=qi,Qi=function(){var e=Ii();return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Si((function(){e.current.addTransactionMetadata(n),t.forEach((function(t,n){return xi(e.current,new Ci(n),t)}))}))}};var $i=function(e,t){var n,r=new Map,i=de(e);try{for(i.s();!(n=i.n()).done;){var o=s(n.value,2),a=o[0],u=o[1];t(u,a)&&r.set(a,u)}}catch(c){i.e(c)}finally{i.f()}return r};var Yi=function(e,t){var n,r=new Set,i=de(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;t(o)&&r.add(o)}}catch(a){i.e(a)}finally{i.f()}return r};var Xi=function(){for(var e=new Map,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++)for(var o=n[i].keys(),a=void 0;!(a=o.next()).done;)e.set(a.value,n[i].get(a.value));return e},Ji=or,Zi=Ct.DEFAULT_VALUE,eo=Ct.getNode,to=Ct.nodes,no=ai,ro=jn.AbstractRecoilValue,io=jn.setRecoilValueLoadable,oo=$n,ao=(xr.Snapshot,xr.cloneSnapshot),so=tr.isSSR,uo=e.useCallback,co=e.useEffect,lo=e.useRef,fo=e.useState;function ho(e){var t=no();co((function(){return t.current.subscribeToTransactions(e).release}),[e,t])}function po(e){var t=e.atomValues.toMap(),n=Lt($i(t,(function(e,t){var n=eo(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(function(e){return e.contents}));return Xi(e.nonvalidatedAtoms.toMap(),n)}var vo=function(){var e=no(),t=s(fo((function(){return ao(e.current)})),2),n=t[0],r=t[1],i=pi(n),o=lo();return co((function(){return o.current&&!so&&window.clearTimeout(o.current),n.retain()}),[n]),ho(uo((function(e){return r(ao(e))}),[])),i===n||so||(o.current&&(null===i||void 0===i||i.release_INTERNAL(),window.clearTimeout(o.current)),n.retain(),o.current=window.setTimeout((function(){n.release_INTERNAL(),o.current=null}),oo)),n},go=function(){var e=no();return uo((function(t){var n,r=e.current.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,o=t.getStore_INTERNAL().getState().currentTree;Ji((function(){for(var n=new Set,r=0,a=[i.atomValues.keys(),o.atomValues.keys()];r<a.length;r++){var s,u=de(a[r]);try{for(u.s();!(s=u.n()).done;){var c,l,f=s.value;(null===(c=i.atomValues.get(f))||void 0===c?void 0:c.contents)!==(null===(l=o.atomValues.get(f))||void 0===l?void 0:l.contents)&&eo(f).shouldRestoreFromSnapshots&&n.add(f)}}catch(h){u.e(h)}finally{u.f()}}n.forEach((function(t){io(e.current,new ro(t),o.atomValues.has(t)?Re(o.atomValues.get(t)):Zi)})),e.current.replaceState((function(e){return Z(Z({},e),{},{stateID:t.getID_INTERNAL()})}))}))}),[e])},yo=function(e){ho(uo((function(t){var n=ao(t,"current"),r=ao(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},mo=function(e){ho(uo((function(t){var n=t.getState().previousTree,r=t.getState().currentTree;n||(ct("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);var i=po(r),o=po(n),a=Lt(to,(function(e){var t,n,r,i;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==r&&r}}})),s=Yi(r.dirtyAtoms,(function(e){return i.has(e)||o.has(e)}));e({atomValues:i,previousAtomValues:o,atomInfo:a,modifiedAtoms:s,transactionMetadata:Z({},r.transactionMetadata)})}),[e]))},bo=vn,_o=ai;var wo=function(){var e=_o();return function(t){var n=t.key;return bo(e.current,e.current.getState().currentTree,n)}},Eo=ui,So=ai,To=e.useMemo;var ko=function(){var t=So().current;return To((function(){return function(n){var r=n.children;return e.createElement(Eo,{store_INTERNAL:t},r)}}),[t])},Io=Je.loadableWithValue,Co=Ct.DEFAULT_VALUE,No=Ct.getNode,Ao=jn.copyTreeState,xo=jn.getRecoilValueAsLoadable,Po=jn.invalidateDownstreams,Ro=jn.writeLoadableToTreeState;function Oo(e){return"atom"===No(e.key).nodeType}var Do=function(){function e(t,n){var r=this;be(this,e),Oe(this,"_store",void 0),Oe(this,"_treeState",void 0),Oe(this,"_changes",void 0),Oe(this,"get",(function(e){if(r._changes.has(e.key))return r._changes.get(e.key);if(!Oo(e))throw xe("Reading selectors within atomicUpdate is not supported");var t=xo(r._store,e,r._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:xe("Expected Recoil atom ".concat(e.key," to have a value, but it is in a loading state."))})),Oe(this,"set",(function(e,t){if(!Oo(e))throw xe("Setting selectors within atomicUpdate is not supported");if("function"===typeof t){var n=r.get(e);r._changes.set(e.key,t(n))}else r._changes.set(e.key,t)})),Oe(this,"reset",(function(e){r.set(e,Co)})),this._store=t,this._treeState=n,this._changes=new Map}return we(e,[{key:"newTreeState_INTERNAL",value:function(){if(0===this._changes.size)return this._treeState;var e,t=Ao(this._treeState),n=de(this._changes);try{for(n.s();!(e=n.n()).done;){var r=s(e.value,2),i=r[0],o=r[1];Ro(t,i,Io(o))}}catch(a){n.e(a)}finally{n.f()}return Po(this._store,t),t}}]),e}();var Lo=function(e){return function(t){e.replaceState((function(n){var r=new Do(e,n);return t(r),r.newTreeState_INTERNAL()}))}},Mo=Lo,jo=Object.freeze({__proto__:null,atomicUpdater:Mo});var Fo=function(e,t){if(!e)throw new Error(t)},Uo=jo.atomicUpdater,Vo=or,qo=Ct.DEFAULT_VALUE,Bo=ai,zo=jn.setRecoilValue,Ko=(xr.Snapshot,xr.cloneSnapshot),Wo=go,Ho=e.useCallback,Go=we((function e(){be(this,e)})),Qo=new Go;var $o=function(e,t){var n=Bo(),r=Wo();return Ho((function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];function a(e,t){zo(n.current,e,t)}function s(e){zo(n.current,e,qo)}var u=Ko(n.current),c=Uo(n.current),l=Qo;return Vo((function(){var t="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!==typeof e)throw xe(t);var n=e({set:a,reset:s,snapshot:u,gotoSnapshot:r,transact_UNSTABLE:c});if("function"!==typeof n)throw xe(t);l=n.apply(void 0,i)})),l instanceof Go&&Fo(!1),l}),null!=t?[].concat(oe(t),[n]):void 0)},Yo=Ct.getNode,Xo=ai,Jo=e.useCallback;var Zo=function(e){var t=Xo();return Jo((function(){var n,r=t.current,i=r.getState().currentTree,o=Yo(e.key);null===(n=o.clearCache)||void 0===n||n.call(o,r,i)}),[e,t])},ea=jo.atomicUpdater,ta=ai,na=e.useMemo;var ra=function(e,t){var n=ta();return na((function(){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=ea(n.current);o((function(t){e(t).apply(void 0,r)}))}}),null!=t?[].concat(oe(t),[n]):void 0)};function ia(e,t,n){if("string"===typeof e&&!e.includes('"')&&!e.includes("\\"))return'"'.concat(e,'"');switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null===t||void 0===t?void 0:t.allowFunctions))throw xe("Attempt to serialize function in a Recoil cache key");return"__FUNCTION(".concat(e.name,")__")}if(null===e)return"null";var r;if("object"!==typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(Pe(e))return"__PROMISE__";if(Array.isArray(e))return"[".concat(e.map((function(e,n){return ia(e,t,n.toString())})),"]");if("function"===typeof e.toJSON)return ia(e.toJSON(n),t,n);if(e instanceof Map){var i,o={},a=de(e);try{for(a.s();!(i=a.n()).done;){var u=s(i.value,2),c=u[0],l=u[1];o["string"===typeof c?c:ia(c,t)]=l}}catch(f){a.e(f)}finally{a.f()}return ia(o,t,n)}return e instanceof Set?ia(Array.from(e).sort((function(e,n){return ia(e,t).localeCompare(ia(n,t))})),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"===typeof e[Symbol.iterator]?ia(Array.from(e),t,n):"{".concat(Object.keys(e).filter((function(t){return void 0!==e[t]})).sort().map((function(n){return"".concat(ia(n,t),":").concat(ia(e[n],t,n))})).join(","),"}")}var oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowFunctions:!1};return ia(e,t)},aa=function(){function e(t){var n,r,i;be(this,e),Oe(this,"_numLeafs",void 0),Oe(this,"_root",void 0),Oe(this,"_onHit",void 0),Oe(this,"_onSet",void 0),Oe(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=null!==(n=null===t||void 0===t?void 0:t.onHit)&&void 0!==n?n:function(){},this._onSet=null!==(r=null===t||void 0===t?void 0:t.onSet)&&void 0!==r?r:function(){},this._mapNodeValue=null!==(i=null===t||void 0===t?void 0:t.mapNodeValue)&&void 0!==i?i:function(e){return e}}return we(e,[{key:"size",value:function(){return this._numLeafs}},{key:"root",value:function(){return this._root}},{key:"get",value:function(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}},{key:"getLeafNode",value:function(e,t){var n=this;return sa(this.root(),(function(t){return n._mapNodeValue(e(t))}),{onNodeVisit:function(e){null===t||void 0===t||t.onNodeVisit(e),"leaf"===e.type&&n._onHit(e)}})}},{key:"set",value:function(e,t,n){var r,i=this,o=null;!function a(){o=ua(i.root(),e.map((function(e){var t=s(e,2),n=t[0],r=t[1];return[n,i._mapNodeValue(r)]})),null,t,null,{onNodeVisit:function(e){null===n||void 0===n||n.onNodeVisit(e),"leaf"===e.type&&(r=e)}},(function(){i.clear(),a()}))}(),this.root()||(this._root=o),this._numLeafs++,this._onSet(Re(r))}},{key:"delete",value:function(e){if(!this.root())return!1;var t=Re(this.root());return!!ca(t,e,e.parent)&&(e===t||"branch"===t.type&&!t.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=fa(e),!0))}},{key:"clear",value:function(){this._numLeafs=0,this._root=null}}]),e}(),sa=function e(t,n,r){var i;if(null!=t){if(null===r||void 0===r||null===(i=r.onNodeVisit)||void 0===i||i.call(r,t),"leaf"===t.type)return t;var o=n(t.nodeKey);return e(t.branches.get(o),n,r)}},ua=function e(t,n,r,i,o,a,u){var c,l;if(null==t)if(0===n.length)l={type:"leaf",value:i,parent:r,branchKey:o};else{var f=ie(n),h=f[0],d=f.slice(1),p=s(h,2),v=p[0],g=p[1];(l={type:"branch",nodeKey:v,parent:r,branches:new Map,branchKey:o}).branches.set(g,e(null,d,l,i,g,a,u))}else if(l=t,n.length){var y=ie(n),m=y[0],b=y.slice(1),_=s(m,2),w=_[0],E=_[1];if("branch"!==t.type||t.nodeKey!==w)return ct("Existing cache must have a branch midway through the route with matching node key. Resetting cache."),u(),l;t.branches.set(E,e(t.branches.get(E),b,t,i,E,a,u))}return null===a||void 0===a||null===(c=a.onNodeVisit)||void 0===c||c.call(a,l),l},ca=function(e,t,n){return n?(n.branches.delete(t.branchKey),la(e,n,n.parent)):e===t},la=function e(t,n,r){return r?(0===n.branches.size&&r.branches.delete(n.branchKey),e(t,r,r.parent)):t===n},fa=function e(t){return"leaf"===t.type?1:Array.from(t.branches.values()).reduce((function(t,n){return t+e(n)}),0)},ha={TreeCache:aa}.TreeCache,da=Object.freeze({__proto__:null,TreeCache:ha}),pa=function(){function e(t){var n;be(this,e),Oe(this,"_maxSize",void 0),Oe(this,"_size",void 0),Oe(this,"_head",void 0),Oe(this,"_tail",void 0),Oe(this,"_map",void 0),Oe(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(n=t.mapKey)&&void 0!==n?n:function(e){return e}}return we(e,[{key:"head",value:function(){return this._head}},{key:"tail",value:function(){return this._tail}},{key:"size",value:function(){return this._size}},{key:"maxSize",value:function(){return this._maxSize}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){var t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}},{key:"set",value:function(e,t){var n=this._keyMapper(e);this._map.get(n)&&this.delete(e);var r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}},{key:"_maybeDeleteLRU",value:function(){this.size()>this.maxSize()&&this.deleteLru()}},{key:"deleteLru",value:function(){var e=this.tail();e&&this.delete(e.key)}},{key:"delete",value:function(e){var t=this._keyMapper(e);if(this._size&&this._map.has(t)){var n=Re(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}}},{key:"clear",value:function(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}]),e}(),va={LRUCache:pa}.LRUCache,ga=Object.freeze({__proto__:null,LRUCache:va}),ya=ga.LRUCache,ma=da.TreeCache;var ba=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=new ya({maxSize:e}),r=new ma({mapNodeValue:t,onHit:function(e){n.set(e,!0)},onSet:function(t){var i=n.tail();n.set(t,!0),i&&r.size()>e&&r.delete(i.key)}});return r},_a=da.TreeCache,wa={equality:"reference",eviction:"keep-all",maxSize:1/0};function Ea(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return oa(e)}}throw xe("Unrecognized equality policy ".concat(e))}function Sa(e,t,n){switch(e){case"keep-all":return new _a({mapNodeValue:n});case"lru":return ba(Re(t),n);case"most-recent":return ba(1,n)}throw xe("Unrecognized eviction policy ".concat(e))}var Ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa,t=e.equality,n=void 0===t?wa.equality:t,r=e.eviction,i=void 0===r?wa.eviction:r,o=e.maxSize,a=void 0===o?wa.maxSize:o,s=Ea(n),u=Sa(i,a,s);return u};var ka=function(e){return function(){return null}},Ia=Je.loadableWithError,Ca=Je.loadableWithPromise,Na=Je.loadableWithValue,Aa=ln,xa=fn,Pa=hn,Ra=Ut,Oa=Ct.DEFAULT_VALUE,Da=Ct.RecoilValueNotReady,La=Ct.getConfigDeletionHandler,Ma=Ct.getNode,ja=Ct.registerNode,Fa=mt.isRecoilValue,Ua=mt.AbstractRecoilValue,Va=jn.markRecoilValueModified,qa=jn.setRecoilValueLoadable,Ba=Jn,za=xr.cloneSnapshot,Ka=ka,Wa=we((function e(){be(this,e)})),Ha=new Wa,Ga=[],Qa=new Map,$a=function(){var e=0;return function(){return e++}}();var Ya=function(e){var t=null,n=e.key,r=e.get,i=e.cachePolicy_UNSTABLE,o=null!=e.set?e.set:void 0,a=new Set,u=Ta(null!==i&&void 0!==i?i:{equality:"reference",eviction:"keep-all"}),c=Ba(e.retainedBy_UNSTABLE),l=new Map,f=0;function h(){return!at("recoil_memory_managament_2020")||f>0}function d(e){return l.has(e)||l.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}),Re(l.get(e))}function p(e){return f++,e.getState().knownSelectors.add(n),function(){f--,e.getState().knownSelectors.delete(n),l.delete(e)}}function v(){return void 0!==La(n)&&!h()}function g(e,t,n){if("loading"===t.state){var r=Qa.get(n);null==r&&Qa.set(n,r=new Set),r.add(e)}}function y(e,t,n){var r=e.getState().knownSelectors.has(n);if(r&&t.atomValues.has(n))return Re(t.atomValues.get(n));var i=Aa(e,t,n);return"loading"!==i.state&&r&&t.atomValues.set(n,i),i}function m(e,t,n,r,i,o){return t.then((function(r){if(!h())throw A(e,i),Ha;null!=o.loadingDepKey&&o.loadingDepPromise===t?n.atomValues.set(o.loadingDepKey,Na(r)):e.getState().knownSelectors.forEach((function(e){n.atomValues.delete(e)}));var a=E(e,n);if(a&&"hasValue"===a.state)return C(a,e),a.contents;if(!x(e,i)){var u,c=k(n);if("loading"===(null===c||void 0===c||null===(u=c.latestLoadable)||void 0===u?void 0:u.state))return c.latestLoadable.contents}var l=s(w(e,n,i),2),f=l[0],d=l[1];if(x(e,i)&&N(d,e,i),"loading"!==f.state&&(R(n,S(d),f),_(e,n,new Set(d.keys()),i),b(e,f,i)),"hasError"===f.state)throw f.contents;return f.contents})).catch((function(t){if(t instanceof Wa)throw ct("Selector was released while it had dependencies"),Ha;if(!h())throw A(e,i),Ha;var o=Ia(t);throw P(t),R(n,S(r),Ia(t)),_(e,n,new Set(r.keys()),i),b(e,o,i),t}))}function b(e,t,r){x(e,r)&&(C(t,e),function(e,t){var r=Qa.get(t);if(void 0!==r){var i,o=de(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;qa(a,new Ua(n),e)}}catch(s){o.e(s)}finally{o.f()}Qa.delete(t)}}(t,r))}function _(e,t,r,i){var o,a,s,u,c,l,f;(x(e,i)||t.version===(null===(o=e.getState())||void 0===o||null===(a=o.currentTree)||void 0===a?void 0:a.version)||t.version===(null===(s=e.getState())||void 0===s||null===(u=s.nextTree)||void 0===u?void 0:u.version))&&Ra(new Map([[n,r]]),e,null!==(c=null===(l=e.getState())||void 0===l||null===(f=l.nextTree)||void 0===f?void 0:f.version)&&void 0!==c?c:e.getState().currentTree.version)}function w(e,t,i){var o,a,s=Ka(n),u=!1,c={loadingDepKey:null,loadingDepPromise:null},l=new Map,f=new Set;function d(n){var r=n.key;!function(e,t,n,r,i){n.add(r),_(e,t,n,i)}(e,t,f,r,i);var o=y(e,t,r);switch(l.set(r,o),o.state){case"hasValue":return o.contents;case"hasError":throw o.contents;case"loading":throw c.loadingDepKey=r,c.loadingDepPromise=o.contents,o.contents}throw xe("Invalid Loadable state")}_(e,t,f,i);var p=!1;try{o=r({get:d,getCallback:function(t){return function(){if(!p)throw xe("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");var n=za(e),r=t({snapshot:n});if("function"!==typeof r)throw xe("getCallback() expects a function that returns a function.");return r.apply(void 0,arguments)}}}),o=Fa(o)?d(o):o,p=!0,Pe(o)?o=function(e,t,n,r,i,o){return t.then((function(t){if(!h())throw A(e,i),Ha;var o=Na(t);return P(t),R(n,S(r),o),_(e,n,new Set(r.keys()),i),b(e,o,i),t})).catch((function(t){if(!h())throw A(e,i),Ha;if(x(e,i)&&N(r,e,i),Pe(t))return m(e,t,n,r,i,o);var a=Ia(t);throw P(t),R(n,S(r),a),_(e,n,new Set(r.keys()),i),b(e,a,i),t}))}(e,o,t,l,i,c).finally(s):s()}catch(v){Pe(o=v)?o=m(e,o,t,l,i,c).finally(s):(u=!0,s())}return"loading"!==(a=u?Ia(o):Pe(o)?Ca(o):Na(o)).state&&P(a.contents),[a,l]}function E(e,t){var r,i=new Set,o=d(e);try{r=u.get((function(n){return"string"!==typeof n&&Fo(!1),y(e,t,n).contents}),{onNodeVisit:function(e){"branch"===e.type&&e.nodeKey!==n&&"string"===typeof e.nodeKey&&(i.add(e.nodeKey),a.add(e.nodeKey))}})}catch(jc){throw xe('Problem with cache lookup for selector "'.concat(n,'": ').concat(jc.message))}return r&&_(e,t,i,o.latestExecutionId),r}function S(e){return Array.from(e.entries()).map((function(e){var t=s(e,2);return[t[0],t[1].contents]}))}function T(e,t){var n=$a(),r=s(w(e,t,n),2),i=r[0],o=r[1];return C(i,e,o,n,t),function(e,t,n){"loading"!==n.state&&R(e,t,n)}(t,S(o),i),g(e,i,n),i}function k(e){var t,n=null!==(t=Array.from(l.entries()).find((function(t){var n=s(t,2),r=n[0],i=n[1];return null!=i.latestLoadable&&null!=i.latestExecutionId&&!function(e,t){var n,r,i=d(e),o=null!==(n=i.depValuesDiscoveredSoFarDuringAsyncWork)&&void 0!==n?n:new Map,a=Array((null!==(r=I.get(t.version))&&void 0!==r?r:new Map).entries()),u=I.has(t.version)&&a.length===o.size&&a.every((function(e){var t=s(e,2),n=t[0],r=t[1];return o.get(n)===r}));if(null==o||t.version===i.stateVersion||u)return!1;return I.set(t.version,new Map(o)),Array.from(o).some((function(n){var r=s(n,2),i=r[0],o=r[1];return y(e,t,i).contents!==o.contents}))}(r,e)})))&&void 0!==t?t:[];return s(n,2)[1]}var I=new Map;function C(e,t,n,r,i){var o=d(t);"loading"===e.state?(o.depValuesDiscoveredSoFarDuringAsyncWork=n,o.latestExecutionId=r,o.latestLoadable=e,o.stateVersion=null===i||void 0===i?void 0:i.version):(o.depValuesDiscoveredSoFarDuringAsyncWork=null,o.latestExecutionId=null,o.latestLoadable=null,o.stateVersion=null)}function N(e,t,n){var r=d(t);x(t,n)&&(r.depValuesDiscoveredSoFarDuringAsyncWork=e)}function A(e,t){x(e,t)&&l.delete(e)}function x(e,t){return t===d(e).latestExecutionId}function P(e){0}function R(e,t,r){e.atomValues.set(n,r);try{u.set(t,r)}catch(jc){throw xe('Problem with setting cache for selector "'.concat(n,'": ').concat(jc.message))}}function O(e,t){return u.get((function(n){"string"!==typeof n&&Fo(!1);var r=xa(e,t,n);return null===r||void 0===r?void 0:r.contents}))}function D(e,t){return function(e){if(Ga.includes(n)){var t="Recoil selector has circular dependencies: ".concat(Ga.slice(Ga.indexOf(n)).join(" \u2192 "));return Ia(xe(t))}Ga.push(n);try{return e()}finally{Ga.pop()}}((function(){return function(e,t){var n=E(e,t);if(null!=n)return C(n,e),n;var r=k(t);if(r){var i=r;return g(e,Re(i.latestLoadable),Re(i.latestExecutionId)),Re(i.latestLoadable)}return T(e,t)}(e,t)}))}function L(e){e.atomValues.delete(n)}function M(e,n){null==t&&Fo(!1);var r,i=de(a);try{for(i.s();!(r=i.n()).done;){var o,s=r.value,c=Ma(s);null===(o=c.clearCache)||void 0===o||o.call(c,e,n)}}catch(l){i.e(l)}finally{i.f()}L(n),u.clear(),Va(e,t)}if(null!=o){return t=ja({key:n,nodeType:"selector",peek:O,get:D,set:function(e,t,n){var r=!1,i=new Map;function a(n){var i=n.key;if(r)throw xe("Recoil: Async selector sets are not currently supported.");var o=y(e,t,i);if("hasValue"===o.state)return o.contents;throw"loading"===o.state?new Da(i):o.contents}function s(n,o){if(r)throw xe("Recoil: Async selector sets are not currently supported.");var s="function"===typeof o?o(a(n)):o;Pa(e,t,n.key,s).forEach((function(e,t){return i.set(t,e)}))}var u=o({set:s,get:a,reset:function(e){s(e,Oa)}},n);if(void 0!==u)throw Pe(u)?xe("Recoil: Async selector sets are not currently supported."):xe("Recoil: selector set should be a void function.");return r=!0,i},init:p,invalidate:L,clearCache:M,shouldDeleteConfigOnRelease:v,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:c})}return t=ja({key:n,nodeType:"selector",peek:O,get:D,init:p,invalidate:L,clearCache:M,shouldDeleteConfigOnRelease:v,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:c})},Xa=Je.loadableWithError,Ja=Je.loadableWithPromise,Za=Je.loadableWithValue,es=vn,ts=Ct.DEFAULT_VALUE,ns=Ct.DefaultValue,rs=Ct.getConfigDeletionHandler,is=Ct.registerNode,os=Ct.setConfigDeletionHandler,as=mt.isRecoilValue,ss=jn.getRecoilValueAsLoadable,us=jn.markRecoilValueModified,cs=jn.setRecoilValue,ls=jn.setRecoilValueLoadable,fs=Jn;function hs(e){var t=e.key,n=e.persistence_UNSTABLE,r=fs(e.retainedBy_UNSTABLE),i=0,o=Pe(e.default)?Ja(e.default.then((function(e){return o=Za(e),e})).catch((function(e){throw o=Xa(e),e}))):Za(e.default);u(e.default);var a=void 0,s=new Map;function u(e){return e}var c=is({key:t,nodeType:"atom",peek:function(e,n){var r,i;return null!==(r=null!==(i=n.atomValues.get(t))&&void 0!==i?i:a)&&void 0!==r?r:o},get:function(e,r){if(r.atomValues.has(t))return Re(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=a)return a;if(null==n)return et("Tried to restore a persisted value for atom ".concat(t," but it has no persistence settings.")),o;var i=r.nonvalidatedAtoms.get(t),s=n.validator(i,ts),u=s instanceof ns?o:Za(s);return a=u}return o},set:function(e,n,r){if(n.atomValues.has(t)){var i=Re(n.atomValues.get(t));if("hasValue"===i.state&&r===i.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof ns)return new Map;return a=void 0,(new Map).set(t,Za(r))},init:function(n,r,a){i++;var u=n.getState().knownAtoms.has(t);if(n.getState().knownAtoms.add(t),"loading"===o.state){var l=function(){var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||us(n,c)};o.contents.then(l).catch(l)}var f=ts,h=null;if(null!=e.effects_UNSTABLE&&!u){var d,p=function(e){if(y&&e.key===t&&!(f instanceof ns)){var r=f;return r instanceof ns?o:Pe(r)?Ja(r.then((function(e){return e instanceof ns?o.toPromise():e}))):Za(r)}return ss(n,e)},v=function(e){return p(e).toPromise()},g=function(e){var r,i=es(n,null!==(r=n.getState().nextTree)&&void 0!==r?r:n.getState().currentTree,e.key);return!y||e.key!==t||f instanceof ns?i:Z(Z({},i),{},{isSet:!0,loadable:p(e)})},y=!0,m=function(e){return function(t){if(y){var r=f instanceof ns||Pe(f)?"hasValue"===o.state?o.contents:ts:f;f="function"===typeof t?t(r):t,Pe(f)&&(f=f.then((function(t){return h={effect:e,value:t},t})))}else{if(Pe(t))throw xe("Setting atoms to async values is not implemented.");"function"!==typeof t&&(h={effect:e,value:t}),cs(n,c,"function"===typeof t?function(n){var r=t(n);return h={effect:e,value:r},r}:t)}}},b=function(e){return function(){return m(e)(ts)}},_=function(e){return function(r){n.subscribeToTransactions((function(n){var i,a=n.getState(),s=a.currentTree,u=a.previousTree;u||(ct("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),u=s);var c=null!==(i=s.atomValues.get(t))&&void 0!==i?i:o;if("hasValue"===c.state){var l,f,d,p,v=c.contents,g=null!==(l=u.atomValues.get(t))&&void 0!==l?l:o,y="hasValue"===g.state?g.contents:ts;(null===(f=h)||void 0===f?void 0:f.effect)!==e||(null===(d=h)||void 0===d?void 0:d.value)!==v?r(v,y,!s.atomValues.has(t)):(null===(p=h)||void 0===p?void 0:p.effect)===e&&(h=null)}}),t)}},w=de(null!==(E=e.effects_UNSTABLE)&&void 0!==E?E:[]);try{for(w.s();!(d=w.n()).done;){var E,S,T=d.value,k=T({node:c,trigger:a,setSelf:m(T),resetSelf:b(T),onSet:_(T),getPromise:v,getLoadable:p,getInfo_UNSTABLE:g});if(null!=k)s.set(n,[].concat(oe(null!==(S=s.get(n))&&void 0!==S?S:[]),[k]))}}catch(A){w.e(A)}finally{w.f()}y=!1}if(!(f instanceof ns)){var I,C=f,N=Pe(C)?Ja(function(e,n){var r=n.then((function(n){var i,o;return(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&cs(e,c,n),n})).catch((function(n){var i,o;throw(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&ls(e,c,Xa(n)),n}));return r}(n,C)):Za(C);r.atomValues.set(t,N),null===(I=n.getState().nextTree)||void 0===I||I.atomValues.set(t,N)}return function(){var e;i--,null===(e=s.get(n))||void 0===e||e.forEach((function(e){return e()})),s.delete(n),n.getState().knownAtoms.delete(t)}},invalidate:function(){a=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==rs(t)&&i<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return c}function ds(e){var t=e.default,n=ae(e,ke);return as(t)?function(e){var t=ds(Z(Z({},e),{},{default:ts,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:Z(Z({},e.persistence_UNSTABLE),{},{validator:function(t){return t instanceof ns?t:Re(e.persistence_UNSTABLE).validator(t,ts)}}),effects_UNSTABLE:e.effects_UNSTABLE})),n=Ya({key:"".concat(e.key,"__withFallback"),get:function(n){var r=(0,n.get)(t);return r instanceof ns?e.default:r},set:function(e,n){return(0,e.set)(t,n)},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return os(n.key,rs(e.key)),n}(Z(Z({},n),{},{default:t})):hs(Z(Z({},n),{},{default:t}))}var ps=ds,vs=function(){function e(t){var n;be(this,e),Oe(this,"_map",void 0),Oe(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(n=null===t||void 0===t?void 0:t.mapKey)&&void 0!==n?n:function(e){return e}}return we(e,[{key:"size",value:function(){return this._map.size}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){return this._map.get(this._keyMapper(e))}},{key:"set",value:function(e,t){this._map.set(this._keyMapper(e),t)}},{key:"delete",value:function(e){this._map.delete(this._keyMapper(e))}},{key:"clear",value:function(){this._map.clear()}}]),e}(),gs={MapCache:vs}.MapCache,ys=Object.freeze({__proto__:null,MapCache:gs}),ms=ga.LRUCache,bs=ys.MapCache,_s={equality:"reference",eviction:"none",maxSize:1/0};function ws(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return oa(e)}}throw xe("Unrecognized equality policy ".concat(e))}function Es(e,t,n){switch(e){case"keep-all":return new bs({mapKey:n});case"lru":return new ms({mapKey:n,maxSize:Re(t)});case"most-recent":return new ms({mapKey:n,maxSize:1})}throw xe("Unrecognized eviction policy ".concat(e))}var Ss=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s,t=e.equality,n=void 0===t?_s.equality:t,r=e.eviction,i=void 0===r?_s.eviction:r,o=e.maxSize,a=void 0===o?_s.maxSize:o,s=ws(n),u=Es(i,a,s);return u},Ts=Ct.setConfigDeletionHandler;var ks=function(e){var t,n,r=Ss({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i=r.get(t);if(null!=i)return i;e.cachePolicyForParams_UNSTABLE;var o=ae(e,Ie),a=ps(Z(Z({},o),{},{key:"".concat(e.key,"__").concat(null!==(n=oa(t))&&void 0!==n?n:"void"),default:"function"===typeof e.default?e.default(t):e.default,retainedBy_UNSTABLE:"function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects_UNSTABLE:"function"===typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):e.effects_UNSTABLE}));return r.set(t,a),Ts(a.key,(function(){r.delete(t)})),a}},Is=Ct.setConfigDeletionHandler,Cs=0;var Ns=function(e){var t,n,r=Ss({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i=r.get(t);if(null!=i)return i;var o,a="".concat(e.key,"__selectorFamily/").concat(null!==(n=oa(t,{allowFunctions:!0}))&&void 0!==n?n:"void","/").concat(Cs++),s=function(n){return e.get(t)(n)},u=e.cachePolicy_UNSTABLE,c="function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){var l=e.set;o=Ya({key:a,get:s,set:function(e,n){return l(t)(e,n)},cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else o=Ya({key:a,get:s,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(t,o),Is(o.key,(function(){r.delete(t)})),o}},As=Ns({key:"__constant",get:function(e){return function(){return e}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var xs=function(e){return As(e)},Ps=Ns({key:"__error",get:function(e){return function(){throw xe(e)}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Rs=function(e){return Ps(e)};var Os=function(e){return e},Ds=Je.loadableWithError,Ls=Je.loadableWithPromise,Ms=Je.loadableWithValue;function js(e,t){var n,r=Array(t.length).fill(void 0),i=Array(t.length).fill(void 0),o=de(t.entries());try{for(o.s();!(n=o.n()).done;){var a=s(n.value,2),u=a[0],c=a[1];try{r[u]=e(c)}catch(nk){i[u]=nk}}}catch(l){o.e(l)}finally{o.f()}return[r,i]}function Fs(e){return null!=e&&!Pe(e)}function Us(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))}function Vs(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((function(e,n,r){return Z(Z({},e),{},X({},n,t[r]))}),{})}function qs(e,t,n){return Vs(e,n.map((function(e,n){return null==e?Ms(t[n]):Pe(e)?Ls(e):Ds(e)})))}var Bs=Ns({key:"__waitForNone",get:function(e){return function(t){var n=s(js(t.get,Us(e)),2),r=n[0],i=n[1];return qs(e,r,i)}},dangerouslyAllowMutability:!0}),zs=Ns({key:"__waitForAny",get:function(e){return function(t){var n=s(js(t.get,Us(e)),2),r=n[0],i=n[1];return i.some((function(e){return!Pe(e)}))?qs(e,r,i):new Promise((function(t){var n,o=de(i.entries());try{var a=function(){var o=s(n.value,2),a=o[0],u=o[1];Pe(u)&&u.then((function(n){r[a]=n,i[a]=void 0,t(qs(e,r,i))})).catch((function(n){i[a]=n,t(qs(e,r,i))}))};for(o.s();!(n=o.n()).done;)a()}catch(u){o.e(u)}finally{o.f()}}))}},dangerouslyAllowMutability:!0}),Ks=Ns({key:"__waitForAll",get:function(e){return function(t){var n=s(js(t.get,Us(e)),2),r=n[0],i=n[1];if(i.every((function(e){return null==e})))return Vs(e,r);var o=i.find(Fs);if(null!=o)throw o;return Promise.all(i).then((function(t){return Vs(e,(n=r,t.map((function(e,t){return void 0===e?n[t]:e}))));var n}))}},dangerouslyAllowMutability:!0}),Ws=Ns({key:"__waitForAllSettled",get:function(e){return function(t){var n=s(js(t.get,Us(e)),2),r=n[0],i=n[1];return i.every((function(e){return!Pe(e)}))?qs(e,r,i):Promise.all(i.map((function(e,t){return Pe(e)?e.then((function(e){r[t]=e,i[t]=void 0})).catch((function(e){r[t]=void 0,i[t]=e})):null}))).then((function(){return qs(e,r,i)}))}},dangerouslyAllowMutability:!0}),Hs={waitForNone:Bs,waitForAny:zs,waitForAll:Ks,waitForAllSettled:Ws,noWait:Ns({key:"__noWait",get:function(e){return function(t){var n=t.get;try{return Ms(n(e))}catch(r){return Pe(r)?Ls(r):Ds(r)}}},dangerouslyAllowMutability:!0})},Gs=Je.RecoilLoadable,Qs=Ct.DefaultValue,$s=ui,Ys=mt.isRecoilValue,Xs=Jt.retentionZone,Js=xr.freshSnapshot,Zs={DefaultValue:Qs,isRecoilValue:Ys,RecoilLoadable:Gs,RecoilRoot:$s,useRecoilBridgeAcrossReactRoots_UNSTABLE:ko,atom:ps,selector:Ya,atomFamily:ks,selectorFamily:Ns,constSelector:xs,errorSelector:Rs,readOnlySelector:Os,noWait:Hs.noWait,waitForNone:Hs.waitForNone,waitForAny:Hs.waitForAny,waitForAll:Hs.waitForAll,waitForAllSettled:Hs.waitForAllSettled,useRecoilValue:Ki,useRecoilValueLoadable:Wi,useRecoilState:Bi,useRecoilStateLoadable:zi,useSetRecoilState:Gi,useResetRecoilState:Hi,useGetRecoilValueInfo_UNSTABLE:wo,useRecoilRefresher_UNSTABLE:Zo,useRecoilCallback:$o,useRecoilTransaction_UNSTABLE:ra,useGotoRecoilSnapshot:go,useRecoilSnapshot:vo,useRecoilTransactionObserver_UNSTABLE:yo,useTransactionObservation_UNSTABLE:mo,useSetUnvalidatedAtomValues_UNSTABLE:Qi,snapshot_UNSTABLE:Js,useRetain:Ei,retentionZone:Xs},eu=Zs.RecoilRoot,tu=Zs.atom,nu=Zs.useRecoilValue,ru=Zs.useRecoilState,iu=Zs.useSetRecoilState,ou="DataLoader_center__Wj6J-",au={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},su=e.createContext&&e.createContext(au),uu=function(){return uu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},uu.apply(this,arguments)},cu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function lu(t){return t&&t.map((function(t,n){return e.createElement(t.tag,uu({key:n},t.attr),lu(t.child))}))}function fu(t){return function(n){return e.createElement(hu,uu({attr:uu({},t.attr)},n),lu(t.child))}}function hu(t){var n=function(n){var r,i=t.attr,o=t.size,a=t.title,s=cu(t,["attr","size","title"]),u=o||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",uu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:uu(uu({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==su?e.createElement(su.Consumer,null,(function(e){return n(e)})):n(au)}function du(e){return fu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}}]})(e)}function pu(e){return fu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}}]})(e)}function vu(e){return fu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}}]})(e)}function gu(e){return fu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}}]})(e)}function yu(e){return fu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8A5.87 5.87 0 016 12c0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"}}]})(e)}function mu(e){return fu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}}]})(e)}function bu(e){return fu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46a.5.5 0 00-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65A.488.488 0 0014 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1a.566.566 0 00-.18-.03c-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46a.5.5 0 00.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}}]})(e)}function _u(e){return fu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7.07L2.4 12l4.66-7H22v14zm-11.59-2L14 13.41 17.59 17 19 15.59 15.41 12 19 8.41 17.59 7 14 10.59 10.41 7 9 8.41 12.59 12 9 15.59z"}}]})(e)}function wu(e){return fu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7h-2z"}}]})(e)}function Eu(e){return fu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}}]})(e)}var Su=(0,e.createContext)({wordList:[],wordMap:{},gameNumber:-1}),Tu=function(){var t=(0,e.useContext)(Su);return t.wordList[t.gameNumber]},ku="Loading_container__w7h68",Iu="Loading_loader__TTQ90",Cu=function(){return(0,ee.jsx)("div",{className:ku,children:(0,ee.jsx)("div",{className:Iu})})},Nu=function(t){var n=t.gameId,r=t.children,i=x().lang,o=s((0,e.useState)([]),2),a=o[0],u=o[1],c=s((0,e.useState)(-1),2),l=c[0],f=c[1],h=s((0,e.useState)(null),2),d=h[0],p=h[1];if((0,e.useEffect)((function(){var e=!1;return fetch(["/ordle",null!==i&&void 0!==i?i:"","words.json"].join("/")).then((function(e){return e.json()})).then((function(t){e||u(t)})).catch((function(e){return p(e)})),function(){e=!0}}),[i,u]),(0,e.useEffect)((function(){if(void 0!==n){var e=+n;Number.isNaN(e)&&(e=n.split("").reduceRight((function(e,t,n){return e+t.charCodeAt(0)*Math.pow(31,n)}),0));var t=a.length;f((e%t+t)%t)}}),[a,n,f]),d)return(0,ee.jsx)("div",{className:ou,children:(0,ee.jsx)("h1",{children:(0,ee.jsx)(Y,{to:"/",children:(0,ee.jsx)(pu,{})})})});if(!a||0===a.length)return(0,ee.jsx)(Cu,{});if(l<0||Number.isNaN(l))return(0,ee.jsx)(Cu,{});for(var v={},g=0;g<a.length;g+=1)v[a[g]]=!0;return(0,ee.jsx)(Su.Provider,{value:{wordList:a,wordMap:v,gameNumber:l},children:r})},Au="Help_helpIcon__GMi1V",xu="Help_section__8tyt7",Pu="Dialog_blur__j10xP",Ru="Dialog_dialog__hubo-",Ou="Dialog_header__SHss7",Du="Dialog_contents__2Vkct",Lu=function(e){var t=e.title,n=e.children,r=e.onClose;return(0,ee.jsx)("div",{className:Pu,onClick:function(e){e.stopPropagation(),r&&r()},children:(0,ee.jsxs)("div",{className:Ru,onClick:function(e){return e.stopPropagation()},children:[(0,ee.jsxs)("div",{className:Ou,children:[t,r&&(0,ee.jsx)("button",{onClick:r,children:(0,ee.jsx)(Eu,{})})]}),(0,ee.jsx)("div",{className:Du,children:n}),r&&(0,ee.jsx)("footer",{children:(0,ee.jsx)("button",{onClick:r,children:"Lukk"})})]})})},Mu={letter:"Letter_letter__Tyl4+",yes:"Letter_yes__F395a",maybe:"Letter_maybe__tHvhi",no:"Letter_no__2LLCt"},ju=function(e){var t=e.letter,n=e.mode,r=e.className;return(0,ee.jsx)("div",{className:[r,Mu.letter,"yes"===n&&Mu.yes,"maybe"===n&&Mu.maybe,"no"===n&&Mu.no].filter(Boolean).join(" "),children:t})},Fu=(0,e.createContext)({segments:{},setActive:function(){throw new Error("Not implemented")}}),Uu=function(t){var n=t.initial,r=t.children,i=t.mode,o=s((0,e.useState)((function(){switch(i){case"single":if(n){if("string"!==typeof n)throw new Error("Wrong type provided for initial");return X({},n,!0)}break;case"multiple":if(n){if(!Array.isArray(n))throw new Error("Wrong type provided for initial");return n.reduce((function(e,t){return Z(Z({},e),{},X({},t,!0))}),{})}}return{}})),2),a=o[0],u=o[1],c=(0,e.useCallback)((function(e){u("multiple"===i?function(t){return Z(Z({},t),{},X({},e,!t[e]))}:X({},e,!0))}),[i]);return(0,ee.jsx)(Fu.Provider,{value:{segments:a,setActive:c},children:r})},Vu={segment:"Segment_segment__mLbsQ",icon:"Segment_icon__SUtwn",content:"Segment_content__rF+Zu",active:"Segment_active__r6Aj-",inactive:"Segment_inactive__lv5Ik"},qu=function(t){var n=t.id,r=t.title,i=t.children,o=(0,e.useContext)(Fu),a=o.segments,s=o.setActive,u=!!a[n];return(0,ee.jsxs)("div",{className:[Vu.segment,u&&Vu.active,!u&&Vu.inactive].filter(Boolean).join(" "),children:[(0,ee.jsxs)("header",{onClick:function(){return s(n)},role:"button",children:[u&&(0,ee.jsx)(gu,{}),!u&&(0,ee.jsx)(vu,{}),r]}),(0,ee.jsx)("div",{className:Vu.content,children:i})]})},Bu=function(){var n=["ordle",x().lang,"help-dialog"].join("/"),r=s((0,e.useState)((function(){return!localStorage.getItem(n)})),2),i=r[0],o=r[1],a=(0,e.useCallback)((function(){o(!1),localStorage.setItem(n,String(Date.now()))}),[n]),u=(0,e.useMemo)((function(){return i?(0,ee.jsx)(Lu,{title:"Ordle",onClose:a,children:(0,ee.jsxs)("div",{children:[(0,ee.jsxs)("p",{children:[(0,ee.jsx)("strong",{children:"Ordle"})," er en norsk variant av"," ",(0,ee.jsx)("a",{href:"https://www.powerlanguage.co.uk/wordle/",target:"wordle",rel:"noreferrer noopener",children:"Wordle"}),". Det er bare for g\xf8y og for \xe5 l\xe6re norsk."]}),(0,ee.jsxs)(Uu,{initial:"rules",mode:"single",children:[(0,ee.jsxs)(qu,{id:"rules",title:"Reglene",children:[(0,ee.jsx)("div",{className:xu,children:"Hver omgang har et hemmelig ord som best\xe5r av fem bokstaver. Du har seks fors\xf8k p\xe5 \xe5 finne det riktige ordet. Lykke til!"}),(0,ee.jsx)("hr",{}),(0,ee.jsxs)("div",{className:xu,children:[(0,ee.jsx)(ju,{letter:"\xf8",mode:"yes"}),(0,ee.jsx)("p",{children:"Hvis en bokstav ser ut som dette, er den riktige bokstaven p\xe5 den riktige plassen. Bra!"})]}),(0,ee.jsxs)("div",{className:xu,children:[(0,ee.jsx)(ju,{letter:"\xf8",mode:"maybe"}),(0,ee.jsx)("p",{children:"Hvis en bokstav ser ut som dette, har du funnet en riktig bokstav, men plassen er feil."})]}),(0,ee.jsxs)("div",{className:xu,children:[(0,ee.jsx)(ju,{letter:"\xf8",mode:"no"}),(0,ee.jsx)("p",{children:"Hvis en bokstav ser ut som dette, er ikke bokstaven i ordet."})]})]}),(0,ee.jsxs)(qu,{id:"words",title:"\xabHva er disse ordene?\xbb",children:[(0,ee.jsxs)("p",{children:["Ordene som brukes i app-en kommer fra"," ",(0,ee.jsx)("a",{href:"https://nb.no",target:"_blank",rel:"noopener noreferrer",children:"Nasjonalbibliotekets ordbank"}),"."," "]}),(0,ee.jsx)("blockquote",{children:"Fullformslisten inneholder alle mulige b\xf8yde former av oppslagsordene i tr\xe5d med gjeldende rettskrivning. Denne tabellen inneholder ogs\xe5 former som er tenkelige, men i praksis brukes sjelden eller aldri."})]})]})]})}):null}),[i,a]),c=(0,t.createPortal)(i?u:null,document.body);return(0,ee.jsxs)("div",{className:Au,role:"button",onClick:function(){return o(!0)},children:[(0,ee.jsx)(mu,{}),c]})},zu=function(){var e=s(zc(),1)[0];return e[Tu()]?"found-word":6===Object.keys(e).length?"no-guesses":void 0},Ku=function(){var t=zc()[1],n=Kc().clear,r=N(),i=x().lang,o=(0,e.useContext)(Su).wordList;return(0,e.useCallback)((function(){t({}),n();var e=Math.floor(Math.random()*o.length);r("/".concat(i,"/").concat(e))}),[r,i,o,n,t])},Wu="Random_randomIcon__dmdMh",Hu=function(){var e=Ku();return(0,ee.jsx)("div",{className:Wu,role:"button",onClick:e,children:(0,ee.jsx)(yu,{})})},Gu="Title_container__EheYh",Qu="Title_gameNumber__2p2iA",$u=function(){var t=x().lang,n=(0,e.useContext)(Su).gameNumber;return(0,ee.jsxs)("div",{className:Gu,children:[(0,ee.jsx)("h1",{children:(0,ee.jsx)(Y,{to:"/".concat(t),children:"Ordle"})}),(0,ee.jsxs)("span",{className:Qu,children:["# ",n]})]})},Yu="Language_flag__UbAE+",Xu=[{name:"bokm\xe5l",flag:"\ud83c\uddf3\ud83c\uddf4",code:"nb-no"},{name:"nynorsk",flag:"\ud83c\uddf3\ud83c\uddf4",code:"nn-no"}].reduce((function(e,t){return Z(Z({},e),{},X({},t.code,t))}),{}),Ju=function(){var e=x().lang;if(!e)return null;var t=Xu[e];return t?(0,ee.jsx)(Y,{className:Yu,to:"/",children:t.flag}):null},Zu="Settings_icon__Z-Jly",ec=n(740),tc="8.10.0";ec.default.registerVersion("firebase",tc,"app"),ec.default.SDK_VERSION=tc,function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(Ol){this.f(Ol)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(Ol){n.reject(Ol)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(ep){o(ep)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function f(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==h(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++m)}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var S=Date.now;function T(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function k(e){return e}function I(e,t,n){this.code=A+e,this.message=t||x[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new I(t.substring(A.length),e.message,e.serverResponse):null}T(I,Error),I.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},I.prototype.toJSON=function(){return this.w()};var N,A="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(e){for(var t in P)if(P[t].id===e)return{firebaseEndpoint:(e=P[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function O(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function M(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function j(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}N=R("__EID__")?"__EID__":void 0,T(D,Error),D.prototype.name="CustomError",T(L,D),L.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var V=new j((function(){return new B}),(function(e){e.reset()}));function q(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=V.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},K=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var W=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e,t){return 0<=z(e,t)}function $(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function X(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=s.navigator;if(le){var fe=le.userAgent;if(fe){Z=fe;break e}}Z=""}function he(e){return ue(Z,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ge.length;o++)n=ge[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function me(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===Se&&t||"",this.b=Ee}function _e(e){return e instanceof be&&e.constructor===be&&e.b===Ee?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.ta=!0,be.prototype.sa=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var we,Ee={},Se={};function Te(){if(void 0===we){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(n){s.console&&s.console.error(n.message)}we=e}else we=e}return we}function ke(e,t){this.a=t===xe?e:""}function Ie(e){return e instanceof ke&&e.constructor===ke?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Ce(e,t){var n=_e(e);if(!Ae.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Te();return new ke(e=t?t.createScriptURL(e):e,xe)}(e=n.replace(Ne,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?_e(e):encodeURIComponent(String(e))})))}ke.prototype.ta=!0,ke.prototype.sa=function(){return this.a.toString()},ke.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ne=/%{(\w+)}/g,Ae=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,xe={};function Pe(e,t){this.a=t===Fe?e:""}function Re(e){return e instanceof Pe&&e.constructor===Pe?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Pe.prototype.ta=!0,Pe.prototype.sa=function(){return this.a.toString()},Pe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Oe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,De=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Le=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Me(e){if(e instanceof Pe)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e))e=new Pe(e,Fe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(De);e=t&&Oe.test(t[1])?new Pe(e,Fe):null}return e}function je(e){return e instanceof Pe?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e)||(e="about:invalid#zClosurez"),new Pe(e,Fe))}var Fe={},Ue=new Pe("about:invalid#zClosurez",Fe);function Ve(e,t,n){this.a=n===qe?e:""}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qe={};function Be(e,t,n,r){return e=e instanceof Pe?e:je(e),t=t||s,n=n instanceof be?_e(n):n||"",t.open(Re(e),n,r,void 0)}function ze(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ke(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function We(e){return We[" "](e),e}We[" "]=f;var He,Ge=he("Opera"),Qe=he("Trident")||he("MSIE"),$e=he("Edge"),Ye=$e||Qe,Xe=he("Gecko")&&!(ue(Z.toLowerCase(),"webkit")&&!he("Edge"))&&!(he("Trident")||he("MSIE"))&&!he("Edge"),Je=ue(Z.toLowerCase(),"webkit")&&!he("Edge");function Ze(){var e=s.document;return e?e.documentMode:void 0}e:{var et="",tt=function(){var e=Z;return Xe?/rv:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Je?/WebKit\/(\S+)/.exec(e):Ge?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tt&&(et=tt?tt[1]:""),Qe){var nt=Ze();if(null!=nt&&nt>parseFloat(et)){He=String(nt);break e}}He=et}var rt,it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ee(String(He)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Qe){var at=Ze();rt=at||(parseInt(He,10)||void 0)}else rt=void 0;var st=rt;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(fa){}var ut=!Qe||9<=Number(st);function ct(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function lt(e,t){de(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:dt.hasOwnProperty(n)?e.setAttribute(dt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ft,ht,dt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}K(a?J(o):o,r)}}}function vt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function gt(e){s.setTimeout((function(){throw e}),0)}function yt(e,t){ht||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);ht=function(){e.then(_t)}}else ht=function(){var e=_t;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!he("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ft||(ft=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!he("Presto")&&(e=function(){var e=vt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!he("Trident")&&!he("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ft(e)):s.setImmediate(e)}}(),mt||(ht(),mt=!0),bt.add(e,t)}var mt=!1,bt=new U;function _t(){for(var e;e=q();){try{e.a.call(e.b)}catch(t){gt(t)}F(V,e)}mt=!1}function wt(e,t){if(this.a=Et,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){Lt(n,St,e)}),(function(e){if(!(e instanceof Bt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(nk){}Lt(n,Tt,e)}))}catch(r){Lt(this,Tt,r)}}var Et=0,St=2,Tt=3;function kt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}kt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var It=new j((function(){return new kt}),(function(e){e.reset()}));function Ct(e,t,n){var r=It.get();return r.g=e,r.b=t,r.f=n,r}function Nt(e){if(e instanceof wt)return e;var t=new wt(f);return Lt(t,St,e),t}function At(e){return new wt((function(t,n){n(e)}))}function xt(e,t,n){Mt(e,t,n,null)||yt(E(t,e))}function Pt(e){return new wt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)xt(e[o],E(i,o,!0),E(i,o,!1));else t(r)}))}function Rt(e,t){if(e.a==Et)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Et&&1==r?Rt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ft(n),Ut(n,i,Tt,t)))}e.c=null}else Lt(e,Tt,t)}function Ot(e,t){e.b||e.a!=St&&e.a!=Tt||jt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Dt(e,t,n,r){var i=Ct(null,null,null);return i.a=new wt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(Ol){o(Ol)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Bt?o(t):e(i)}catch(Ol){o(Ol)}}:o})),i.a.c=e,Ot(e,i),i.a}function Lt(e,t,n){e.a==Et&&(e===n&&(t=Tt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Mt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,jt(e),t!=Tt||n instanceof Bt||function(e,t){e.g=!0,yt((function(){e.g&&qt.call(null,t)}))}(e,n)))}function Mt(e,t,n,r){if(e instanceof wt)return Ot(e,Ct(t||f,n||null,r)),!0;if(O(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function jt(e){e.h||(e.h=!0,yt(e.gc,e))}function Ft(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Ut(e,t,n,r){if(n==Tt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Vt(t,n,r);else try{t.c?t.g.call(t.f):Vt(t,n,r)}catch(nk){qt.call(null,nk)}F(It,t)}function Vt(e,t,n){t==St?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}wt.prototype.then=function(e,t,n){return Dt(this,p(e)?e:null,p(t)?t:null,n)},wt.prototype.$goog_Thenable=!0,(e=wt.prototype).oa=function(e,t){return(e=Ct(e,e,t)).c=!0,Ot(this,e),this},e.o=function(e,t){return Dt(this,null,e,t)},e.cancel=function(e){if(this.a==Et){var t=new Bt(e);yt((function(){Rt(this,t)}),this)}},e.$c=function(e){this.a=Et,Lt(this,St,e)},e.ad=function(e){this.a=Et,Lt(this,Tt,e)},e.gc=function(){for(var e;e=Ft(this);)Ut(this,e,this.a,this.i);this.h=!1};var qt=gt;function Bt(e){D.call(this,e)}function zt(){0!=Kt&&(Wt[g(this)]=this),this.ya=this.ya,this.pa=this.pa}T(Bt,D),Bt.prototype.name="cancel";var Kt=0,Wt={};function Ht(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Kt)){var t=g(e);if(0!=Kt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Wt[t]}}zt.prototype.ya=!1,zt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Gt=Object.freeze||function(e){return e},Qt=!Qe||9<=Number(st),$t=Qe&&!ot("9"),Yt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",f,t),s.removeEventListener("test",f,t)}catch(n){}return e}();function Xt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Jt(e,t){if(Xt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Xe){e:{try{We(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Zt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Xt.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Jt,Xt);var Zt=Gt({2:"touch",3:"pen",4:"mouse"});Jt.prototype.preventDefault=function(){Jt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,$t)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Jt.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function rn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function on(e){this.src=e,this.a={},this.b=0}function an(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}on.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=sn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new nn(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var un="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(e,t,n,r,i){if(r&&r.once)hn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=wn(n),e&&e[en]?Sn(e,t,n,v(r)?!!r.capture:!!r,i):fn(e,t,n,!1,r,i)}function fn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=bn(e);if(s||(e[un]=s=new on(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=mn,t=Qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function hn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else n=wn(n),e&&e[en]?Tn(e,t,n,v(r)?!!r.capture:!!r,i):fn(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=wn(n),e&&e[en]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=sn(o=e.a[t],n,r,i))&&(rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=sn(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[en])an(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(an(n,e),0==n.b&&(n.src=null,t[un]=null)):rn(e)}}}function vn(e){return e in cn?cn[e]:cn[e]="on"+e}function gn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=yn(o,r),i=i&&!1!==o)}return i}function yn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&pn(e),n.call(r,t)}function mn(e,t){if(e.wa)return!0;if(!Qt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Jt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=gn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=gn(r[i],e,!1,t),n=n&&o}return n}return yn(e,new Jt(t,this))}function bn(e){return(e=e[un])instanceof on?e:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(e){return p(e)?e:(e[_n]||(e[_n]=function(t){return e.handleEvent(t)}),e[_n])}function En(){zt.call(this),this.v=new on(this),this.bc=this,this.hb=null}function Sn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Tn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function kn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&an(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function In(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Cn(e){var t=null;return new wt((function(n,r){-1==(t=In((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function Nn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function An(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function xn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof xn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Pn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Rn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Rn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(En,zt),En.prototype[en]=!0,En.prototype.addEventListener=function(e,t,n,r){ln(this,e,t,n,r)},En.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},En.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Xt(e,n);else if(e instanceof Xt)e.target=e.target||n;else{var i=e;ye(e=new Xt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=kn(a,r,!0,e)&&i}if(i=kn(a=e.b=n,r,!0,e)&&i,i=kn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=kn(a=e.b=t[o],r,!1,e)&&i;return i},En.prototype.Da=function(){if(En.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)rn(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=xn.prototype).X=function(){Pn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Pn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Rn(this.b,e)?this.b[e]:t},e.set=function(e,t){Rn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Dn?(this.i=void 0!==t?t:e.i,Ln(this,e.c),this.l=e.l,this.a=e.a,Mn(this,e.g),this.f=e.f,jn(this,nr(e.b)),this.h=e.h):e&&(n=String(e).match(On))?(this.i=!!t,Ln(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Mn(this,n[4]),this.f=Bn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!t,this.b=new Yn(null,this.i))}function Ln(e,t,n){e.c=n?Bn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Mn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function jn(e,t,n){t instanceof Yn?(e.b=t,function(e,t){t&&!e.f&&(Xn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zn(this,t),tr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=zn(t,Qn)),e.b=new Yn(t,e.i))}function Fn(e,t,n){e.b.set(t,n)}function Un(e,t){return e.b.get(t)}function Vn(e){return e instanceof Dn?new Dn(e):new Dn(e,void 0)}function qn(e,t,n,r){var i=new Dn(null,void 0);return e&&Ln(i,e),t&&(i.a=t),n&&Mn(i,n),r&&(i.f=r),i}function Bn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Kn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(zn(t,Wn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(zn(t,Wn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(zn(n,"/"==n.charAt(0)?Gn:Hn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",zn(n,$n)),e.join("")},Dn.prototype.resolve=function(e){var t=new Dn(this),n=!!e.c;n?Ln(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Mn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?jn(t,nr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Wn=/[#\/\?@]/g,Hn=/[#\?:]/g,Gn=/[#\?]/g,Qn=/[#\?@]/g,$n=/#/g;function Yn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Xn(e){e.a||(e.a=new xn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Jn(e){var t=An(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Yn(null,void 0);e=Nn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Zn(e,t){Xn(e),t=rr(e,t),Rn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Rn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Pn(e)))}function er(e,t){return Xn(e),t=rr(e,t),Rn(e.a.b,t)}function tr(e,t,n){Zn(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),J(n)),e.b+=n.length)}function nr(e){var t=new Yn;return t.c=e.c,e.a&&(t.a=new xn(e.a),t.b=e.b),t}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ir(e){var t=[];return ar(new or,e,t),t.join("")}function or(){}function ar(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ar(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),cr(r,n),n.push(":"),ar(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":cr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Yn.prototype).add=function(e,t){Xn(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Xn(this),this.a.forEach((function(n,r){K(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Xn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Xn(this);var t=[];if("string"===typeof e)er(this,e)&&(t=X(t,this.a.get(rr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return Xn(this),this.c=null,er(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ur=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(e,t){t.push('"',e.replace(ur,(function(e){var t=sr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),sr[e]=t),t})),'"')}function lr(){var e=xr();return Qe&&!!st&&11==st||/Edge\/\d+/.test(e)}function fr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function hr(e,t){t=t||s.window;var n="about:blank";e&&(n=Re(Me(e)||Ue)),t.location.href=n}function dr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<dr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function pr(e){return!!((e=(e||xr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function vr(e){e=e||s.window;try{e.close()}catch(t){}}function gr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=xr().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),Cr(xr())==kr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Pe?n:Me("undefined"!=typeof n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((he("iPhone")&&!he("iPod")&&!he("iPad")||he("iPad")||he("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(me(a=vt(document,"A"),"HTMLAnchorElement"),t=t instanceof Pe?t:je(t),a.href=Re(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Be("",r,n,a),e=Re(t),a&&(Ye&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ke(e)+'">',e=new Ve(e=(r=Te())?r.createHTML(e):e,null,qe),r=a.document)&&(r.write(function(e){return e instanceof Ve&&e.constructor===Ve?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Be(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mr=/^[^@]+@[^@]+$/;function br(){var e=null;return new wt((function(t){"complete"==s.document.readyState?t():(e=function(){t()},hn(window,"load",e))})).o((function(t){throw dn(window,"load",e),t}))}function _r(e){return e=e||xr(),!("file:"!==Lr()&&"ionic:"!==Lr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){var e=s.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Er(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Sr(){return ec.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ec.default.INTERNAL.hasOwnProperty("node")?"Node":Er()?"Worker":"Browser"}function Tr(){var e=Sr();return"ReactNative"===e||"Node"===e}var kr="Firefox",Ir="Chrome";function Cr(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?kr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Ir:"Safari"}var Nr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(e,t){t=t||[];var n,r=[],i={};for(n in Nr)i[Nr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Sr())?r=Cr(i=xr()):"Worker"===r&&(r=Cr(i=xr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function xr(){return s.navigator&&s.navigator.userAgent||""}function Pr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Rr(){try{var e=s.localStorage,t=Vr();if(e)return e.setItem(t,"1"),e.removeItem(t),!lr()||!!s.indexedDB}catch(n){return Er()&&!!s.indexedDB}return!1}function Or(){return(Dr()||"chrome-extension:"===Lr()||_r())&&!Tr()&&Rr()&&!Er()}function Dr(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return s.location&&s.location.protocol||null}function Mr(e){return!pr(e=e||xr())&&Cr(e)!=kr}function jr(e){return"undefined"===typeof e?null:ir(e)}function Fr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ur(e){if(null!==e)return JSON.parse(e)}function Vr(e){return e||Math.floor(1e9*Math.random()).toString()}function qr(e){return"Safari"!=Cr(e=e||xr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function zr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=xr(),t=Sr(),this.b=pr(e)||"ReactNative"===t}function Kr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Wr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Hr(){return!(!Pr("fireauth.oauthhelper",s)&&!Pr("fireauth.iframe",s))}zr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Dr()&&"chrome-extension:"!==Lr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gr,Qr={};function $r(e){Qr[e]||(Qr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),Gr=2==Yr.abcd}catch(fa){Gr=!1}function Xr(e,t,n){Gr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Jr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Xr(e,n,t[n])}function Zr(e){var t={};return Jr(t,e),t}function ei(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Xr(t,n,ei(e[n]));return t}function ti(e){var t=e&&(e[ai]?"phone":null);if(!(t&&e&&e[oi]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");Xr(this,"uid",e[oi]),Xr(this,"displayName",e[ri]||null);var n=null;e[ii]&&(n=new Date(e[ii]).toUTCString()),Xr(this,"enrollmentTime",n),Xr(this,"factorId",t)}function ni(e){try{var t=new si(e)}catch(n){t=null}return t}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ri="displayName",ii="enrolledAt",oi="mfaEnrollmentId",ai="phoneInfo";function si(e){ti.call(this,e),Xr(this,"phoneNumber",e[ai])}function ui(e){var t={},n=e[hi],r=e[pi],i=e[vi];if(e=ni(e[di]),!i||i!=li&&i!=fi&&!n||i==fi&&!r||i==ci&&!e)throw Error("Invalid checkActionCode response!");i==fi?(t[yi]=n||null,t[bi]=n||null,t[gi]=r):(t[yi]=r||null,t[bi]=r||null,t[gi]=n||null),t[mi]=e||null,Xr(this,wi,i),Xr(this,_i,ei(t))}T(si,ti),si.prototype.w=function(){var e=si.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ci="REVERT_SECOND_FACTOR_ADDITION",li="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",hi="email",di="mfaInfo",pi="newEmail",vi="requestType",gi="email",yi="fromEmail",mi="multiFactorInfo",bi="previousEmail",_i="data",wi="operation";function Ei(e){var t=Un(e=Vn(e),Si)||null,n=Un(e,Ti)||null,r=Un(e,Ci)||null;if(r=r&&Ai[r]||null,!t||!n||!r)throw new I("argument-error",Si+", "+Ti+"and "+Ci+" are required in a valid action code URL.");Jr(this,{apiKey:t,operation:r,code:n,continueUrl:Un(e,ki)||null,languageCode:Un(e,Ii)||null,tenantId:Un(e,Ni)||null})}var Si="apiKey",Ti="oobCode",ki="continueUrl",Ii="languageCode",Ci="mode",Ni="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ci,signIn:li,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function xi(e){try{return new Ei(e)}catch(t){return null}}function Pi(e){var t=e[Mi];if("undefined"===typeof t)throw new I("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new I("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ri];if(n&&"object"===typeof n){t=n[Ui];var r=n[ji];if(n=n[Fi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new I("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new I("argument-error",Fi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new I("argument-error",Ui+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new I("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new I("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(t=e[Li])&&"object"===typeof t){if("string"===typeof(t=t[Vi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new I("argument-error",Vi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new I("argument-error",Li+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Di])&&"boolean"!==typeof t)throw new I("argument-error",Di+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Oi])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new I("argument-error",Oi+" property must be a non empty string when specified.");this.i=e||null}var Ri="android",Oi="dynamicLinkDomain",Di="handleCodeInApp",Li="iOS",Mi="url",ji="installApp",Fi="minimumVersion",Ui="packageName",Vi="bundleId";function qi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Bi=null;function zi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Bi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Bi){Bi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Bi[o]&&(Bi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Ki(e){var t=Hi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Wi(e){try{return new Ki(e)}catch(t){return null}}function Hi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=zi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(Ol){}return null}Ki.prototype.T=function(){return this.f},Ki.prototype.l=function(){return this.c},Ki.prototype.toString=function(){return this.h};var Gi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qi=["client_id","response_type","scope","redirect_uri","state"],$i={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Qi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Qi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Qi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Gi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Yi(e){for(var t in $i)if($i[t].fa==e)return $i[t];return null}function Xi(e){var t={};t["facebook.com"]=no,t["google.com"]=io,t["github.com"]=ro,t["twitter.com"]=oo;var n=e&&e[Zi];try{if(n)return t[n]?new t[n](e):new to(e);if("undefined"!==typeof e[Ji])return new eo(e)}catch(r){}return null}var Ji="idToken",Zi="providerId";function eo(e){var t=e[Zi];if(!t&&e[Ji]){var n=Wi(e[Ji]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Xr(this,"providerId",t),Xr(this,"isNewUser",n)}function to(e){eo.call(this,e),Xr(this,"profile",ei((e=Ur(e.rawUserInfo||"{}"))||{}))}function no(e){if(to.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(e){if(to.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",this.profile&&this.profile.login||null)}function io(e){if(to.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(e){if(to.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Xr(this,"username",e.screenName||null)}function ao(e){var t=Vn(e),n=Un(t,"link"),r=Un(Vn(n),"link");return t=Un(t,"deep_link_id"),Un(Vn(t),"link")||t||r||n||e}function so(e,t){if(!e&&!t)throw new I("internal-error","Internal assert: no raw session string available");if(e&&t)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?uo:co}T(to,eo),T(no,to),T(ro,to),T(io,to),T(oo,to);var uo="enroll",co="signin";function lo(){}function fo(e,t){return e.then((function(e){if(e[ts]){var n=Wi(e[ts]);if(!n||t!=n.i)throw new I("user-mismatch");return e}throw new I("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==A+"user-not-found"?new I("user-mismatch"):e}))}function ho(e,t){if(!t)throw new I("internal-error","failed to construct a credential");this.a=t,Xr(this,"providerId",e),Xr(this,"signInMethod",e)}function po(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function vo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new ho(e.providerId,e.pendingToken)}catch(t){}return null}function go(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Xr(this,"idToken",t.idToken),t.accessToken&&Xr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Xr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");Xr(this,"accessToken",t.oauthToken),Xr(this,"secret",t.oauthTokenSecret)}Xr(this,"providerId",e),Xr(this,"signInMethod",n)}function yo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Jn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function mo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new go(e.providerId,t,e.signInMethod)}catch(n){}}return null}function bo(e,t){this.Qc=t||[],Jr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Yi(e)||{}).Ja||null,this.pb=null}function _o(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,e,[])}function wo(e){bo.call(this,e,Qi),this.a=[]}function Eo(){wo.call(this,"facebook.com")}function So(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Eo).credential({accessToken:t})}function To(){wo.call(this,"github.com")}function ko(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new To).credential({accessToken:t})}function Io(){wo.call(this,"google.com"),this.Ca("profile")}function Co(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new Io).credential({idToken:n,accessToken:t})}function No(){bo.call(this,"twitter.com",Gi)}function Ao(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new go("twitter.com",n,"twitter.com")}function xo(e,t,n){this.a=e,this.f=t,Xr(this,"providerId","password"),Xr(this,"signInMethod",n===Ro.EMAIL_LINK_SIGN_IN_METHOD?Ro.EMAIL_LINK_SIGN_IN_METHOD:Ro.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(e){return e&&e.email&&e.password?new xo(e.email,e.password,e.signInMethod):null}function Ro(){Jr(this,{providerId:"password",isOAuthProvider:!1})}function Oo(e,t){if(!(t=Do(t)))throw new I("argument-error","Invalid email link!");return new xo(e,t.code,Ro.EMAIL_LINK_SIGN_IN_METHOD)}function Do(e){return(e=xi(e=ao(e)))&&e.operation===li?e:null}function Lo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new I("internal-error");this.a=e,Xr(this,"providerId","phone"),this.fa="phone",Xr(this,"signInMethod","phone")}function Mo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Lo(t)}return null}function jo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Fo(e){try{this.a=e||ec.default.auth()}catch(t){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Jr(this,{providerId:"phone",isOAuthProvider:!1})}function Uo(e,t){if(!e)throw new I("missing-verification-id");if(!t)throw new I("missing-verification-code");return new Lo({fb:e,eb:t})}function Vo(e){if(e.temporaryProof&&e.phoneNumber)return new Lo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Co(o,n);case"facebook.com":return So(n);case"github.com":return ko(n);case"twitter.com":return Ao(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new ho(t,a):new go(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new wo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function qo(e){if(!e.isOAuthProvider)throw new I("invalid-oauth-provider")}function Bo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function zo(e){return(e=e||{}).type?new Bo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function Ko(){this.b=null,this.a=[]}so.prototype.Ha=function(){return this.a?Nt(this.a):Nt(this.b)},so.prototype.w=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lo.prototype.ka=function(){},lo.prototype.b=function(){},lo.prototype.c=function(){},lo.prototype.w=function(){},ho.prototype.ka=function(e){return Ss(e,po(this))},ho.prototype.b=function(e,t){var n=po(this);return n.idToken=t,Ts(e,n)},ho.prototype.c=function(e,t){return fo(ks(e,po(this)),t)},ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},go.prototype.ka=function(e){return Ss(e,yo(this))},go.prototype.b=function(e,t){var n=yo(this);return n.idToken=t,Ts(e,n)},go.prototype.c=function(e,t){return fo(ks(e,yo(this)),t)},go.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},bo.prototype.Ka=function(e){return this.Jb=ve(e),this},T(_o,bo),T(wo,bo),wo.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},wo.prototype.Rb=function(){return J(this.a)},wo.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new go(this.providerId,n,this.providerId)},T(Eo,wo),Xr(Eo,"PROVIDER_ID","facebook.com"),Xr(Eo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(To,wo),Xr(To,"PROVIDER_ID","github.com"),Xr(To,"GITHUB_SIGN_IN_METHOD","github.com"),T(Io,wo),Xr(Io,"PROVIDER_ID","google.com"),Xr(Io,"GOOGLE_SIGN_IN_METHOD","google.com"),T(No,bo),Xr(No,"PROVIDER_ID","twitter.com"),Xr(No,"TWITTER_SIGN_IN_METHOD","twitter.com"),xo.prototype.ka=function(e){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?au(e,Os,{email:this.a,oobCode:this.f}):au(e,tu,{email:this.a,password:this.f})},xo.prototype.b=function(e,t){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?au(e,Ds,{idToken:t,email:this.a,oobCode:this.f}):au(e,Gs,{idToken:t,email:this.a,password:this.f})},xo.prototype.c=function(e,t){return fo(this.ka(e),t)},xo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Jr(Ro,{PROVIDER_ID:"password"}),Jr(Ro,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Jr(Ro,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Lo.prototype.ka=function(e){return e.gb(jo(this))},Lo.prototype.b=function(e,t){var n=jo(this);return n.idToken=t,au(e,ru,n)},Lo.prototype.c=function(e,t){var n=jo(this);return n.operation="REAUTH",fo(e=au(e,iu,n),t)},Lo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Fo.prototype.gb=function(e,t){var n=this.a.a;return Nt(t.verify()).then((function(r){if("string"!==typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=v(e)?e.session:null,a=v(e)?e.phoneNumber:e;return i=o&&o.type==uo?o.Ha().then((function(e){return function(e,t){return au(e,$s,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==co?o.Ha().then((function(t){return function(e,t){return au(e,Ys,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return au(e,Ws,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Jr(Fo,{PROVIDER_ID:"phone"}),Jr(Fo,{PHONE_SIGN_IN_METHOD:"phone"}),Bo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Bo.prototype.T=function(){return this.h},Bo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Wo,Ho=null;function Go(e){var t="unauthorized-domain",n=void 0,r=Vn(e);e=r.a,"chrome-extension"==(r=r.c)?n=ze("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=ze("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",I.call(this,t,n)}function Qo(e,t,n){I.call(this,e,n),(e=t||{}).Kb&&Xr(this,"email",e.Kb),e.ea&&Xr(this,"phoneNumber",e.ea),e.credential&&Xr(this,"credential",e.credential),e.$b&&Xr(this,"tenantId",e.$b)}function $o(e){if(e.code){var t=e.code||"";0==t.indexOf(A)&&(t=t.substring(A.length));var n={credential:Vo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new I(t,e.message||void 0);return new Qo(t,n,e.message)}return null}function Yo(){}function Xo(e){return e.c||(e.c=e.b())}function Jo(){}function Zo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(nk){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ea(){}function ta(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function na(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ra(e,t,n){this.reset(e,t,n,void 0,void 0)}T(Go,I),T(Qo,I),Qo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ye(e,t),e},Qo.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,T(Jo,Yo),Jo.prototype.a=function(){var e=Zo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Jo.prototype.b=function(){var e={};return Zo(this)&&(e[0]=!0,e[1]=!0),e},Wo=new Jo,T(ea,Yo),ea.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ta;throw Error("Unsupported browser")},ea.prototype.b=function(){return{}},(e=ta.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,na(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",na(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,na(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ra.prototype.a=null;function ia(e){this.f=e,this.b=this.c=this.a=null}function oa(e,t){this.name=e,this.value=t}ra.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||S(),delete this.a},oa.prototype.toString=function(){return this.name};var aa=new oa("SEVERE",1e3),sa=new oa("WARNING",900),ua=new oa("CONFIG",700),ca=new oa("FINE",500);function la(e){return e.c?e.c:e.a?la(e.a):(M("Root logger has no level set."),null)}ia.prototype.log=function(e,t,n){if(e.value>=la(this).value)for(p(t)&&(t=t()),e=new ra(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var fa,ha={},da=null;function pa(e){var t;if(da||(da=new ia(""),ha[""]=da,da.c=ua),!(t=ha[e])){t=new ia(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=pa(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ha[e]=t}return t}function va(e,t){e&&e.log(ca,t,void 0)}function ga(e){this.f=e}function ya(e){En.call(this),this.u=e,this.h=void 0,this.readyState=ma,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=pa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(ga,Yo),ga.prototype.a=function(){return new ya(this.f)},ga.prototype.b=(fa={},function(){return fa}),T(ya,En);var ma=0;function ba(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function _a(e){e.readyState=4,e.g=null,e.c=null,e.m=null,wa(e)}function wa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ea(e){En.call(this),this.headers=new xn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Sa,this.u=this.S=!1}(e=ya.prototype).open=function(e,t){if(this.readyState!=ma)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,wa(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,_a(this)),this.readyState=ma},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,wa(this)),this.a&&(this.readyState=3,wa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ba(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?_a(this):wa(this),3==this.readyState&&ba(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,_a(this))},e.sc=function(e){this.a&&(this.response=e,_a(this))},e.Va=function(e){var t=this.i;t&&t.log(sa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&_a(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(sa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(sa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),T(Ea,En);var Sa="";Ea.prototype.b=pa("goog.net.XhrIo");var Ta=/^https?$/i,ka=["POST","PUT"];function Ia(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Wo.a(),e.C=e.D?Xo(e.D):Xo(Wo),e.a.onreadystatechange=w(e.Wb,e);try{va(e.b,La(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return va(e.b,La(e,"Error opening Xhr: "+a.message)),void Na(e,a)}t=r||"";var o=new xn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)K(e,t,void 0);else for(var n=An(e),r=Nn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Ca,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Q(ka,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Ra(e),0<e.g&&(e.u=function(e){return Qe&&ot(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),va(e.b,La(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=In(e.Ma,e.g,e)),va(e.b,La(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){va(e.b,La(e,"Send error: "+a.message)),Na(e,a)}}function Ca(e){return"content-type"==e.toLowerCase()}function Na(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Aa(e),Pa(e)}function Aa(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function xa(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==Oa(e)&&2==Da(e))va(e.b,La(e,"Local request error detected and ignored"));else if(e.i&&4==Oa(e))In(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Oa(e)){va(e.b,La(e,"Request complete")),e.c=!1;try{var t,n=Da(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(On)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ta.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Oa(e)?e.a.statusText:""}catch(l){va(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+Da(e)+"]",Aa(e)}}finally{Pa(e)}}}function Pa(e,t){if(e.a){Ra(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(nk){(e=e.b)&&e.log(aa,"Problem encountered resetting onreadystatechange: "+nk.message,void 0)}}}function Ra(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Oa(e){return e.a?e.a.readyState:0}function Da(e){try{return 2<Oa(e)?e.a.status:-1}catch(t){return-1}}function La(e,t){return t+" ["+e.P+" "+e.l+" "+Da(e)+"]"}function Ma(e){var t=Ga;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ja(e,t,n){e.a=!0,e.c=n,e.f=!t,qa(e)}function Fa(e){if(e.a){if(!e.v)throw new Ba(e);e.v=!1}}function Ua(e,t,n,r){e.g.push([t,n,r]),e.a&&qa(e)}function Va(e){return G(e.g,(function(e){return p(e[1])}))}function qa(e){if(e.h&&e.a&&Va(e)){var t=e.h,n=Wa[t];n&&(s.clearTimeout(n.a),delete Wa[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(O(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Va(e)||(n=!0)}}e.c=t,r&&(u=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof Ma?(Ua(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Ka(t),Wa[t.a]=t,e.h=t.a)}function Ba(){D.call(this)}function za(){D.call(this)}function Ka(e){this.a=s.setTimeout(w(this.c,this),0),this.b=e}(e=Ea.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",va(this.b,La(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(va(this.b,La(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Pa(this,!0)),Ea.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?xa(this):this.Jc())},e.Jc=function(){xa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Sa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(aa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return va(this.b,"Can not get response: "+t.message),null}},Ma.prototype.cancel=function(e){if(this.a)this.c instanceof Ma&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new za(this),Fa(this),ja(this,!1,e))}},Ma.prototype.m=function(e,t){this.i=!1,ja(this,e,t)},Ma.prototype.then=function(e,t,n){var r,i,o=new wt((function(e,t){r=e,i=t}));return Ua(this,r,(function(e){e instanceof za?o.cancel():i(e)})),o.then(e,t,n)},Ma.prototype.$goog_Thenable=!0,T(Ba,D),Ba.prototype.message="Deferred has already fired",Ba.prototype.name="AlreadyCalledError",T(za,D),za.prototype.message="Deferred was canceled",za.prototype.name="CanceledError",Ka.prototype.c=function(){throw delete Wa[this.a],this.b};var Wa={};function Ha(e){var t={},n=t.document||document,r=Ie(e).toString(),i=vt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ma(o),u=null,f=null!=t.timeout?t.timeout:5e3;return 0<f&&(u=window.setTimeout((function(){Qa(i,!0);var e=new Xa(Ya,"Timeout reached for loading script "+r);Fa(a),ja(a,!1,e)}),f),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Qa(i,t.xd||!1,u),Fa(a),ja(a,!0,null))},i.onerror=function(){Qa(i,!0,u);var e=new Xa($a,"Error while loading script "+r);Fa(a),ja(a,!1,e)},ye(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),lt(i,o),function(e,t){me(e,"HTMLScriptElement"),e.src=Ie(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Ga(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Qa(e,!0,this.Ma)}}function Qa(e,t,n){null!=n&&s.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var $a=0,Ya=1;function Xa(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function Ja(e){this.f=e}function Za(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||ns,this.g=ve(e.secureTokenHeaders||rs),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||is,this.a=ve(e.firebaseHeaders||os),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Sr(),!(n=s.XMLHttpRequest||n&&ec.default.INTERNAL.node&&ec.default.INTERNAL.node.XMLHttpRequest)&&!Er())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Er()?this.f=new ga(self):Tr()?this.f=new Ja(n):this.f=new ea,this.b=null}T(Xa,D),T(Ja,Yo),Ja.prototype.a=function(){return new this.f},Ja.prototype.b=function(){return{}};var es,ts="idToken",ns=new zr(3e4,6e4),rs={"Content-Type":"application/x-www-form-urlencoded"},is=new zr(3e4,6e4),os={"Content-Type":"application/json"};function as(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ss(e,t){t&&(e.l=us("https://securetoken.googleapis.com/v1/token",t),e.h=us("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=us("https://identitytoolkit.googleapis.com/v2/",t))}function us(e,t){return e=Vn(e),t=Vn(t.url),e.f=e.a+e.f,Ln(e,t.c),e.a=t.a,Mn(e,t.g),e.toString()}function cs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ls(e,t,n,r,i,o,a){(function(){var e=xr();return!((e=Cr(e)!=Ir?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Qe||!st||9<st)})()||Er()?e=w(e.u,e):(es||(es=new wt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[hs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ua(e,null,t,void 0)}(Ha(Ce(fs,{onload:hs})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,a)}Za.prototype.T=function(){return this.b},Za.prototype.u=function(e,t,n,r,i,o){if(Er()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ea(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Sn(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return va(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(Ol){e=null}t&&t(e)})),Tn(a,"ready",(function(){u&&clearTimeout(u),Ht(this)})),Tn(a,"timeout",(function(){u&&clearTimeout(u),Ht(this),t&&t(null)})),Ia(a,e,n,r,i)};var fs=new be(Se,"https://apis.google.com/js/client.js?onload=%{onload}"),hs="__fcb"+Math.floor(1e6*Math.random()).toString();function ds(e,t,n,r,i,o,a){var s=Vn(t+n);Fn(s,"key",e.c),a&&Fn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(s,c,i[c]);return new wt((function(t,n){ls(e,s.toString(),(function(e){e?e.error?n(uu(e,o||{})):t(e):n(new I("network-request-failed"))}),r,u?void 0:ir(Fr(i)),e.a,e.v.get())}))}function ps(e){if("string"!==typeof(e=e.email)||!mr.test(e))throw new I("invalid-email")}function vs(e){"email"in e&&ps(e)}function gs(e){if(!e[ts]){if(e.mfaPendingCredential)throw new I("multi-factor-auth-required",null,ve(e));throw new I("internal-error")}}function ys(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new I("internal-error")}else{if(!e.sessionInfo)throw new I("missing-verification-id");if(!e.code)throw new I("missing-verification-code")}}Za.prototype.s=function(e,t,n,r,i){var o=this;es.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Za.prototype.Ab=function(){return au(this,Qs,{})},Za.prototype.Cb=function(e,t){return au(this,Hs,{idToken:e,email:t})},Za.prototype.Db=function(e,t){return au(this,Gs,{idToken:e,password:t})};var ms={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function bs(e){if(!e.phoneVerificationInfo)throw new I("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new I("missing-verification-code")}function _s(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new I("internal-error")}function ws(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(er(e=new Yn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Es(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=$o(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=$o(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=$o(e)):e.errorMessage&&(t=su(e.errorMessage)),t)throw t;gs(e)}function Ss(e,t){return t.returnIdpCredential=!0,au(e,Xs,t)}function Ts(e,t){return t.returnIdpCredential=!0,au(e,Zs,t)}function ks(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,au(e,Js,t)}function Is(e){if(!e.oobCode)throw new I("invalid-action-code")}(e=Za.prototype).Eb=function(e,t){var n={idToken:e},r=[];return de(ms,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),au(this,Hs,n)},e.wb=function(e,t){return ye(e={requestType:"PASSWORD_RESET",email:e},t),au(this,qs,e)},e.xb=function(e,t){return ye(e={requestType:"EMAIL_SIGNIN",email:e},t),au(this,Fs,e)},e.vb=function(e,t){return ye(e={requestType:"VERIFY_EMAIL",idToken:e},t),au(this,Us,e)},e.Fb=function(e,t,n){return ye(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),au(this,Vs,e)},e.gb=function(e){return au(this,nu,e)},e.ob=function(e,t){return au(this,Ks,{oobCode:e,newPassword:t})},e.Sa=function(e){return au(this,Ns,{oobCode:e})},e.kb=function(e){return au(this,Cs,{oobCode:e})};var Cs={endpoint:"setAccountInfo",A:Is,Z:"email",B:!0},Ns={endpoint:"resetPassword",A:Is,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new I("internal-error")},B:!0},As={endpoint:"signupNewUser",A:function(e){if(ps(e),!e.password)throw new I("weak-password")},G:gs,V:!0,B:!0},xs={endpoint:"createAuthUri",B:!0},Ps={endpoint:"deleteAccount",O:["idToken"]},Rs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new I("internal-error")}},Os={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ps,G:gs,V:!0,B:!0},Ds={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ps,G:gs,V:!0},Ls={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:bs,G:gs,B:!0,Na:!0},Ms={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:bs,G:gs,B:!0,Na:!0},js={endpoint:"getAccountInfo"},Fs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new I("internal-error");ps(e)},Z:"email",B:!0},Us={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new I("internal-error");ps(e)},Z:"email",B:!0},Bs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},zs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new I("internal-error")}},Ks={endpoint:"resetPassword",A:Is,Z:"email",B:!0},Ws={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Hs={endpoint:"setAccountInfo",O:["idToken"],A:vs,V:!0},Gs={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(vs(e),!e.password)throw new I("weak-password")},G:gs,V:!0},Qs={endpoint:"signupNewUser",G:gs,V:!0,B:!0},$s={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new I("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Ys={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Xs={endpoint:"verifyAssertion",A:_s,Za:ws,G:Es,V:!0,B:!0},Js={endpoint:"verifyAssertion",A:_s,Za:ws,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new I("user-not-found");if(e.errorMessage)throw su(e.errorMessage);gs(e)},V:!0,B:!0},Zs={endpoint:"verifyAssertion",A:function(e){if(_s(e),!e.idToken)throw new I("internal-error")},Za:ws,G:Es,V:!0},eu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new I("invalid-custom-token")},G:gs,V:!0,B:!0},tu={endpoint:"verifyPassword",A:function(e){if(ps(e),!e.password)throw new I("wrong-password")},G:gs,V:!0,B:!0},nu={endpoint:"verifyPhoneNumber",A:ys,G:gs,B:!0},ru={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new I("internal-error");ys(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",$o(e);gs(e)}},iu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ys,G:gs,B:!0},ou={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[ts]^!!e.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function au(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return At(new I("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Nt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ds(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new I("internal-error");return r[t.Z]}))}function su(e){return uu({error:{errors:[{message:e}],code:400,message:e}})}function uu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new I(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ye(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new I(r[i],t);return!t&&e&&(t=jr(e)),new I("internal-error",t)}function cu(e){this.b=e,this.a=null,this.sb=function(e){return(du||(du=new wt((function(e,t){function n(){Br(),Pr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Br(),t(Error("Network Error"))},timeout:fu.get()})}if(Pr("gapi.iframes.Iframe"))e();else if(Pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Pr("gapi.load")?n():t(Error("Network Error"))},Nt(Ha(r=Ce(lu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw du=null,e})))).then((function(){return new wt((function(t,n){Pr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),hu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var lu=new be(Se,"https://apis.google.com/js/api.js?onload=%{onload}"),fu=new zr(3e4,6e4),hu=new zr(5e3,15e3),du=null;function pu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=qn((e=Vn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=qn("https",this.l,null,"/__/auth/iframe"),this.a=e,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function vu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function gu(e){try{return ec.default.app(e).auth().Ga()}catch(t){return[]}}function yu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function mu(e){var t=fr();return function(e){return au(e,Bs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Vn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Go(fr())}))}function bu(e){return e.m||(e.m=br().then((function(){if(!e.u){var t=e.c,n=e.i,r=gu(e.b),i=new pu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=J(r||[]),e.u=i.toString()}e.v=new cu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=zo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Nt(n)}return n.status="ERROR",Nt(n)}))}(e)}))),e.m}function _u(e){return e.l||(e.C=e.c?Ar(e.c,gu(e.b)):null,e.l=new Za(e.g,R(e.i),e.C),e.f&&ss(e.l,e.f)),e.l}function wu(e,t,n,r,i,o,a,s,u,c,l,f){return(e=new vu(e,t,n,r,i,f)).l=o,e.g=a,e.i=s,e.b=ve(u||null),e.f=c,e.zb(l).toString()}function Eu(e){if(this.a=e||ec.default.INTERNAL.reactNative&&ec.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Su(e){this.b=e,this.a={},this.f=w(this.c,this)}pu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Zn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Zn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Zn(this.a.b,"fw"),this.a.toString()},vu.prototype.zb=function(e){return this.h=e,this},vu.prototype.toString=function(){if(this.v){var e=Vn(this.v.url);e=qn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=qn("https",this.u,null,"/__/auth/handler");if(Fn(e,"apiKey",this.s),Fn(e,"appName",this.c),Fn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=ec.default.app(this.c).auth().la()}catch(s){n=null}for(var r in t.pb=n,Fn(e,"providerId",this.a.providerId),t=Fr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=ve(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),pe(t)||Fn(e,"customParameters",jr(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&Fn(e,"scopes",n.join(","))),this.l?Fn(e,"redirectUrl",this.l):Zn(e.b,"redirectUrl"),this.g?Fn(e,"eventId",this.g):Zn(e.b,"eventId"),this.i?Fn(e,"v",this.i):Zn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Un(e,a)&&Fn(e,a,this.b[a]);return this.h?Fn(e,"tid",this.h):Zn(e.b,"tid"),this.f?Fn(e,"eid",this.f):Zn(e.b,"eid"),(a=gu(this.c)).length&&Fn(e,"fw",a.join(",")),e.toString()},(e=yu.prototype).Pb=function(e,t,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return bu(e).then((function(){return function(e,t){return e.sb.then((function(){return new wt((function(n){e.a.send(t.type,t,n,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&vr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new wt((function(t){return function n(){Cn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Cn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=xr();return!Mr(e)&&!qr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return At(new I("popup-blocked"));if(a&&!Mr())return this.ma().o((function(t){vr(e),i(t)})),r(),Nt();this.a||(this.a=mu(_u(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw vr(e),i(t),t}));return r(),t})).then((function(){(qo(n),a)||hr(wu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=mu(_u(this)));var i=this;return this.a.then((function(){qo(t),hr(wu(i.s,i.g,i.b,e,t,fr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return bu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new I("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Y(this.h,(function(t){return t==e}))},(e=Eu.prototype).get=function(e){return Nt(this.a.getItem(e)).then((function(e){return e&&Ur(e)}))},e.set=function(e,t){return Nt(this.a.setItem(e,jr(t)))},e.U=function(e){return Nt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Tu,ku=[];function Iu(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Cu(e){this.a=e}function Nu(e){this.c=e,this.b=!1,this.a=[]}function Au(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return At(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new wt((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return xu(e,c),t})).o((function(t){throw xu(e,c),t}))}function xu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(e.a,(function(e){return e==t}))}}function Pu(){if(!Lu())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Er()&&self?(this.v=function(){var e=Er()?self:null;if(K(ku,(function(n){n.b==e&&(t=n)})),!t){var t=new Su(e);ku.push(t)}return t}(),Iu(this.v,"keyChanged",(function(t,n){return Vu(e).then((function(t){return 0<t.length&&K(e.a,(function(e){e(t)})),{keyProcessed:Q(t,n.key)}}))})),Iu(this.v,"ping",(function(){return Nt(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Nt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Nt(null)}().then((function(t){(e.h=t)&&(e.g=new Nu(new Cu(t)),Au(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Ru(e){return new wt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new wt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Ru(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Ou(e){return e.i||(e.i=Ru(e)),e.i}function Du(e,t){var n=0;return new wt((function r(i,o){Ou(e).then(t).then(i).o((function(t){if(!(3<++n))return Ou(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Lu(){try{return!!s.indexedDB}catch(fa){return!1}}function Mu(e){return e.objectStore("firebaseLocalStorage")}function ju(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Fu(e){return new wt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Uu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Au(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Nt()}function Vu(e){return Ou(e).then((function(e){var t=Mu(ju(e,!1));return t.getAll?Fu(t.getAll()):new wt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=dr(e.c,n),e.c=n}return r}))}function qu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Bu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Nt().then((function(){if(Lu()){var e=Vr(),r="__sak"+e;return Tu||(Tu=new Pu),(n=Tu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){K(t.a,(function(t){t(e)}))})),e}))}function zu(){this.a={},this.type="inMemory"}function Ku(){if(!function(){var e="Node"==Sr();if(!(e=Wu()||e&&ec.default.INTERNAL.node&&ec.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Sr())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Wu()||ec.default.INTERNAL.node.localStorage,this.type="localStorage"}function Wu(){try{var e=s.localStorage,t=Vr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Hu(){this.type="nullStorage"}function Gu(){if(!function(){var e="Node"==Sr();if(!(e=Qu()||e&&ec.default.INTERNAL.node&&ec.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Sr())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Qu()||ec.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Qu(){try{var e=s.sessionStorage,t=Vr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function $u(){var e={};e.Browser=Ju,e.Node=Zu,e.ReactNative=tc,e.Worker=nc,this.a=e[Sr()]}Su.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];K(r,(function(t){i.push(Nt().then((function(){return t(e.origin,e.data.data)})))})),Pt(i).then((function(r){var i=[];K(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),K(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Cu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Nu.prototype.close=function(){for(;0<this.a.length;)xu(this,this.a[0]);this.b=!0},(e=Pu.prototype).set=function(e,t){var n=this,r=!1;return Du(this,(function(t){return Fu((t=Mu(ju(t,!0))).get(e))})).then((function(i){return Du(n,(function(o){if(o=Mu(ju(o,!0)),i)return i.value=t,Fu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Fu(o.add(a))}))})).then((function(){return n.c[e]=t,Uu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Du(this,(function(t){return Fu(Mu(ju(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Du(this,(function(r){return n=!0,t.b++,Fu(Mu(ju(r,!0)).delete(e))})).then((function(){return delete t.c[e],Uu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Vu(e).then((function(t){0<t.length&&K(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}qu(e),t()}(this),this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e})),0==this.a.length&&qu(this)},(e=Bu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e}))},(e=zu.prototype).get=function(e){return Nt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Nt()},e.U=function(e){return delete this.a[e],Nt()},e.ca=function(){},e.ia=function(){},(e=Ku.prototype).get=function(e){var t=this;return Nt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Nt().then((function(){var r=jr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Nt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&ln(s.window,"storage",e)},e.ia=function(e){s.window&&dn(s.window,"storage",e)},(e=Hu.prototype).get=function(){return Nt(null)},e.set=function(){return Nt()},e.U=function(){return Nt()},e.ca=function(){},e.ia=function(){},(e=Gu.prototype).get=function(e){var t=this;return Nt().then((function(){return Ur(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Nt().then((function(){var r=jr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Nt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Yu,Xu,Ju={F:Ku,cb:Gu},Zu={F:Ku,cb:Gu},tc={F:Eu,cb:Hu},nc={F:Ku,cb:Hu},rc={rd:"local",NONE:"none",td:"session"};function ic(){var e=!(qr(xr())||!wr()),t=Mr(),n=Rr();this.m=e,this.h=t,this.l=n,this.a={},Yu||(Yu=new $u),e=Yu;try{this.g=!lr()&&Hr()||!s.indexedDB?new e.a.F:new Bu(Er()?new zu:new e.a.F)}catch(r){this.g=new zu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new zu}this.v=new zu,this.f=w(this.Zb,this),this.b={}}function oc(){return Xu||(Xu=new ic),Xu}function ac(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function sc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function uc(e,t,n){return n=sc(t,n),"local"==t.F&&(e.b[n]=null),ac(e,t.F).U(n)}function cc(e){e.c&&(clearInterval(e.c),e.c=null)}function lc(e){this.a=e,this.b=oc()}(e=ic.prototype).get=function(e,t){return ac(this,e.F).get(sc(e,t))},e.set=function(e,t,n){var r=sc(e,n),i=this,o=ac(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=sc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(ac(this,"local").ca(this.f),this.h||(lr()||!Hr())&&s.indexedDB||!this.l||function(e){cc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Jt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=sc(e,t),this.a[e]&&(Y(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(ac(this,"local").ia(this.f),cc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?ac(this,"local").ia(this.f):cc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Qe&&st&&10==st&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else K(e,w(this.nb,this))},e.nb=function(e){this.a[e]&&K(this.a[e],(function(e){e()}))};var fc,hc={name:"authEvent",F:"local"};function dc(){this.a=oc()}function pc(e,t){this.b=vc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===fc&&(fc=s.Int32Array?new Int32Array(Ec):Ec),this.reset()}T(pc,(function(){this.b=-1}));for(var vc=64,gc=vc-1,yc=[],mc=0;mc<gc;mc++)yc[mc]=0;var bc=X(128,yc);function _c(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|fc[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function wc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(_c(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(_c(e),i=0)}}e.c=i,e.g+=n}pc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var Ec=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Sc(){pc.call(this,8,Tc)}T(Sc,pc);var Tc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function kc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new dc,this.g=new lc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ic(e){return new I("invalid-cordova-configuration",e)}function Cc(e){var t=new Sc;wc(t,e),e=[];var n=8*t.g;56>t.c?wc(t,bc,56-t.c):wc(t,bc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(_c(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Nc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Ac(e){return e.f||(e.f=e.ma().then((function(){return new wt((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),xc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=ao(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Ur(Un(o=Vn(i),"firebaseError")||null))?C(o):null)?new Bo(r.c,r.b,null,null,o,null,r.T()):new Bo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Nc(e,i)}))}var n=new Bo("unknown",null,null,null,new I("no-auth-event")),r=!1,i=Cn(500).then((function(){return xc(e).then((function(){r||Nc(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Pr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Ho||(Ho=new Ko),function(e){var t=Ho;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Pr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function xc(e){var t=null;return function(e){return e.b.get(hc,e.a).then((function(e){return zo(e)}))}(e.g).then((function(n){return t=n,uc((n=e.g).b,hc,n.a)})).then((function(){return t}))}function Pc(e){this.a=e,this.b=oc()}(e=kc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?br().then((function(){return new wt((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):At(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Pr("universalLinks.subscribe",s))throw Ic("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Pr("BuildInfo.packageName",s))throw Ic("cordova-plugin-buildinfo is not installed");if("function"!==typeof Pr("cordova.plugins.browsertab.openUrl",s))throw Ic("cordova-plugin-browsertab is not installed");if("function"!==typeof Pr("cordova.InAppBrowser.open",s))throw Ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")}))},e.Pb=function(e,t){return t(new I("operation-not-supported-in-this-environment")),Nt()},e.Nb=function(){return At(new I("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return At(new I("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Nt().then((function(){return qo(t),Ac(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Bo(t,r,null,o,new I("no-auth-event"),null,i),u=Pr("BuildInfo.packageName",s);if("string"!==typeof u)throw new I("invalid-cordova-configuration");var c=Pr("BuildInfo.displayName",s),l={};if(xr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!xr().toLowerCase().match(/android/))return At(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Cc(o),l.sessionId=o;var f=wu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(hc,a.w(),t)})).then((function(){var t=Pr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new I("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Pr("cordova.plugins.browsertab.openUrl",s)))throw new I("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Pr("cordova.InAppBrowser.open",s)))throw new I("invalid-cordova-configuration");t=xr(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new wt((function(e,t){u=function(){var t=Pr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Cn(2e3).then((function(){t(new I("redirect-cancelled-by-user"))})))},l=function(){Kr()&&c()},o.addEventListener("resume",c,!1),xr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return xc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Ac(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Bo("unknown",null,null,null,new I("no-auth-event")),e(t))}))},e.Ta=function(e){Y(this.b,(function(t){return t==e}))};var Rc={name:"pendingRedirect",F:"session"};function Oc(e){return uc(e.b,Rc,e.a)}function Dc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new $c,this.C=new el,this.g=new Pc(Gc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Lc(this.D,this.v,this.m,N,this.J)}function Lc(e,t,n,r,i){var o=ec.default.SDK_VERSION||null;return _r()?new kc(e,t,n,o,r,i):new yu(e,t,n,o,r,i)}function Mc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function jc(e){e.a.Yb()&&Mc(e).o((function(t){var n=new Bo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));zc(t)&&e.s(n)})),e.a.Ub()||Yc(e.b)}function Fc(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Rc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Oc(e.g).then((function(){Mc(e).o((function(t){var n=new Bo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));zc(t)&&e.s(n)}))})):jc(e)})).o((function(){jc(e)}))}function Uc(e,t){Y(e.h,(function(e){return e==t}))}Dc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Lc(this.D,this.v,this.m,null,this.J),this.i={}},Dc.prototype.s=function(e){if(!e)throw new I("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Yc(this.b),t};var Vc=new zr(2e3,1e4),qc=new zr(3e4,6e4);function Bc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function zc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Kc(e,t,n,r,i){var o;return function(e){return e.b.set(Rc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(zc(t))throw new I("operation-not-supported-in-this-environment");return o=t,Oc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new wt((function(){})):Oc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Wc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Vc.get())}Dc.prototype.ra=function(){return this.b.ra()};var Hc={};function Gc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Qc(e,t,n,r){var i=Gc(t,n,r);return Hc[i]||(Hc[i]=new Dc(e,t,n,r)),Hc[i]}function $c(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Yc(e){e.g||(e.g=!0,Zc(e,!1,null,null))}function Xc(e){e.g&&!e.i&&Zc(e,!1,null,null)}function Jc(e,t){if(e.b=function(){return Nt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Zc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return At(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Jc(e,n):Jc(e,{user:null}),e.f=[],e.c=[]}function el(){}function tl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function nl(e,t){this.a=t,Xr(this,"verificationId",e)}function rl(e,t,n,r){return new Fo(e).gb(t,n).then((function(e){return new nl(e,r)}))}function il(e){var t=Hi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Jr(this,{token:e,expirationTime:Wr(1e3*t.exp),authTime:Wr(1e3*t.auth_time),issuedAtTime:Wr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function ol(e,t,n){var r=t&&t[sl];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new so(null,r),this.b=[];var i=this;K(t[al]||[],(function(e){(e=ni(e))&&i.b.push(e)})),Xr(this,"auth",this.a),Xr(this,"session",this.c),Xr(this,"hints",this.b)}$c.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$c.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Zc(this,!0,null,e.a),Nt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Zc(e,s,t,null)})).o((function(t){Zc(e,s,null,t)}))}(this,e,t):At(new I("invalid-auth-event")):(Zc(this,!1,null,null),Nt())}else At(new I("invalid-auth-event"))},$c.prototype.ra=function(){var e=this;return new wt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new I("timeout");e.a&&e.a.cancel(),e.a=Cn(qc.get()).then((function(){e.b||(e.g=!0,Zc(e,!0,null,t))}))}(e))}))},el.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Nt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):At(new I("invalid-auth-event"))}else At(new I("invalid-auth-event"))},nl.prototype.confirm=function(e){return e=Uo(this.verificationId,e),this.a(e)};var al="mfaInfo",sl="mfaPendingCredential";function ul(e,t,n,r){I.call(this,"multi-factor-auth-required",r,t),this.b=new ol(e,t,n),Xr(this,"resolver",this.b)}function cl(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ul(t,e.serverResponse,n,e.message)}catch(r){}return null}function ll(){}function fl(e){Xr(this,"factorId",e.fa),this.a=e}function hl(e){if(fl.call(this,e),this.a.fa!=Fo.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function dl(e,t){for(var n in Xt.call(this,e),t)this[n]=t[n]}function pl(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&K(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[oi]=e.uid),e.displayName&&(r[ri]=e.displayName),e.enrollmentTime&&(r[ii]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ai]=e.phoneNumber);try{t=new si(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),vl(this,n)}function vl(e,t){e.b=t,Xr(e,"enrolledFactors",t)}function gl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function yl(e,t){e.stop(),e.b=Cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Kr()||!e?Nt():new wt((function(n){t=function(){Kr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){yl(e,!0)})).o((function(t){e.i(t)&&yl(e,!1)}))}function ml(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function bl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function _l(e,t){e.b=Wi(t[ts]||""),e.a=t.refreshToken,bl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function wl(e,t){return function(e,t){return new wt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ls(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(uu(e)):e.access_token&&e.refresh_token?n(e):r(new I("internal-error")):r(new I("network-request-failed"))}),"POST",Jn(t).toString(),e.g,e.m.get()):r(new I("internal-error"))}))}(e.f,t).then((function(t){return e.b=Wi(t.access_token),e.a=t.refresh_token,bl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function El(e,t){this.a=e||null,this.b=t||null,Jr(this,{lastSignInTime:Wr(t||null),creationTime:Wr(e||null)})}function Sl(e,t,n,r,i,o){Jr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Tl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=ec.default.SDK_VERSION?Ar(ec.default.SDK_VERSION):null;this.a=new Za(this.l,R(N),r),(this.u=e.emulatorConfig||null)&&ss(this.a,this.u),this.h=new ml(this.a),Dl(this,t[ts]),_l(this.h,t),Xr(this,"refreshToken",this.h.a),jl(this,n||{}),En.call(this),this.P=!1,this.s&&Or()&&(this.b=Qc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new gl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=w(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){kl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Nl(i,e.f)},this.ja=null,this.S=new pl(this,n),Xr(this,"multiFactor",this.S)}function kl(e,t){e.u=t,ss(e.a,t),e.b&&(t=e.b,e.b=Qc(e.s,e.l,e.m,e.u),e.P&&(Uc(t,e),Fc(e.b,e)))}function Il(e,t){e.qa&&dn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&ln(t,"languageCodeChanged",e.Pa)}function Cl(e,t){e.$&&dn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&ln(t,"emulatorConfigChanged",e.Ba)}function Nl(e,t){e.aa=t,cs(e.a,ec.default.SDK_VERSION?Ar(ec.default.SDK_VERSION,e.aa):null)}function Al(e,t){e.ja&&dn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&ln(t,"frameworkChanged",e.Oa)}function xl(e){try{return ec.default.app(e.m).auth()}catch(t){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Pl(e){e.J||e.D.b||(e.D.start(),dn(e,"tokenChanged",e.ba),ln(e,"tokenChanged",e.ba))}function Rl(e){dn(e,"tokenChanged",e.ba),e.D.stop()}function Dl(e,t){e.Aa=t,Xr(e,"_lat",t)}function Ll(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Pt(t).then((function(){return e}))}function Ml(e){e.b&&!e.P&&(e.P=!0,Fc(e.b,e))}function jl(e,t){Jr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new El(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Fl(){}function Ul(e){return Nt().then((function(){if(e.J)throw new I("app-deleted")}))}function Vl(e){return H(e.providerData,(function(e){return e.providerId}))}function ql(e,t){t&&(Bl(e,t.providerId),e.providerData.push(t))}function Bl(e,t){Y(e.providerData,(function(e){return e.providerId==t}))}function zl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Xr(e,t,n)}function Kl(e,t){e!=t&&(Jr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Xr(e,"metadata",function(e){return new El(e.a,e.b)}(t.metadata)):Xr(e,"metadata",new El),K(t.providerData,(function(t){ql(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Xr(e,"refreshToken",e.h.a),vl(e.S,t.S.b))}function Wl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return au(e.a,js,{idToken:t}).then(w(e.Kc,e))}(e,t).then((function(){return n||zl(e,"isAnonymous",!1),t}))}))}function Hl(e,t){t[ts]&&e.Aa!=t[ts]&&(_l(e.h,t),e.dispatchEvent(new dl("tokenChanged")),Dl(e,t[ts]),zl(e,"refreshToken",e.h.a))}function Gl(e,t){return Wl(e).then((function(){if(Q(Vl(e),t))return Ll(e).then((function(){throw new I("provider-already-linked")}))}))}function Ql(e,t,n){return Zr({user:e,credential:Vo(t),additionalUserInfo:t=Xi(t),operationType:n})}function $l(e,t){return Hl(e,t),e.reload().then((function(){return e}))}function Yl(e,t,n,r,i){if(!Or())return At(new I("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=Yi(n.providerId),a=Vr(e.uid+":::"),s=null;(!Mr()||wr())&&e.s&&n.isOAuthProvider&&(s=wu(e.s,e.l,e.m,t,n,null,a,ec.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=gr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Jl(e),!i)return e.I().then((function(){}))})).then((function(){return Bc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new wt((function(n,r){e.na(t,null,new I("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Wc(e.b,e,t,u,a)}))})).then((function(e){return u&&vr(u),e?Zr(e):null})).o((function(e){throw u&&vr(u),e})),Zl(e,r,i)}function Xl(e,t,n,r,i){if(!Or())return At(new I("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=null,a=Vr(e.uid+":::");return r=r().then((function(){if(Jl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Ll(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(nf,e.w(),t.a)),t})).then((function(){return Kc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return rf(e.ha);throw o})).then((function(){if(o)throw o})),Zl(e,r,i)}function Jl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new I("internal-error");throw new I("auth-domain-config-required")}}function Zl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),At(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new dl("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){$(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=cl(t.w(),xl(e),w(e.jc,e))),n||t}))}function ef(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[ts]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Tl(t,n,e);return e.providerData&&K(e.providerData,(function(e){e&&ql(i,Zr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function tf(e){this.a=e,this.b=oc()}ol.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[al],delete n[sl],ye(n,e),t.g(n)}))},T(ul,I),ll.prototype.tb=function(e,t,n){return t.type==uo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),ye(n,{phoneVerificationInfo:jo(e.a)}),au(t,Ls,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ye(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(e.a)}),au(t,Ms,n)}))}(this,e,t)},T(fl,ll),T(hl,fl),T(dl,Xt),(e=pl.prototype).yc=function(e){vl(this,function(e){var t=[];return K(e.mfaInfo||[],(function(e){(e=ni(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new so(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Hl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return au(r,ou,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=W(t.b,(function(e){return e.uid!=n}));return vl(t,r),Hl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},gl.prototype.start=function(){this.a=this.c,yl(this,!0)},gl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ml.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ml.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?At(new I("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?wl(this,{grant_type:"refresh_token",refresh_token:this.a}):Nt(null):Nt({accessToken:this.b.toString(),refreshToken:this.a})},El.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Tl,En),Tl.prototype.xa=function(e){this.za=e,as(this.a,e)},Tl.prototype.la=function(){return this.za},Tl.prototype.Ga=function(){return J(this.aa)},Tl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Xr(Tl.prototype,"providerId","firebase"),(e=Tl.prototype).reload=function(){var e=this;return Zl(this,Ul(this).then((function(){return Wl(e).then((function(){return Ll(e)})).then(Fl)})))},e.oc=function(e){return this.I(e).then((function(e){return new il(e)}))},e.I=function(e){var t=this;return Zl(this,Ul(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new I("internal-error");return e.accessToken!=t.Aa&&(Dl(t,e.accessToken),t.dispatchEvent(new dl("tokenChanged"))),zl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new I("internal-error");jl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?H(e,(function(e){return new Sl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)ql(this,t[n]);zl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new dl("userReloaded",{hd:e}))},e.Lc=function(e){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Zl(this,e.c(this.a,this.uid).then((function(e){return Hl(t,e),n=Ql(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Zl(this,Gl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Ql(t,e,"link"),$l(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Zl(this,Gl(this,"phone").then((function(){return rl(xl(n),e,t,w(n.rb,n))})))},e.Mc=function(e,t){var n=this;return Zl(this,Nt().then((function(){return rl(xl(n),e,t,w(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return Zl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Hl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Zl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Hl(t,e),t.reload()})))},e.Db=function(e){var t=this;return Zl(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Hl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Ul(this);var t=this;return Zl(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Hl(t,e),zl(t,"displayName",e.displayName||null),zl(t,"photoURL",e.photoUrl||null),K(t.providerData,(function(e){"password"===e.providerId&&(Xr(e,"displayName",t.displayName),Xr(e,"photoURL",t.photoURL))})),Ll(t)})).then(Fl))},e.cd=function(e){var t=this;return Zl(this,Wl(this).then((function(n){return Q(Vl(t),e)?function(e,t,n){return au(e,Rs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return K(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),K(Vl(t),(function(e){n[e]||Bl(t,e)})),n[Fo.PROVIDER_ID]||Xr(t,"phoneNumber",null),Ll(t)})):Ll(t).then((function(){throw new I("no-such-provider")}))})))},e.delete=function(){var e=this;return Zl(this,this.I().then((function(t){return au(e.a,Ps,{idToken:t})})).then((function(){e.dispatchEvent(new dl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Il(e,null),Cl(e,null),Al(e,null),e.N=[],e.J=!0,Rl(e),Xr(e,"refreshToken",null),e.b&&Uc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Mb,this):null},e.Ec=function(e){var t=this;return Yl(this,"linkViaPopup",e,(function(){return Gl(t,e.providerId).then((function(){return Ll(t)}))}),!1)},e.Nc=function(e){return Yl(this,"reauthViaPopup",e,(function(){return Nt()}),!0)},e.Fc=function(e){var t=this;return Xl(this,"linkViaRedirect",e,(function(){return Gl(t,e.providerId)}),!1)},e.Oc=function(e){return Xl(this,"reauthViaRedirect",e,(function(){return Nt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Zl(this,this.I().then((function(n){return Ts(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Ql(i,e,"link"),$l(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Zl(this,Nt().then((function(){return fo(ks(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Ql(i,e,"reauthenticate"),Hl(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return Zl(this,this.I().then((function(t){return n=t,"undefined"===typeof e||pe(e)?{}:qi(new Pi(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return Zl(this,this.I().then((function(e){return r=e,"undefined"===typeof t||pe(t)?{}:qi(new Pi(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Zl(this,e=fo(Nt(e),n.uid).then((function(e){return t=Ql(n,e,"reauthenticate"),Hl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ye(e,this.metadata.w()),K(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ye(e,this.S.w()),e};var nf={name:"redirectUser",F:"session"};function rf(e){return uc(e.b,nf,e.a)}function of(e){this.a=e,this.b=oc(),this.c=null,this.f=function(e){var t=uf("local"),n=uf("session"),r=uf("none");return function(e,t,n){var r=sc(t,n),i=ac(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Ur(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(sf,e.a).then((function(e){return e?uf(e):t}))}))}))})).then((function(t){return e.c=t,af(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(uf("local"),this.a,w(this.g,this))}function af(e,t){var n,r=[];for(n in rc)rc[n]!==t&&r.push(uc(e.b,uf(rc[n]),e.a));return r.push(uc(e.b,sf,e.a)),function(e){return new wt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)xt(e[s],E(o,s),a);else t(i)}))}(r)}of.prototype.g=function(){var e=this,t=uf("local");hf(this,(function(){return Nt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return af(e,"local").then((function(){e.c=t}))}))}))};var sf={name:"persistence",F:"session"};function uf(e){return{name:"authUser",F:e}}function cf(e,t){return hf(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function lf(e){return hf(e,(function(){return uc(e.b,e.c,e.a)}))}function ff(e,t,n){return hf(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),ef(e||{})}))}))}function hf(e,t){return e.f=e.f.then(t,t),e.f}function df(e){if(this.l=!1,Xr(this,"settings",new tl),Xr(this,"app",e),!Ef(this).options||!Ef(this).options.apiKey)throw new I("invalid-api-key");e=ec.default.SDK_VERSION?Ar(ec.default.SDK_VERSION):null,this.a=new Za(Ef(this).options&&Ef(this).options.apiKey,R(N),e),this.P=[],this.s=[],this.N=[],this.Pa=ec.default.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=ec.default.INTERNAL.createSubscribe(w(this.Ac,this)),_f(this,null),this.i=new of(Ef(this).options.apiKey+":"+Ef(this).name),this.D=new tf(Ef(this).options.apiKey+":"+Ef(this).name),this.$=If(this,function(e){var t=Ef(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(nf,e.a).then((function(e){return e&&t&&(e.authDomain=t),ef(e||{})}))}(e.D,Ef(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),rf(e.D)}));return If(e,t)}(e).then((function(){return ff(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return cf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:lf(e.i)}))):null})).then((function(t){_f(e,t||null)}));return If(e,n)}(this)),this.h=If(this,function(e){return e.$.then((function(){return mf(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(uf("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(e){var t=Ef(e).options.authDomain,n=Ef(e).options.apiKey;t&&Or()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Qc(t,n,Ef(e).name,e.R),Fc(e.b,e),Sf(e)&&Ml(Sf(e)),e.m){Ml(e.m);var r=e.m;r.xa(e.la()),Il(r,e),Nl(r=e.m,e.J),Al(r,e),kl(r=e.m,e.R),Cl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,En.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Vn(this.R.url);e=Zr({protocol:e.c,host:e.a,port:e.g,options:Zr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function pf(e){Xt.call(this,"languageCodeChanged"),this.h=e}function vf(e){Xt.call(this,"emulatorConfigChanged"),this.c=e}function gf(e){Xt.call(this,"frameworkChanged"),this.f=e}function yf(e){return e.Oa||At(new I("auth-domain-config-required"))}function mf(e){if(!Or())return At(new I("operation-not-supported-in-this-environment"));var t=yf(e).then((function(){return e.b.ra()})).then((function(e){return e?Zr(e):null}));return If(e,t)}function bf(e,t){var n={};return n.apiKey=Ef(e).options.apiKey,n.authDomain=Ef(e).options.authDomain,n.appName=Ef(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new Tl(e,t);return n&&(i.ha=n),r&&Nl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return Sf(e)&&t.uid==Sf(e).uid?(Kl(Sf(e),t),e.da(t)):(_f(e,t),Ml(t),e.da(t))})).then((function(){kf(e)}))}function _f(e,t){Sf(e)&&(function(e,t){Y(e.W,(function(e){return e==t}))}(Sf(e),e.Ba),dn(Sf(e),"tokenChanged",e.qa),dn(Sf(e),"userDeleted",e.za),dn(Sf(e),"userInvalidated",e.Aa),Rl(Sf(e))),t&&(t.W.push(e.Ba),ln(t,"tokenChanged",e.qa),ln(t,"userDeleted",e.za),ln(t,"userInvalidated",e.Aa),0<e.u&&Pl(t)),Xr(e,"currentUser",t),t&&(t.xa(e.la()),Il(t,e),Nl(t,e.J),Al(t,e),kl(t,e.R),Cl(t,e))}function wf(e,t){var n=null,r=null;return If(e,t.then((function(t){return n=Vo(t),r=Xi(t),bf(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=cl(t.w(),e,w(e.kc,e))),n||t})).then((function(){return Zr({user:Sf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Ef(e){return e.app}function Sf(e){return e.currentUser}function Tf(e){return Sf(e)&&Sf(e)._lat||null}function kf(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Tf(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Tf(e))}}function If(e,t){return e.P.push(t),t.oa((function(){$(e.P,t)})),t}function Cf(){}function Nf(){this.a={},this.b=1e12}of.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");e:{for(r in rc)if(rc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Sr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Lu()&&"none"!==e)throw n;break;default:if(!Rr()&&"none"!==e)throw n}}(e),hf(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,af(n,e)})).then((function(){if(n.c=uf(e),t)return n.b.set(n.c,t,n.a)})):Nt()}))},T(df,En),T(pf,Xt),T(vf,Xt),T(gf,Xt),(e=df.prototype).yb=function(e){return If(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,as(this.a,this.aa),this.dispatchEvent(new pf(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&br().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,ss(this.a,this.R),this.dispatchEvent(new vf(this.R))}},e.Gc=function(e){this.J.push(e),cs(this.a,ec.default.SDK_VERSION?Ar(ec.default.SDK_VERSION,this.J):null),this.dispatchEvent(new gf(this.J))},e.Ga=function(){return J(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:Ef(this).options.apiKey,authDomain:Ef(this).options.authDomain,appName:Ef(this).name,currentUser:Sf(this)&&Sf(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return wf(i,Ss(i.a,o))}))},e.Xc=function(e){if(!Or())return At(new I("operation-not-supported-in-this-environment"));var t=this,n=Yi(e.providerId),r=Vr(),i=null;(!Mr()||wr())&&Ef(this).options.authDomain&&e.isOAuthProvider&&(i=wu(Ef(this).options.authDomain,Ef(this).options.apiKey,Ef(this).name,"signInViaPopup",e,null,r,ec.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=gr(i,n&&n.va,n&&n.ua);return If(this,n=yf(this).then((function(n){return Bc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new wt((function(e,n){t.na("signInViaPopup",null,new I("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Wc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&vr(o),e?Zr(e):null})).o((function(e){throw o&&vr(o),e})))},e.Yc=function(e){if(!Or())return At(new I("operation-not-supported-in-this-environment"));var t=this,n=yf(this).then((function(){return function(e){return hf(e,(function(){return e.b.set(sf,e.c.F,e.a)}))}(t.i)})).then((function(){return Kc(t.b,"signInViaRedirect",e,void 0,t.T())}));return If(this,n)},e.ra=function(){var e=this;return mf(this).then((function(t){return e.b&&Xc(e.b.b),t})).o((function(t){throw e.b&&Xc(e.b.b),t}))},e.dd=function(e){if(!e)return At(new I("null-user"));if(this.S!=e.tenantId)return At(new I("tenant-id-mismatch"));var t=this,n={};n.apiKey=Ef(this).options.apiKey,n.authDomain=Ef(this).options.authDomain,n.appName=Ef(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[ts]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Tl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Nl(t,r),Kl(t,e),t}(e,n,t.D,t.Ga());return If(this,this.h.then((function(){if(Ef(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Sf(t)&&e.uid==Sf(t).uid?(Kl(Sf(t),e),t.da(e)):(_f(t,r),Ml(r),t.da(r))})).then((function(){kf(t)})))},e.Bb=function(){var e=this;return If(this,this.h.then((function(){return e.b&&Xc(e.b.b),Sf(e)?(_f(e,null),lf(e.i).then((function(){kf(e)}))):Nt()})))},e.Zc=function(){var e=this;return ff(this.i,Ef(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Sf(e)&&t){n=Sf(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Kl(Sf(e),t),Sf(e).I();(Sf(e)||t)&&(_f(e,t),t&&(Ml(t),t.ha=e.D),e.b&&Fc(e.b,e),kf(e))}}))},e.da=function(e){return cf(this.i,e)},e.mc=function(){kf(this),this.da(Sf(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return wf(t,Nt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Sf(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),If(e,e.h.then((function(){!e.l&&Q(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Tf(e)))})))}(this,(function(){e.next(Sf(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(Sf(r)):"function"===typeof e.next&&e.next(Sf(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(Sf(r)):"function"===typeof e.next&&e.next(Sf(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return If(this,this.h.then((function(){return Sf(t)?Sf(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return wf(t,au(t.a,eu,{token:e}))})).then((function(e){var n=e.user;return zl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return wf(n,au(n.a,tu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return wf(n,au(n.a,As,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return wf(t,e.ka(t.a))}))},e.Sc=function(e){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=Sf(e);if(t&&t.isAnonymous){var n=Zr({providerId:null,isNewUser:!1});return Zr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return wf(e,e.a.Ab()).then((function(t){var n=t.user;return zl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return Sf(this)&&Sf(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Sf(this)&&Pl(Sf(this))},e.Pc=function(e){var t=this;K(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&Sf(this)&&Rl(Sf(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),If(this,this.h.then((function(){t.l||Q(t.s,e)&&e(Tf(t))})))},e.removeAuthTokenListener=function(e){Y(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(uf("local"),e.a,this.ja),this.b&&(Uc(this.b,this),Xc(this.b.b)),Promise.resolve()},e.hc=function(e){return If(this,function(e,t){return au(e,xs,{identifier:t,continueUri:Dr()?fr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Do(e)},e.xb=function(e,t){var n=this;return If(this,Nt().then((function(){var e=new Pi(t);if(!e.c)throw new I("argument-error",Di+" must be true when sending sign in link to email");return qi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return If(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return If(this,this.a.Sa(e).then((function(e){return new ui(e)})))},e.kb=function(e){return If(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return If(this,Nt().then((function(){return"undefined"===typeof t||pe(t)?{}:qi(new Pi(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return If(this,rl(this,e,t,w(this.ab,this)))},e.Vc=function(e,t){var n=this;return If(this,Nt().then((function(){var r=t||fr(),i=Oo(e,r);if(!(r=Do(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new I("tenant-id-mismatch");return n.ab(i)})))},Cf.prototype.render=function(){},Cf.prototype.reset=function(){},Cf.prototype.getResponse=function(){},Cf.prototype.execute=function(){};var Af=null;function xf(e,t){return(t=Pf(t))&&e.a[t]||null}function Pf(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Rf(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ct(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Of(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Df(){}function Lf(){}Nf.prototype.render=function(e,t){return this.a[this.b.toString()]=new Rf(e,t),this.b++},Nf.prototype.reset=function(e){var t=xf(this,e);e=Pf(e),t&&e&&(t.delete(),delete this.a[e])},Nf.prototype.getResponse=function(e){return(e=xf(this,e))?e.getResponse():null},Nf.prototype.execute=function(e){(e=xf(this,e))&&e.execute()},Rf.prototype.getResponse=function(){return Of(this),this.b},Rf.prototype.execute=function(){Of(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Rf.prototype.delete=function(){Of(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Xr(Df,"FACTOR_ID","phone"),Lf.prototype.g=function(){return Af||(Af=new Nf),Nt(Af)},Lf.prototype.c=function(){};var Mf=null;function jf(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ff=new be(Se,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Uf=new zr(3e4,6e4);jf.prototype.g=function(e){var t=this;return new wt((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),Uf.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new I("internal-error"));delete s[t.a]},Nt(Ha(Ce(Ff,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},jf.prototype.c=function(){this.b--};var Vf=null;function qf(e,t,n,r,i,o,a){if(Xr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Mf||(Mf=new Lf),a=Mf):(Vf||(Vf=new jf),a=Vf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Kf])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Wf],!s.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ct(t)||!this.i&&ct(t).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Za(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Bf];this.a[Bf]=function(e){if(Hf(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Pr(c,s);"function"===typeof t&&t(e)}};var l=this.a[zf];this.a[zf]=function(){if(Hf(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Pr(l,s);"function"===typeof e&&e()}}}var Bf="callback",zf="expired-callback",Kf="sitekey",Wf="size";function Hf(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Gf(e,t){return e.h.push(t),t.oa((function(){$(e.h,t)})),t}function Qf(e){if(e.J)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function $f(e,t,n){var r=!1;try{this.b=n||ec.default.app()}catch(a){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=ec.default.SDK_VERSION?Ar(ec.default.SDK_VERSION,o):null,qf.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,R(N),r)}function Yf(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Xf.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=Xf[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new I("argument-error",e+" failed: "+r)}(e=qf.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Gf(this,Nt().then((function(){if(Dr()&&!Er())return br();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,au(e.s,zs,{})})).then((function(t){e.a[Kf]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Qf(this);var e=this;return Gf(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ct(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ut&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ke(a.name),'"'),a.type){o.push(' type="',Ke(a.type),'"');var s={};ye(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=vt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):lt(o,a)),2<r.length&&pt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Qf(this);var e=this;return Gf(this,this.render().then((function(t){return new wt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Y(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Qf(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Qf(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ct(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},T($f,qf);var Xf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Jf(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Zf(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function eh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function th(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function nh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function rh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function ih(e,t){return v(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function oh(e){return v(e)&&"string"===typeof e.uid}function ah(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function sh(e,t){for(var n in t){var r=t[n].name;e[r]=lh(r,e[n],t[n].j)}}function uh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:E((function(e){return this[e]}),n),set:E((function(e,t,n,r){Yf(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function ch(e,t,n,r){e[t]=lh(t,n,r)}function lh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Yf(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}sh(df.prototype,{kb:{name:"applyActionCode",j:[Jf("code")]},Sa:{name:"checkActionCode",j:[Jf("code")]},ob:{name:"confirmPasswordReset",j:[Jf("code"),Jf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Jf("email"),Jf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Jf("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Jf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ah(eh(),th(),"nextOrObserver"),th("opt_error",!0),th("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ah(eh(),th(),"nextOrObserver"),th("opt_error",!0),th("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Jf("email"),ah(eh("opt_actionCodeSettings",!0),nh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Jf("email"),eh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Jf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[rh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[rh()]},Tc:{name:"signInWithCustomToken",j:[Jf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Jf("email"),Jf("password")]},Vc:{name:"signInWithEmailLink",j:[Jf("email"),Jf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Jf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[ah({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Tl)}},nh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Jf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Jf("url"),eh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Jf("code")]}}),uh(df.prototype,{lc:{name:"languageCode",lb:ah(Jf(),nh(),"languageCode")},ti:{name:"tenantId",lb:ah(Jf(),nh(),"tenantId")}}),df.Persistence=rc,df.Persistence.LOCAL="local",df.Persistence.SESSION="session",df.Persistence.NONE="none",sh(Tl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Zf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Zf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[rh()]},rb:{name:"linkWithCredential",j:[rh()]},Dc:{name:"linkWithPhoneNumber",j:[Jf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[rh()]},ub:{name:"reauthenticateWithCredential",j:[rh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Jf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ah(eh("opt_actionCodeSettings",!0),nh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Jf(null,!0)]},cd:{name:"unlink",j:[Jf("provider")]},Cb:{name:"updateEmail",j:[Jf("email")]},Db:{name:"updatePassword",j:[Jf("password")]},ed:{name:"updatePhoneNumber",j:[rh("phone")]},Eb:{name:"updateProfile",j:[eh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Jf("email"),ah(eh("opt_actionCodeSettings",!0),nh(null,!0),"opt_actionCodeSettings",!0)]}}),sh(Nf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),sh(Cf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),sh(wt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),uh(tl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Zf("appVerificationDisabledForTesting")}}),sh(nl.prototype,{confirm:{name:"confirm",j:[Jf("verificationCode")]}}),ch(lo,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[mo,Po,Mo,vo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[ah(Jf(),eh(),"json")]),ch(Ro,"credential",(function(e,t){return new xo(e,t)}),[Jf("email"),Jf("password")]),sh(xo.prototype,{w:{name:"toJSON",j:[Jf(null,!0)]}}),sh(Eo.prototype,{Ca:{name:"addScope",j:[Jf("scope")]},Ka:{name:"setCustomParameters",j:[eh("customOAuthParameters")]}}),ch(Eo,"credential",So,[ah(Jf(),eh(),"token")]),ch(Ro,"credentialWithLink",Oo,[Jf("email"),Jf("emailLink")]),sh(To.prototype,{Ca:{name:"addScope",j:[Jf("scope")]},Ka:{name:"setCustomParameters",j:[eh("customOAuthParameters")]}}),ch(To,"credential",ko,[ah(Jf(),eh(),"token")]),sh(Io.prototype,{Ca:{name:"addScope",j:[Jf("scope")]},Ka:{name:"setCustomParameters",j:[eh("customOAuthParameters")]}}),ch(Io,"credential",Co,[ah(Jf(),ah(eh(),nh()),"idToken"),ah(Jf(),nh(),"accessToken",!0)]),sh(No.prototype,{Ka:{name:"setCustomParameters",j:[eh("customOAuthParameters")]}}),ch(No,"credential",Ao,[ah(Jf(),eh(),"token"),Jf("secret",!0)]),sh(wo.prototype,{Ca:{name:"addScope",j:[Jf("scope")]},credential:{name:"credential",j:[ah(Jf(),ah(eh(),nh()),"optionsOrIdToken"),ah(Jf(),nh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[eh("customOAuthParameters")]}}),sh(go.prototype,{w:{name:"toJSON",j:[Jf(null,!0)]}}),sh(ho.prototype,{w:{name:"toJSON",j:[Jf(null,!0)]}}),ch(Fo,"credential",Uo,[Jf("verificationId"),Jf("verificationCode")]),sh(Fo.prototype,{gb:{name:"verifyPhoneNumber",j:[ah(Jf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?ih(e.session,uo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?ih(e.session,co)&&oh(e.multiFactorHint):e.session&&e.multiFactorUid?ih(e.session,co)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),sh(Lo.prototype,{w:{name:"toJSON",j:[Jf(null,!0)]}}),sh(I.prototype,{toJSON:{name:"toJSON",j:[Jf(null,!0)]}}),sh(Qo.prototype,{toJSON:{name:"toJSON",j:[Jf(null,!0)]}}),sh(Go.prototype,{toJSON:{name:"toJSON",j:[Jf(null,!0)]}}),sh(ul.prototype,{toJSON:{name:"toJSON",j:[Jf(null,!0)]}}),sh(ol.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),sh(pl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Jf("displayName",!0)]},bd:{name:"unenroll",j:[ah({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:oh},Jf(),"multiFactorInfoIdentifier")]}}),sh($f.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ch(Ei,"parseLink",xi,[Jf("link")]),ch(Df,"assertion",(function(e){return new hl(e)}),[rh("phone")]),function(){if("undefined"===typeof ec.default||!ec.default.INTERNAL||!ec.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:li,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ci,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:df,AuthCredential:lo,Error:I};ch(e,"EmailAuthProvider",Ro,[]),ch(e,"FacebookAuthProvider",Eo,[]),ch(e,"GithubAuthProvider",To,[]),ch(e,"GoogleAuthProvider",Io,[]),ch(e,"TwitterAuthProvider",No,[]),ch(e,"OAuthProvider",wo,[Jf("providerId")]),ch(e,"SAMLAuthProvider",_o,[Jf("providerId")]),ch(e,"PhoneAuthProvider",Fo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof df)}}]),ch(e,"RecaptchaVerifier",$f,[ah(Jf(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),eh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof ec.default.app.App)}}]),ch(e,"ActionCodeURL",Ei,[]),ch(e,"PhoneMultiFactorGenerator",Df,[]),ec.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new df(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),ec.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ec.default.registerVersion("@firebase/auth","0.16.8"),ec.default.INTERNAL.extendNamespace({User:Tl})}()}.apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});n(172);0===ec.default.apps.length&&ec.default.initializeApp({apiKey:"AIzaSyCRm1TLpwpKcWcRjeDqf0kDFSewHhed64k",authDomain:"ordle-app.firebaseapp.com",projectId:"ordle-app",storageBucket:"ordle-app.appspot.com",messagingSenderId:"353830244483",appId:"1:353830244483:web:01558dc0a7c1af0afd8bb6",databaseURL:"https://ordle-app-default-rtdb.europe-west1.firebasedatabase.app"});var nc=ec.default,rc=function(){var t=s((0,e.useState)((function(){var e;return(null===(e=nc.auth().currentUser)||void 0===e?void 0:e.uid)||""})),2),n=t[0],r=t[1],i=(0,e.useCallback)((function(e){r(e?e.uid:"")}),[r]);return(0,e.useEffect)((function(){return nc.auth().onAuthStateChanged(i)}),[i]),{userId:n,path:n?"/users/".concat(n):""}};function ic(e){return fu({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(e)}function oc(e){return fu({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(e)}var ac="SettingsDialog_info__KESzQ",sc="SettingsDialog_buttons__4LikF",uc="SettingsDialog_logout__-mr0N",cc="SettingsDialog_login__lST5a",lc=function(t){var n=rc().userId,r=s((0,e.useState)(!1),2),i=r[0],o=r[1],a=(0,e.useCallback)((function(e){o(!0),nc.auth().signInWithPopup(e).catch(console.error).finally((function(){return o(!1)}))}),[]);return i?(0,ee.jsx)(qu,Z(Z({},t),{},{title:"Logger p\xe5\u2026",children:(0,ee.jsx)(Cu,{})})):n?(0,ee.jsxs)(qu,Z(Z({},t),{},{title:"Logget p\xe5",children:[(0,ee.jsx)("div",{className:ac,children:"Du er n\xe5 logget inn -- fremgangen din er lagret og vil v\xe6re tilgjengelig p\xe5 andre enheter hvor du er logget inn. Hvis du logger ut, fremgangen din vil bli lagret til neste gang."}),(0,ee.jsx)("div",{className:sc,children:(0,ee.jsx)("button",{className:uc,onClick:function(){return nc.auth().signOut().finally((function(){return o(!1)}))},children:"Logg ut"})})]})):(0,ee.jsxs)(qu,Z(Z({},t),{},{title:"Logg p\xe5",children:[(0,ee.jsx)("div",{className:ac,children:"Hvis du logger p\xe5, er det mulig \xe5 l\xf8se puslespillet p\xe5 flere enheter. Finn ord p\xe5 mobil p\xe5 bussen, og fortsett spille hjemme p\xe5 datamaskinen!"}),(0,ee.jsxs)("div",{className:sc,children:[(0,ee.jsx)("button",{className:cc,onClick:function(){return a(new nc.auth.GoogleAuthProvider)},children:(0,ee.jsx)(oc,{})}),(0,ee.jsx)("button",{className:cc,onClick:function(){return a(new nc.auth.GithubAuthProvider)},children:(0,ee.jsx)(ic,{})})]})]}))},fc={row:"SettingsSegment_row__wLeVS",toggle:"SettingsSegment_toggle__uIsub"},hc=function(e){var t=Hc().strict,n=Gc();return(0,ee.jsx)(qu,Z(Z({},e),{},{title:"Valg",children:(0,ee.jsxs)("div",{className:fc.row,children:[(0,ee.jsxs)("div",{className:fc.info,children:[(0,ee.jsx)("label",{className:fc.toggleLabel,htmlFor:"strict-mode",children:"Streng modus"}),(0,ee.jsx)("p",{children:"Oppdaget bokstaver m\xe5 brukes"})]}),(0,ee.jsx)("input",{className:fc.toggle,type:"checkbox",id:"strict-mode",onChange:function(){n({strict:!t})},checked:t})]})}))},dc=function(n){var r=n.onClose,i=(0,e.useMemo)((function(){return(0,ee.jsx)(Lu,{title:"Innstillinger",onClose:r,children:(0,ee.jsxs)(Uu,{initial:["login","settings"],mode:"multiple",children:[(0,ee.jsx)(hc,{id:"settings"}),(0,ee.jsx)(lc,{id:"login"})]})})}),[r]),o=(0,t.createPortal)(i,document.body);return(0,ee.jsx)(ee.Fragment,{children:o})},pc=function(){var n=s((0,e.useState)(!1),2),r=n[0],i=n[1],o=(0,e.useCallback)((function(){i(!1)}),[]),a=(0,e.useMemo)((function(){return r?(0,ee.jsx)(dc,{onClose:o}):null}),[o,r]),u=(0,t.createPortal)(a,document.body);return(0,ee.jsxs)("div",{className:Zu,role:"button",onClick:function(){return i(!0)},children:[(0,ee.jsx)(bu,{}),u]})},vc={header:"Header_header__FAqXw"},gc=function(e){return(0,ee.jsxs)("div",Z(Z({},e),{},{className:[e.className,vc.header].filter(Boolean).join(" "),children:[(0,ee.jsx)(Bu,{}),(0,ee.jsx)(Ju,{}),(0,ee.jsx)($u,{}),(0,ee.jsx)(pc,{}),(0,ee.jsx)(Hu,{})]}))},yc="Input_input__ShEil",mc=function(){var t=Kc().word,n=(0,e.useMemo)((function(){for(var e=[],n=0;n<5;n+=1){var r;e.push((0,ee.jsx)(ju,{mode:"unknown",letter:null!==(r=t[n])&&void 0!==r?r:" "},n))}return e}),[t]);return(0,ee.jsx)("div",{className:yc,children:n})},bc="Guess_guess__GFXBo",_c="Guess_spacer__Bz6ci",wc=function(t){var n=t.guess,r=Tu(),i=(0,e.useMemo)((function(){for(var e=new Array(0),t=r.split("").reduce((function(e,t){return Z(Z({},e),{},X({},t,(e[t]||0)+1))}),{}),i=0;i<5;i+=1)n[i]===r[i]&&(e[i]=(0,ee.jsx)(ju,{mode:"yes",letter:n[i]},i),t[n[i]]-=1);for(var o=0;o<5;o+=1)e[o]||t[n[o]]&&(e[o]=(0,ee.jsx)(ju,{mode:"maybe",letter:n[o]},o),t[n[o]]-=1);for(var a=0;a<5;a+=1)e[a]||(e[a]=(0,ee.jsx)(ju,{mode:"no",letter:n[a]},a));return e}),[r,n]);return(0,ee.jsxs)("a",{href:"https://naob.no/s\xf8k/".concat(n),target:"_blank",rel:"noreferrer noopener",className:bc,children:[(0,ee.jsx)("div",{className:_c}),i,(0,ee.jsx)("div",{className:_c,children:(0,ee.jsx)(du,{})})]})},Ec="Remaining_remaining__CCCxK",Sc=function(){return(0,ee.jsxs)("div",{className:Ec,children:[(0,ee.jsx)(ju,{mode:"unknown",letter:" "}),(0,ee.jsx)(ju,{mode:"unknown",letter:" "}),(0,ee.jsx)(ju,{mode:"unknown",letter:" "}),(0,ee.jsx)(ju,{mode:"unknown",letter:" "}),(0,ee.jsx)(ju,{mode:"unknown",letter:" "})]})},Tc={grid:"Grid_grid__Bd9GT"},kc=function(t){var n=s(zc(),1)[0],r=(0,e.useMemo)((function(){var e=Object.entries(n).sort((function(e,t){return e[1]-t[1]})).map((function(e){var t=s(e,2),n=t[0],r=t[1];return(0,ee.jsx)(wc,{guess:n},"guess-".concat(r,"-").concat(n))}));e.push((0,ee.jsx)(mc,{},"input"));for(var t=0;t<5;t+=1)e.push((0,ee.jsx)(Sc,{},"remaining-".concat(t)));return e.slice(0,6)}),[n]);return(0,ee.jsx)("div",Z(Z({},t),{},{className:[t.className,Tc.grid].filter(Boolean).join(" "),children:r}))},Ic={letter:"Key_letter__mgmDy",yes:"Key_yes__TCt3Z",maybe:"Key_maybe__mCdg0",no:"Key_no__WNjOP",unknown:"Key_unknown__H8lOb"},Cc=function(t){var n=t.letter,r=t.enabled,i=(0,e.useRef)(null),o=Kc().add,a=sl(n),s=(0,e.useCallback)((function(e){var t;r&&(e.ctrlKey||e.metaKey||e.key.toLocaleLowerCase()===n&&(o(n),null===(t=i.current)||void 0===t||t.focus()))}),[o,n,r]),u=(0,e.useCallback)((function(){r&&(o(n),navigator.vibrate(10))}),[o,n,r]);return(0,e.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}}),[s]),(0,ee.jsx)("div",{className:[Ic.letter,r&&"yes"===a&&Ic.yes,r&&"maybe"===a&&Ic.maybe,r&&"no"===a&&Ic.no,r&&"unknown"===a&&Ic.unknown].filter(Boolean).join(" "),onClick:u,role:"button",ref:i,tabIndex:0,children:n})},Nc="Row_row__E1gjG",Ac="Row_actionKey__TghO6",xc=function(){var t=Kc().commit,n=(0,e.useCallback)((function(e){if("Enter"===e.code){t();try{var n;null===(n=document.activeElement)||void 0===n||n.blur()}catch(r){}}}),[t]);return(0,e.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[n]),(0,ee.jsx)("div",{className:Ac,role:"button",onClick:function(){t(),navigator.vibrate(10)},children:(0,ee.jsx)(wu,{})})},Pc=function(){var t=Kc().remove,n=(0,e.useCallback)((function(e){"Backspace"===e.code&&(t(),e.preventDefault())}),[t]);return(0,e.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[n]),(0,ee.jsx)("div",{className:Ac,role:"button",onClick:function(){t(),navigator.vibrate(10)},children:(0,ee.jsx)(_u,{})})},Rc=function(){return["ordle",x().lang,Tu()].join("/")},Oc=function(t){var n=t.children,r=s(zc(),2),i=(r[0],r[1]),o=Rc();return(0,e.useEffect)((function(){var e=function(){if(!o)return{};var e=localStorage.getItem(o);if(!e)return{};var t=function(){try{return JSON.parse(e)}catch(t){return{}}}();if(!t)return{};var n=Object.keys(t);return 0===n.length?{}:n.every((function(e){return"string"===typeof e&&5===e.length}))?t:{}}();i(e)}),[o,i]),(0,ee.jsx)(ee.Fragment,{children:n})},Dc="ErrorMessage_container__+N6v7",Lc="ErrorMessage_message__btxS1",Mc=function(){var e=Fc().error;return e?(0,ee.jsx)("div",{className:Dc,children:(0,ee.jsx)("div",{className:Lc,children:e})}):null},jc=tu({key:"error",default:""}),Fc=function(){var t=(0,e.useRef)(),n=s(ru(jc),2),r=n[0],i=n[1];return{error:r,setError:(0,e.useCallback)((function(e){t.current&&clearTimeout(t.current),i(e),t.current=+setTimeout((function(){i("")}),3e3)}),[i])}},Uc="found-word",Vc=function(e){ve(n,e);var t=me(n);function n(e,r,i){return be(this,n),t.call(this,Uc,{detail:{guess:e,when:r,source:i}})}return we(n)}(he(CustomEvent)),qc=tu({key:"guesses",default:{}}),Bc=tu({key:"guess",default:""}),zc=function(){return ru(qc)},Kc=function(){var t=s(ru(Bc),2),n=t[0],r=t[1],i=s(zc(),2),o=i[0],a=i[1],u=al(),c=(0,e.useContext)(Su).wordMap,l=Fc().setError,f=!!zu(),h=Rc();return{word:n,add:function(e){if(!f){var t=e.toLocaleLowerCase();u.has(t)&&r((function(e){return"".concat(e).concat(t).substring(0,5)}))}},remove:function(){f||r((function(e){return e.substring(0,Math.max(0,e.length-1))}))},commit:function(){f||n&&(5===n.length?c[n]?o[n]?l("Allerede pr\xf8vde"):(a((function(e){var t=Z(Z({},e),{},X({},n,Date.now()));return h&&localStorage.setItem(h,JSON.stringify(t)),t})),r(""),dispatchEvent(new Vc(n,new Date,"local"))):l("Ukjent ord"):l("For kort (n\xf8yaktig fem bokstaver)"))},clear:function(){return r("")}}},Wc=tu({key:"game-settings",default:{strict:!1}}),Hc=function(){return nu(Wc)},Gc=function(){return iu(Wc)},Qc=function(e){var t=e.row,n=e.final,r=t.split(""),i=Kc().word.length,o=ul()[i],a=Hc().strict;return(0,ee.jsxs)("div",{className:Nc,children:[n&&(0,ee.jsx)(xc,{}),r.map((function(e){return(0,ee.jsx)(Cc,{letter:e,enabled:!a||(null===o||void 0===o?void 0:o.has(e))},e)})),n&&(0,ee.jsx)(Pc,{})]})},$c={keyboard:"Keyboard_keyboard__-sHNo"},Yc="EndOverlay_overlay__xuWQK",Xc="EndOverlay_newGame__H-BFB",Jc="EndOverlay_emoji__qXeTD",Zc="EndOverlay_column__3p4AM",el=function(e){var t=e.word;return(0,ee.jsx)("h2",{children:(0,ee.jsx)("a",{href:"https://naob.no/s\xf8k/".concat(t),target:"naob",rel:"noreferrer noopener",children:t})})},tl={"no-guesses":"\ud83d\ude14","found-word":"\ud83c\udf89"},nl=function(){var e=zu(),t=Tu(),n=Ku();if(!e)return null;var r=tl[e];return r?(0,ee.jsxs)("div",{className:Yc,children:[(0,ee.jsx)("div",{className:Zc,children:(0,ee.jsx)("div",{className:Jc,children:r})}),(0,ee.jsxs)("div",{className:Zc,children:[(0,ee.jsx)(el,{word:t}),(0,ee.jsx)("button",{onClick:n,className:Xc,children:"Nytt spill"})]})]}):null},rl=(0,e.createContext)({letterMap:{}}),il={"nb-no":["qwertyuiop\xe5","asdfghjkl\xf8\xe6","zxcvbnm"],"nn-no":["qwertyuiop\xe5","asdfghjkl\xf8\xe6","zxcvbnm"]},ol=function(){var e=x().lang;if(!e)throw new Error("No language set yet");var t=il[e];if(!t)throw new Error("Unknown language: ".concat(e));return t},al=function(){var e=ol();return new Set(e.join("").split(""))},sl=function(t){var n;return null!==(n=(0,e.useContext)(rl).letterMap[t])&&void 0!==n?n:"unknown"},ul=function(){var e=Tu(),t=ol().join("").split("").sort((function(e,t){return e.localeCompare(t)})),n=s(zc(),1)[0],r=Object.keys(n),i=function(e,t){for(var n=new Set(oe(e.split(""))),r=new Set,i=0;i<t.length;i+=1)t[i].split("").forEach((function(e){n.has(e)||r.add(e)}));return r}(e,r);return e.split("").map((function(e,n){var o=new Set;r.forEach((function(e){o.add(e[n])}));var a=new Set;return o.has(e)?(a.add(e),a):(t.forEach((function(e){o.has(e)||i.has(e)||a.add(e)})),a)}))},cl=function(t){var n=ol(),r=s(zc(),1)[0],i=Tu(),o=Object.keys(r),a=(0,e.useMemo)((function(){for(var e={},t=0;t<o.length;t+=1)for(var n=o[t],r=0;r<n.length;r+=1){var a=n[r];a!==i[r]?"yes"!==e[a]&&(i.includes(a)?e[a]="maybe":"maybe"!==e[a]&&(e[a]="no")):e[a]="yes"}return e}),[o,i]);return(0,ee.jsx)(rl.Provider,{value:{letterMap:a},children:(0,ee.jsxs)("div",Z(Z({},t),{},{className:[t.className,$c.keyboard].filter(Boolean).join(" "),children:[n.map((function(e,t){return(0,ee.jsx)(Qc,{row:e,final:t===n.length-1},e)})),(0,ee.jsx)(Mc,{}),(0,ee.jsx)(nl,{})]}))})},ll="Game_container__I3xn1",fl=function(){return(0,ee.jsxs)("div",{className:ll,children:[(0,ee.jsx)(gc,{}),(0,ee.jsx)(kc,{}),(0,ee.jsx)(cl,{})]})},hl=function(t){var n=t.children,r=["ordle",x().lang,"_settings"].join("/"),i=Gc(),o=Hc();return(0,e.useEffect)((function(){var e=localStorage.getItem(r);if(e){var t=function(){try{return JSON.parse(e)}catch(t){return console.warn("Could not parse store settings",t),null}}();t&&i(t)}}),[r,i]),(0,e.useEffect)((function(){localStorage.setItem(r,JSON.stringify(o))}),[r,o]),(0,ee.jsx)(ee.Fragment,{children:n})},dl="LanguageOptions_container__zUrgJ",pl=function(){return(0,ee.jsxs)("div",{className:dl,children:[(0,ee.jsx)(Y,{to:"/nb-no",children:"bokm\xe5l"}),(0,ee.jsx)(Y,{to:"/nn-no",children:"nynorsk"})]})},vl=function(t){var n=t.children,r=(t.node,rc().path);return(0,e.useEffect)((function(){if(r){for(var e={},t=function(t){var n=localStorage.key(t);if(!n)return"continue";if(!n.startsWith("ordle/"))return"continue";var r=n.split("/")[2];if(!r)return"continue";if(5!==r.length)return"continue";var i=localStorage.getItem(n);if(!i)return"continue";var o,a=function(){try{return JSON.parse(i)}catch(e){return console.error(e),{}}}();return(o=a)&&!Array.isArray(o)&&"object"===typeof o&&Object.keys(o).every((function(e){return"string"===typeof e&&5===e.length}))?0===Object.keys(a).length?"continue":void(e[n]=a):"continue"},n=0;n<localStorage.length;n+=1)t(n);0!==Object.keys(e).length&&nc.database().ref(r).update(e)}}),[r]),(0,ee.jsx)(ee.Fragment,{children:n})},gl=function(t){var n,r=t.children,i=t.node,o=nc.database().ref(i);return n=function(e){var t=e.guess,n=e.when;"local"===e.source&&o.child(t).set(n.getTime())},(0,e.useEffect)((function(){var e=function(e){var t=e.detail;n(t)};return window.addEventListener(Uc,e),function(){window.removeEventListener(Uc,e)}}),[n]),(0,ee.jsx)(ee.Fragment,{children:r})},yl=function(t){var n=t.children,r=t.node,i=zc()[1],o=(0,e.useCallback)((function(e){var t=e.key;t&&i((function(n){return n[t]?n:Z(Z({},n),{},X({},t,e.val()))}))}),[i]);return(0,e.useEffect)((function(){var e=nc.database().ref(r);return e.on("child_added",o),function(){e.off("child_added",o)}}),[r,o]),(0,ee.jsx)(ee.Fragment,{children:n})},ml=function(e,t){return ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ml(e,t)};function bl(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ml(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function _l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(nk){o(nk)}}function s(e){try{u(r.throw(e))}catch(nk){o(nk)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function wl(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(nk){o=[6,nk],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function El(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Sl=n(293),Tl=n(386),kl=function(e,t){return kl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},kl(e,t)};function Il(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Cl,Nl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Al=Al||{},xl=Nl||self;function Pl(){}function Rl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ol(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Dl="closure_uid_"+(1e9*Math.random()>>>0),Ll=0;function Ml(e,t,n){return e.call.apply(e.bind,arguments)}function jl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Fl(e,t,n){return(Fl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ml:jl).apply(null,arguments)}function Ul(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Vl(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ql(){this.s=this.s,this.o=this.o}var Bl={};ql.prototype.s=!1,ql.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Dl)&&e[Dl]||(e[Dl]=++Ll)}(this);delete Bl[e]}},ql.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var zl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Kl=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Wl(e){return Array.prototype.concat.apply([],arguments)}function Hl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Gl(e){return/^[\s\xa0]*$/.test(e)}var Ql,$l=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Yl(e,t){return-1!=e.indexOf(t)}function Xl(e,t){return e<t?-1:e>t?1:0}e:{var Jl=xl.navigator;if(Jl){var Zl=Jl.userAgent;if(Zl){Ql=Zl;break e}}Ql=""}function ef(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function tf(e){var t={};for(var n in e)t[n]=e[n];return t}var nf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<nf.length;o++)n=nf[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function of(e){return of[" "](e),e}of[" "]=Pl;var af,sf=Yl(Ql,"Opera"),uf=Yl(Ql,"Trident")||Yl(Ql,"MSIE"),cf=Yl(Ql,"Edge"),lf=cf||uf,ff=Yl(Ql,"Gecko")&&!(Yl(Ql.toLowerCase(),"webkit")&&!Yl(Ql,"Edge"))&&!(Yl(Ql,"Trident")||Yl(Ql,"MSIE"))&&!Yl(Ql,"Edge"),hf=Yl(Ql.toLowerCase(),"webkit")&&!Yl(Ql,"Edge");function df(){var e=xl.document;return e?e.documentMode:void 0}e:{var pf="",vf=function(){var e=Ql;return ff?/rv:([^\);]+)(\)|;)/.exec(e):cf?/Edge\/([\d\.]+)/.exec(e):uf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):hf?/WebKit\/(\S+)/.exec(e):sf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(vf&&(pf=vf?vf[1]:""),uf){var gf=df();if(null!=gf&&gf>parseFloat(pf)){af=String(gf);break e}}af=pf}var yf,mf={};function bf(){return function(e){var t=mf;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=$l(String(af)).split("."),n=$l("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Xl(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Xl(0==o[2].length,0==a[2].length)||Xl(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(xl.document&&uf){var _f=df();yf=_f||(parseInt(af,10)||void 0)}else yf=void 0;var wf=yf,Ef=function(){if(!xl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{xl.addEventListener("test",Pl,t),xl.removeEventListener("test",Pl,t)}catch(n){}return e}();function Sf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Tf(e,t){if(Sf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ff){e:{try{of(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:kf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Tf.Z.h.call(this)}}Sf.prototype.h=function(){this.defaultPrevented=!0},Vl(Tf,Sf);var kf={2:"touch",3:"pen",4:"mouse"};Tf.prototype.h=function(){Tf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var If="closure_listenable_"+(1e6*Math.random()|0),Cf=0;function Nf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Cf,this.ca=this.fa=!1}function Af(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function xf(e){this.src=e,this.g={},this.h=0}function Pf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=zl(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Af(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Rf(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}xf.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Rf(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Nf(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Of="closure_lm_"+(1e6*Math.random()|0),Df={};function Lf(e,t,n,r,i){if(r&&r.once)return jf(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Lf(e,t[o],n,r,i);return null}return n=Kf(n),e&&e[If]?e.N(t,n,Ol(r)?!!r.capture:!!r,i):Mf(e,t,n,!1,r,i)}function Mf(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Ol(i)?!!i.capture:!!i,s=Bf(e);if(s||(e[Of]=s=new xf(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=qf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ef||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Vf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function jf(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)jf(e,t[o],n,r,i);return null}return n=Kf(n),e&&e[If]?e.O(t,n,Ol(r)?!!r.capture:!!r,i):Mf(e,t,n,!0,r,i)}function Ff(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ff(e,t[o],n,r,i);else r=Ol(r)?!!r.capture:!!r,n=Kf(n),e&&e[If]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Rf(o=e.g[t],n,r,i))&&(Af(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Bf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rf(t,n,r,i)),(n=-1<e?t[e]:null)&&Uf(n))}function Uf(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[If])Pf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Vf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Bf(t))?(Pf(n,e),0==n.h&&(n.src=null,t[Of]=null)):Af(e)}}}function Vf(e){return e in Df?Df[e]:Df[e]="on"+e}function qf(e,t){if(e.ca)e=!0;else{t=new Tf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Uf(e),e=n.call(r,t)}return e}function Bf(e){return(e=e[Of])instanceof xf?e:null}var zf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kf(e){return"function"===typeof e?e:(e[zf]||(e[zf]=function(t){return e.handleEvent(t)}),e[zf])}function Wf(){ql.call(this),this.i=new xf(this),this.P=this,this.I=null}function Hf(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Sf(t,e);else if(t instanceof Sf)t.target=t.target||e;else{var i=t;rf(t=new Sf(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Gf(a,r,!0,t)&&i}if(i=Gf(a=t.g=e,r,!0,t)&&i,i=Gf(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Gf(a=t.g=n[o],r,!1,t)&&i}function Gf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Pf(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Vl(Wf,ql),Wf.prototype[If]=!0,Wf.prototype.removeEventListener=function(e,t,n,r){Ff(this,e,t,n,r)},Wf.prototype.M=function(){if(Wf.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Af(n[r]);delete t.g[e],t.h--}}this.I=null},Wf.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Wf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Qf=xl.JSON.stringify;function $f(){var e=rh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Yf,Xf=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Jf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Jf=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Zf}),(function(e){return e.reset()})),Zf=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function eh(e){xl.setTimeout((function(){throw e}),0)}function th(e,t){Yf||function(){var e=xl.Promise.resolve(void 0);Yf=function(){e.then(ih)}}(),nh||(Yf(),nh=!0),rh.add(e,t)}var nh=!1,rh=new Xf;function ih(){for(var e;e=$f();){try{e.h.call(e.g)}catch(n){eh(n)}var t=Jf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}nh=!1}function oh(e,t){Wf.call(this),this.h=e||1,this.g=t||xl,this.j=Fl(this.kb,this),this.l=Date.now()}function ah(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function sh(e,t,n){if("function"===typeof e)n&&(e=Fl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Fl(e.handleEvent,e)}return 2147483647<Number(t)?-1:xl.setTimeout(e,t||0)}function uh(e){e.g=sh((function(){e.g=null,e.i&&(e.i=!1,uh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Vl(oh,Wf),(Cl=oh.prototype).da=!1,Cl.S=null,Cl.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Hf(this,"tick"),this.da&&(ah(this),this.start()))}},Cl.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Cl.M=function(){oh.Z.M.call(this),ah(this),delete this.g};var ch=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}kl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:uh(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(xl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ql);function lh(e){ql.call(this),this.h=e,this.g={}}Vl(lh,ql);var fh=[];function hh(e,t,n,r){Array.isArray(n)||(n&&(fh[0]=n.toString()),n=fh);for(var i=0;i<n.length;i++){var o=Lf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function dh(e){ef(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Uf(e)}),e),e.g={}}function ph(){this.g=!0}function vh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Qf(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}lh.prototype.M=function(){lh.Z.M.call(this),dh(this)},lh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ph.prototype.Aa=function(){this.g=!1},ph.prototype.info=function(){};var gh={},yh=null;function mh(){return yh=yh||new Wf}function bh(e){Sf.call(this,gh.Ma,e)}function _h(e){var t=mh();Hf(t,new bh(t,e))}function wh(e,t){Sf.call(this,gh.STAT_EVENT,e),this.stat=t}function Eh(e){var t=mh();Hf(t,new wh(t,e))}function Sh(e,t){Sf.call(this,gh.Na,e),this.size=t}function Th(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return xl.setTimeout((function(){e()}),t)}gh.Ma="serverreachability",Vl(bh,Sf),gh.STAT_EVENT="statevent",Vl(wh,Sf),gh.Na="timingevent",Vl(Sh,Sf);var kh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ih={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ch(){}function Nh(e){return e.h||(e.h=e.i())}function Ah(){}Ch.prototype.h=null;var xh,Ph={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Rh(){Sf.call(this,"d")}function Oh(){Sf.call(this,"c")}function Dh(){}function Lh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new lh(this),this.P=jh,e=lf?125:void 0,this.W=new oh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Mh}function Mh(){this.i=null,this.g="",this.h=!1}Vl(Rh,Sf),Vl(Oh,Sf),Vl(Dh,Ch),Dh.prototype.g=function(){return new XMLHttpRequest},Dh.prototype.i=function(){return{}},xh=new Dh;var jh=45e3,Fh={},Uh={};function Vh(e,t,n){e.K=1,e.v=cd(rd(t)),e.s=n,e.U=!0,qh(e,null)}function qh(e,t){e.F=Date.now(),Wh(e),e.A=rd(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ed(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Mh,e.g=Tp(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ch(Fl(e.Ia,e,e.g),e.O)),hh(e.V,e.g,"readystatechange",e.gb),t=e.H?tf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_h(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Bh(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function zh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Kh(e,n))==Uh){4==t&&(e.o=4,Eh(14),i=!1),vh(e.j,e.m,null,"[Incomplete Response]");break}if(r==Fh){e.o=4,Eh(15),vh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}vh(e.j,e.m,r,null),Yh(e,r)}Bh(e)&&r!=Uh&&r!=Fh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Eh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gp(t),t.L=!0,Eh(11))):(vh(e.j,e.m,n,"[Invalid Chunked Response]"),$h(e),Qh(e))}function Kh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Uh:(n=Number(t.substring(n,r)),isNaN(n)?Fh:(r+=1)+n>t.length?Uh:(t=t.substr(r,n),e.C=r+n,t))}function Wh(e){e.Y=Date.now()+e.P,Hh(e,e.P)}function Hh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Th(Fl(e.eb,e),t)}function Gh(e){e.B&&(xl.clearTimeout(e.B),e.B=null)}function Qh(e){0==e.l.G||e.I||bp(e.l,e)}function $h(e){Gh(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ah(e.W),dh(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Yh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||xd(n.i,e)))if(n.I=e.N,!e.J&&xd(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;mp(n),sp(n)}vp(n),Eh(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Th(Fl(n.ab,n),6e3));if(1>=Ad(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else wp(n,11)}else if((e.J||n.g==e)&&mp(n),!Gl(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Yl(l,"spdy")||Yl(l,"quic")||Yl(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Pd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ud(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Sp(r,r.H?r.la:null,r.W),d.J){Rd(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Gh(p),Wh(p)),r.g=d}else pp(r);0<n.l.length&&lp(n)}else"stop"!=o[0]&&"close"!=o[0]||wp(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?wp(n,7):ap(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}_h(4)}catch(o){}}function Xh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Rl(e)||"string"===typeof e)Kl(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Rl(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Rl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Jh(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Jh)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Zh(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ed(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ed(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ed(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Cl=Lh.prototype).setTimeout=function(e){this.P=e},Cl.gb=function(e){e=e.target;var t=this.L;t&&3==tp(e)?t.l():this.Ia(e)},Cl.Ia=function(e){try{if(e==this.g)e:{var t=tp(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||lf||this.g&&(this.h.h||this.g.ga()||np(this.g)))){this.I||4!=t||7==n||_h(8==n||0>=r?3:2),Gh(this);var i=this.g.ba();this.N=i;t:if(Bh(this)){var o=np(this.g);e="";var a=o.length,s=4==tp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$h(this),Qh(this);var u="";break t}this.h.i=new xl.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gl(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Eh(12),$h(this),Qh(this);break e}vh(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yh(this,i)}this.U?(zh(this,t,u),lf&&this.i&&3==t&&(hh(this.V,this.W,"tick",this.fb),this.W.start())):(vh(this.j,this.m,u,null),Yh(this,u)),4==t&&$h(this),this.i&&!this.I&&(4==t?bp(this.l,this):(this.i=!1,Wh(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Eh(12)):(this.o=0,Eh(13)),$h(this),Qh(this)}}}catch(t){}},Cl.fb=function(){if(this.g){var e=tp(this.g),t=this.g.ga();this.C<t.length&&(Gh(this),zh(this,e,t),this.i&&4!=e&&Wh(this))}},Cl.cancel=function(){this.I=!0,$h(this)},Cl.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(_h(3),Eh(17)),$h(this),this.o=2,Qh(this)):Hh(this,this.Y-e)},(Cl=Jh.prototype).R=function(){Zh(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Cl.T=function(){return Zh(this),this.g.concat()},Cl.get=function(e,t){return ed(this.h,e)?this.h[e]:t},Cl.set=function(e,t){ed(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Cl.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var td=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function nd(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof nd){this.g=void 0!==t?t:e.g,id(this,e.j),this.s=e.s,od(this,e.i),ad(this,e.m),this.l=e.l,t=e.h;var n=new md;n.i=t.i,t.g&&(n.g=new Jh(t.g),n.h=t.h),sd(this,n),this.o=e.o}else e&&(n=String(e).match(td))?(this.g=!!t,id(this,n[1]||"",!0),this.s=ld(n[2]||""),od(this,n[3]||"",!0),ad(this,n[4]),this.l=ld(n[5]||"",!0),sd(this,n[6]||"",!0),this.o=ld(n[7]||"")):(this.g=!!t,this.h=new md(null,this.g))}function rd(e){return new nd(e)}function id(e,t,n){e.j=n?ld(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function od(e,t,n){e.i=n?ld(t,!0):t}function ad(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sd(e,t,n){t instanceof md?(e.h=t,function(e,t){t&&!e.j&&(bd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_d(this,t),Ed(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=fd(t,gd)),e.h=new md(t,e.g))}function ud(e,t,n){e.h.set(t,n)}function cd(e){return ud(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ld(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function fd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,hd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function hd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}nd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(fd(t,dd,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(fd(t,dd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(fd(n,"/"==n.charAt(0)?vd:pd,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",fd(n,yd)),e.join("")};var dd=/[#\/\?@]/g,pd=/[#\?:]/g,vd=/[#\?]/g,gd=/[#\?@]/g,yd=/#/g;function md(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bd(e){e.g||(e.g=new Jh,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _d(e,t){bd(e),t=Sd(e,t),ed(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ed((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Zh(e)))}function wd(e,t){return bd(e),t=Sd(e,t),ed(e.g.h,t)}function Ed(e,t,n){_d(e,t),0<n.length&&(e.i=null,e.g.set(Sd(e,t),Hl(n)),e.h+=n.length)}function Sd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Cl=md.prototype).add=function(e,t){bd(this),this.i=null,e=Sd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Cl.forEach=function(e,t){bd(this),this.g.forEach((function(n,r){Kl(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Cl.T=function(){bd(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Cl.R=function(e){bd(this);var t=[];if("string"===typeof e)wd(this,e)&&(t=Wl(t,this.g.get(Sd(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Wl(t,e[n])}return t},Cl.set=function(e,t){return bd(this),this.i=null,wd(this,e=Sd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Cl.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Cl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Td=function(e,t){this.h=e,this.g=t};function kd(e){this.l=e||Cd,xl.PerformanceNavigationTiming?e=0<(e=xl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(xl.g&&xl.g.Ea&&xl.g.Ea()&&xl.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Id,Cd=10;function Nd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ad(e){return e.h?1:e.g?e.g.size:0}function xd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Pd(e,t){e.g?e.g.add(t):e.h=t}function Rd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Od(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Il(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Hl(e.i)}function Dd(){}function Ld(){this.g=new Dd}function Md(e,t,n){var r=n||"";try{Xh(e,(function(e,n){var i=e;Ol(e)&&(i=Qf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(nk){throw t.push(r+"type="+encodeURIComponent("_badmap")),nk}}function jd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Fd(e){this.l=e.$b||null,this.j=e.ib||!1}function Ud(e,t){Wf.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Vd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kd.prototype.cancel=function(){var e,t;if(this.i=Od(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Il(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Dd.prototype.stringify=function(e){return xl.JSON.stringify(e,void 0)},Dd.prototype.parse=function(e){return xl.JSON.parse(e,void 0)},Vl(Fd,Ch),Fd.prototype.g=function(){return new Ud(this.l,this.j)},Fd.prototype.i=(Id={},function(){return Id}),Vl(Ud,Wf);var Vd=0;function qd(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Bd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,zd(e)}function zd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Cl=Ud.prototype).open=function(e,t){if(this.readyState!=Vd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,zd(this)},Cl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||xl).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Cl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bd(this)),this.readyState=Vd},Cl.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zd(this)),this.g&&(this.readyState=3,zd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof xl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qd(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Cl.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bd(this):zd(this),3==this.readyState&&qd(this)}},Cl.Ua=function(e){this.g&&(this.response=this.responseText=e,Bd(this))},Cl.Ta=function(e){this.g&&(this.response=e,Bd(this))},Cl.ha=function(){this.g&&Bd(this)},Cl.setRequestHeader=function(e,t){this.v.append(e,t)},Cl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Cl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ud.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Kd=xl.JSON.parse;function Wd(e){Wf.call(this),this.headers=new Jh,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hd,this.K=this.L=!1}Vl(Wd,Wf);var Hd="",Gd=/^https?$/i,Qd=["POST","PUT"];function $d(e){return"content-type"==e.toLowerCase()}function Yd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Xd(e),Zd(e)}function Xd(e){e.D||(e.D=!0,Hf(e,"complete"),Hf(e,"error"))}function Jd(e){if(e.h&&"undefined"!=typeof Al&&(!e.C[1]||4!=tp(e)||2!=e.ba()))if(e.v&&4==tp(e))sh(e.Fa,0,e);else if(Hf(e,"readystatechange"),4==tp(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(td)[1]||null;if(!o&&xl.self&&xl.self.location){var a=xl.self.location.protocol;o=a.substr(0,a.length-1)}i=!Gd.test(o?o.toLowerCase():"")}t=i}if(t)Hf(e,"complete"),Hf(e,"success");else{e.m=6;try{var s=2<tp(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Xd(e)}}finally{Zd(e)}}}function Zd(e,t){if(e.g){ep(e);var n=e.g,r=e.C[0]?Pl:null;e.g=null,e.C=null,t||Hf(e,"ready");try{n.onreadystatechange=r}catch(nk){}}}function ep(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(xl.clearTimeout(e.A),e.A=null)}function tp(e){return e.g?e.g.readyState:0}function np(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Hd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ef(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ud(e,t,n))}function ip(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function op(e){this.za=0,this.l=[],this.h=new ph,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ip("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ip("baseRetryDelayMs",5e3,e),this.$a=ip("retryDelaySeedMs",1e4,e),this.Ya=ip("forwardChannelMaxRetries",2,e),this.ra=ip("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new kd(e&&e.concurrentRequestLimit),this.Ca=new Ld,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ap(e){if(up(e),3==e.G){var t=e.V++,n=rd(e.F);ud(n,"SID",e.J),ud(n,"RID",t),ud(n,"TYPE","terminate"),hp(e,n),(t=new Lh(e,e.h,t,void 0)).K=2,t.v=cd(rd(n)),n=!1,xl.navigator&&xl.navigator.sendBeacon&&(n=xl.navigator.sendBeacon(t.v.toString(),"")),!n&&xl.Image&&((new Image).src=t.v,n=!0),n||(t.g=Tp(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Wh(t)}Ep(e)}function sp(e){e.g&&(gp(e),e.g.cancel(),e.g=null)}function up(e){sp(e),e.u&&(xl.clearTimeout(e.u),e.u=null),mp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&xl.clearTimeout(e.m),e.m=null)}function cp(e,t){e.l.push(new Td(e.Za++,t)),3==e.G&&lp(e)}function lp(e){Nd(e.i)||e.m||(e.m=!0,th(e.Ha,e),e.C=0)}function fp(e,t){var n;n=t?t.m:e.V++;var r=rd(e.F);ud(r,"SID",e.J),ud(r,"RID",n),ud(r,"AID",e.U),hp(e,r),e.o&&e.s&&rp(r,e.o,e.s),n=new Lh(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=dp(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Pd(e.i,n),Vh(n,r,t)}function hp(e,t){e.j&&Xh({},(function(e,n){ud(t,n,e)}))}function dp(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Fl(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Md(l,a,"req"+c+"_")}catch(av){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function pp(e){e.g||e.u||(e.Y=1,th(e.Ga,e),e.A=0)}function vp(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Th(Fl(e.Ga,e),_p(e,e.A)),e.A++,!0)}function gp(e){null!=e.B&&(xl.clearTimeout(e.B),e.B=null)}function yp(e){e.g=new Lh(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=rd(e.oa);ud(t,"RID","rpc"),ud(t,"SID",e.J),ud(t,"CI",e.N?"0":"1"),ud(t,"AID",e.U),hp(e,t),ud(t,"TYPE","xmlhttp"),e.o&&e.s&&rp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=cd(rd(t)),n.s=null,n.U=!0,qh(n,e)}function mp(e){null!=e.v&&(xl.clearTimeout(e.v),e.v=null)}function bp(e,t){var n=null;if(e.g==t){mp(e),gp(e),e.g=null;var r=2}else{if(!xd(e.i,t))return;n=t.D,Rd(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Hf(r=mh(),new Sh(r,n,t,i)),lp(e)}else pp(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ad(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Th(Fl(e.Ha,e,t),_p(e,e.C)),e.C++,!0))}(e,t)||2==r&&vp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:wp(e,5);break;case 4:wp(e,10);break;case 3:wp(e,6);break;default:wp(e,2)}}function _p(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function wp(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Fl(e.jb,e);n||(n=new nd("//www.google.com/images/cleardot.gif"),xl.location&&"http"==xl.location.protocol||id(n,"https"),cd(n)),function(e,t){var n=new ph;if(xl.Image){var r=new Image;r.onload=Ul(jd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ul(jd,n,r,"TestLoadImage: error",!1,t),r.onabort=Ul(jd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ul(jd,n,r,"TestLoadImage: timeout",!1,t),xl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Eh(2);e.G=0,e.j&&e.j.va(t),Ep(e),up(e)}function Ep(e){e.G=0,e.I=-1,e.j&&(0==Od(e.i).length&&0==e.l.length||(e.i.i.length=0,Hl(e.l),e.l.length=0),e.j.ua())}function Sp(e,t,n){var r=function(e){return e instanceof nd?rd(e):new nd(e,void 0)}(n);if(""!=r.i)t&&od(r,t+"."+r.i),ad(r,r.m);else{var i=xl.location;r=function(e,t,n,r){var i=new nd(null,void 0);return e&&id(i,e),t&&od(i,t),n&&ad(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ef(e.aa,(function(e,t){ud(r,t,e)})),t=e.D,n=e.sa,t&&n&&ud(r,t,n),ud(r,"VER",e.ma),hp(e,r),r}function Tp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Wd(new Fd({ib:!0})):new Wd(e.qa)).L=e.H,t}function kp(){}function Ip(){if(uf&&!(10<=Number(wf)))throw Error("Environmental error: no available transport.")}function Cp(e,t){Wf.call(this),this.g=new op(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Gl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Gl(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xp(this)}function Np(e){Rh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ap(){Oh.call(this),this.status=1}function xp(e){this.g=e}(Cl=Wd.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xh.g(),this.C=this.u?Nh(this.u):Nh(xh),this.g.onreadystatechange=Fl(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Yd(this,o)}e=n||"";var i=new Jh(this.headers);r&&Xh(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=$d,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=xl.FormData&&e instanceof xl.FormData,!(0<=zl(Qd,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ep(this),0<this.B&&((this.K=function(e){return uf&&bf()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fl(this.pa,this)):this.A=sh(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Yd(this,o)}},Cl.pa=function(){"undefined"!=typeof Al&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hf(this,"timeout"),this.abort(8))},Cl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Hf(this,"complete"),Hf(this,"abort"),Zd(this))},Cl.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zd(this,!0)),Wd.Z.M.call(this)},Cl.Fa=function(){this.s||(this.F||this.v||this.l?Jd(this):this.cb())},Cl.cb=function(){Jd(this)},Cl.ba=function(){try{return 2<tp(this)?this.g.status:-1}catch(Id){return-1}},Cl.ga=function(){try{return this.g?this.g.responseText:""}catch(Id){return""}},Cl.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Kd(t)}},Cl.Da=function(){return this.m},Cl.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Cl=op.prototype).ma=8,Cl.G=1,Cl.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Cl.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Lh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?rf(n=tf(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=dp(this,t,r),ud(i=rd(this.F),"RID",e),ud(i,"CVER",22),this.D&&ud(i,"X-HTTP-Session-Id",this.D),hp(this,i),this.o&&n&&rp(i,this.o,n),Pd(this.i,t),this.Ra&&ud(i,"TYPE","init"),this.ja?(ud(i,"$req",r),ud(i,"SID","null"),t.$=!0,Vh(t,i,null)):Vh(t,i,r),this.G=2}}else 3==this.G&&(e?fp(this,e):0==this.l.length||Nd(this.i)||fp(this))},Cl.Ga=function(){if(this.u=null,yp(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Th(Fl(this.bb,this),e)}},Cl.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Eh(10),sp(this),yp(this))},Cl.ab=function(){null!=this.v&&(this.v=null,sp(this),vp(this),Eh(19))},Cl.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Eh(2)):(this.h.info("Failed to ping google.com"),Eh(1))},(Cl=kp.prototype).xa=function(){},Cl.wa=function(){},Cl.va=function(){},Cl.ua=function(){},Cl.Oa=function(){},Ip.prototype.g=function(e,t){return new Cp(e,t)},Vl(Cp,Wf),Cp.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),th(Fl(e.hb,e,t))),Eh(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Sp(e,null,e.W),lp(e)},Cp.prototype.close=function(){ap(this.g)},Cp.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,cp(this.g,t)}else this.v?((t={}).__data__=Qf(e),cp(this.g,t)):cp(this.g,e)},Cp.prototype.M=function(){this.g.j=null,delete this.j,ap(this.g),delete this.g,Cp.Z.M.call(this)},Vl(Np,Rh),Vl(Ap,Oh),Vl(xp,kp),xp.prototype.xa=function(){Hf(this.g,"a")},xp.prototype.wa=function(e){Hf(this.g,new Np(e))},xp.prototype.va=function(e){Hf(this.g,new Ap(e))},xp.prototype.ua=function(){Hf(this.g,"b")},Ip.prototype.createWebChannel=Ip.prototype.g,Cp.prototype.send=Cp.prototype.u,Cp.prototype.open=Cp.prototype.m,Cp.prototype.close=Cp.prototype.close,kh.NO_ERROR=0,kh.TIMEOUT=8,kh.HTTP_ERROR=6,Ih.COMPLETE="complete",Ah.EventType=Ph,Ph.OPEN="a",Ph.CLOSE="b",Ph.ERROR="c",Ph.MESSAGE="d",Wf.prototype.listen=Wf.prototype.N,Wd.prototype.listenOnce=Wd.prototype.O,Wd.prototype.getLastError=Wd.prototype.La,Wd.prototype.getLastErrorCode=Wd.prototype.Da,Wd.prototype.getStatus=Wd.prototype.ba,Wd.prototype.getResponseJson=Wd.prototype.Qa,Wd.prototype.getResponseText=Wd.prototype.ga,Wd.prototype.send=Wd.prototype.ea;var Pp=function(){return new Ip},Rp=function(){return mh()},Op=kh,Dp=Ih,Lp=gh,Mp={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jp=Fd,Fp=Ah,Up=Wd,Vp=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Vp.o=-1;var qp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Bp=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return bl(t,e),t}(Error),zp=new Tl.Logger("@firebase/firestore");function Kp(){return zp.logLevel}function Wp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(zp.logLevel<=Tl.LogLevel.DEBUG){var r=t.map(Qp);zp.debug.apply(zp,El(["Firestore (8.10.0): "+e],r))}}function Hp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(zp.logLevel<=Tl.LogLevel.ERROR){var r=t.map(Qp);zp.error.apply(zp,El(["Firestore (8.10.0): "+e],r))}}function Gp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(zp.logLevel<=Tl.LogLevel.WARN){var r=t.map(Qp);zp.warn.apply(zp,El(["Firestore (8.10.0): "+e],r))}}function Qp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function $p(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+e;throw Hp(t),new Error(t)}function Yp(e,t){e||$p()}function Xp(e,t){return e}function Jp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Zp=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Jp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function ev(e,t){return e<t?-1:e>t?1:0}function tv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function nv(e){return e+"\0"}var rv=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bp(qp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bp(qp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Bp(qp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bp(qp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?ev(this.nanoseconds,e.nanoseconds):ev(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),iv=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new rv(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function ov(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function av(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sv(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var uv=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&$p(),void 0===n?n=e.length-t:n>e.length-t&&$p(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),cv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Bp(qp.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(uv),lv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return lv.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Bp(qp.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Bp(qp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Bp(qp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Bp(qp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(uv),hv=function(){function e(e){this.fields=e,e.sort(fv.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return tv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),dv=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return ev(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();dv.EMPTY_BYTE_STRING=new dv("");var pv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vv(e){if(Yp(!!e),"string"==typeof e){var t=0,n=pv.exec(e);if(Yp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:gv(e.seconds),nanos:gv(e.nanos)}}function gv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yv(e){return"string"==typeof e?dv.fromBase64String(e):dv.fromUint8Array(e)}function mv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bv(e){var t=e.mapValue.fields.__previous_value__;return mv(t)?bv(t):t}function _v(e){var t=vv(e.mapValue.fields.__local_write_time__.timestampValue);return new rv(t.seconds,t.nanos)}function wv(e){return null==e}function Ev(e){return 0===e&&1/e==-1/0}function Sv(e){return"number"==typeof e&&Number.isInteger(e)&&!Ev(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Tv=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(cv.fromString(t))},e.fromName=function(t){return new e(cv.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===cv.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return cv.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new cv(t.slice()))},e}();function kv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mv(e)?4:10:$p()}function Iv(e,t){var n=kv(e);if(n!==kv(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _v(e).isEqual(_v(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=vv(e.timestampValue),r=vv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yv(e.bytesValue).isEqual(yv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return gv(e.geoPointValue.latitude)===gv(t.geoPointValue.latitude)&&gv(e.geoPointValue.longitude)===gv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return gv(e.integerValue)===gv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=gv(e.doubleValue),r=gv(t.doubleValue);return n===r?Ev(n)===Ev(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return tv(e.arrayValue.values||[],t.arrayValue.values||[],Iv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ov(n)!==ov(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Iv(n[i],r[i])))return!1;return!0}(e,t);default:return $p()}}function Cv(e,t){return void 0!==(e.values||[]).find((function(e){return Iv(e,t)}))}function Nv(e,t){var n=kv(e),r=kv(t);if(n!==r)return ev(n,r);switch(n){case 0:return 0;case 1:return ev(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=gv(e.integerValue||e.doubleValue),r=gv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Av(e.timestampValue,t.timestampValue);case 4:return Av(_v(e),_v(t));case 5:return ev(e.stringValue,t.stringValue);case 6:return function(e,t){var n=yv(e),r=yv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ev(n[i],r[i]);if(0!==o)return o}return ev(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ev(gv(e.latitude),gv(t.latitude));return 0!==n?n:ev(gv(e.longitude),gv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Nv(n[i],r[i]);if(o)return o}return ev(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ev(r[a],o[a]);if(0!==s)return s;var u=Nv(n[r[a]],i[o[a]]);if(0!==u)return u}return ev(r.length,o.length)}(e.mapValue,t.mapValue);default:throw $p()}}function Av(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ev(e,t);var n=vv(e),r=vv(t),i=ev(n.seconds,r.seconds);return 0!==i?i:ev(n.nanos,r.nanos)}function xv(e){return Pv(e)}function Pv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=vv(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?yv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Tv.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Pv(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Pv(e.fields[o])}return t+"}"}(e.mapValue):$p();var t,n}function Rv(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Ov(e){return!!e&&"integerValue"in e}function Dv(e){return!!e&&"arrayValue"in e}function Lv(e){return!!e&&"nullValue"in e}function Mv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jv(e){return!!e&&"mapValue"in e}function Fv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return av(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Fv(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Fv(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Uv=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!jv(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fv(t)},e.prototype.setAll=function(e){var t=this,n=fv.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Fv(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());jv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return Iv(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];jv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){av(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(Fv(this.value))},e}();function Vv(e){var t=[];return av(e.fields,(function(e,n){var r=new fv([e]);if(jv(n)){var i=Vv(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new hv(t)}var qv=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,iv.min(),Uv.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Uv.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Uv.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Uv.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Uv.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Bv=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function zv(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Bv(e,t,n,r,i,o,a)}function Kv(e){var t=Xp(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+xv(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),wv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=rg(t.startAt)),t.endAt&&(n+="|ub:",n+=rg(t.endAt)),t.h=n}return t.h}function Wv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!og(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Iv(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sg(e.startAt,t.startAt)&&sg(e.endAt,t.endAt)}function Hv(e){return Tv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Gv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return bl(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Qv(e,n,r):"array-contains"===n?new Jv(e,r):"in"===n?new Zv(e,r):"not-in"===n?new eg(e,r):"array-contains-any"===n?new tg(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new $v(e,n):new Yv(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Nv(t,this.value)):null!==t&&kv(this.value)===kv(t)&&this.m(Nv(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $p()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Qv=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Tv.fromName(r.referenceValue),i}return bl(t,e),t.prototype.matches=function(e){var t=Tv.comparator(e.key,this.key);return this.m(t)},t}(Gv),$v=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Xv("in",n),r}return bl(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Gv),Yv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Xv("not-in",n),r}return bl(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Gv);function Xv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Tv.fromName(e.referenceValue)}))}var Jv=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return bl(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Dv(t)&&Cv(t.arrayValue,this.value)},t}(Gv),Zv=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return bl(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Cv(this.value.arrayValue,t)},t}(Gv),eg=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return bl(t,e),t.prototype.matches=function(e){if(Cv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Cv(this.value.arrayValue,t)},t}(Gv),tg=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return bl(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Dv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Cv(t.value.arrayValue,e)}))},t}(Gv),ng=function(e,t){this.position=e,this.before=t};function rg(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return xv(e)})).join(",")}var ig=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function og(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ag(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Tv.comparator(Tv.fromName(a.referenceValue),n.key):Nv(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function sg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Iv(e.position[n],t.position[n]))return!1;return!0}var ug=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function cg(e,t,n,r,i,o,a,s){return new ug(e,t,n,r,i,o,a,s)}function lg(e){return new ug(e)}function fg(e){return!wv(e.limit)&&"F"===e.limitType}function hg(e){return!wv(e.limit)&&"L"===e.limitType}function dg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function pg(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function vg(e){return null!==e.collectionGroup}function gg(e){var t=Xp(e);if(null===t.p){t.p=[];var n=pg(t),r=dg(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new ig(n)),t.p.push(new ig(fv.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ig(fv.keyField(),u))}}}return t.p}function yg(e){var t=Xp(e);if(!t.T)if("F"===t.limitType)t.T=zv(t.path,t.collectionGroup,gg(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=gg(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new ig(o.field,a))}var s=t.endAt?new ng(t.endAt.position,!t.endAt.before):null,u=t.startAt?new ng(t.startAt.position,!t.startAt.before):null;t.T=zv(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function mg(e,t,n){return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bg(e,t){return Wv(yg(e),yg(t))&&e.limitType===t.limitType}function _g(e){return Kv(yg(e))+"|lt:"+e.limitType}function wg(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+xv(t.value);var t})).join(", ")+"]"),wv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+rg(e.startAt)),e.endAt&&(t+=", endAt: "+rg(e.endAt)),"Target("+t+")"}(yg(e))+"; limitType="+e.limitType+")"}function Eg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Tv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!ag(e.startAt,gg(e),t))&&(!e.endAt||!ag(e.endAt,gg(e),t))}(e,t)}function Sg(e){return function(t,n){for(var r=!1,i=0,o=gg(e);i<o.length;i++){var a=o[i],s=Tg(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Tg(e,t,n){var r=e.field.isKeyField()?Tv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Nv(r,i):$p()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return $p()}}function kg(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ev(t)?"-0":t}}function Ig(e){return{integerValue:""+e}}function Cg(e,t){return Sv(t)?Ig(t):kg(e,t)}var Ng=function(){this._=void 0};function Ag(e,t,n){return e instanceof Rg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Og?Dg(e,t):e instanceof Lg?Mg(e,t):function(e,t){var n=Pg(e,t),r=Fg(n)+Fg(e.A);return Ov(n)&&Ov(e.A)?Ig(r):kg(e.R,r)}(e,t)}function xg(e,t,n){return e instanceof Og?Dg(e,t):e instanceof Lg?Mg(e,t):n}function Pg(e,t){return e instanceof jg?Ov(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Rg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl(t,e),t}(Ng),Og=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return bl(t,e),t}(Ng);function Dg(e,t){for(var n=Ug(t),r=function(e){n.some((function(t){return Iv(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Lg=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return bl(t,e),t}(Ng);function Mg(e,t){for(var n=Ug(t),r=function(e){n=n.filter((function(t){return!Iv(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var jg=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return bl(t,e),t}(Ng);function Fg(e){return gv(e.integerValue||e.doubleValue)}function Ug(e){return Dv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Vg=function(e,t){this.field=e,this.transform=t},qg=function(e,t){this.version=e,this.transformResults=t},Bg=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function zg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Kg=function(){};function Wg(e,t,n){e instanceof Yg?function(e,t,n){var r=e.value.clone(),i=Zg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Xg?function(e,t,n){if(zg(e.precondition,t)){var r=Zg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Jg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hg(e,t,n){e instanceof Yg?function(e,t,n){if(zg(e.precondition,t)){var r=e.value.clone(),i=ey(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument($g(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Xg?function(e,t,n){if(zg(e.precondition,t)){var r=ey(e.fieldTransforms,n,t),i=t.data;i.setAll(Jg(e)),i.setAll(r),t.convertToFoundDocument($g(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){zg(e.precondition,t)&&t.convertToNoDocument(iv.min())}(e,t)}function Gg(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Pg(o.transform,a||null);null!=s&&(null==n&&(n=Uv.empty()),n.set(o.field,s))}return n||null}function Qg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&tv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Og&&t instanceof Og||e instanceof Lg&&t instanceof Lg?tv(e.elements,t.elements,Iv):e instanceof jg&&t instanceof jg?Iv(e.A,t.A):e instanceof Rg&&t instanceof Rg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function $g(e){return e.isFoundDocument()?e.version:iv.min()}var Yg=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return bl(t,e),t}(Kg),Xg=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return bl(t,e),t}(Kg);function Jg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Zg(e,t,n){var r=new Map;Yp(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,xg(a,s,n[i]))}return r}function ey(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Ag(s,u,t))}return r}var ty,ny,ry=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return bl(t,e),t}(Kg),iy=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return bl(t,e),t}(Kg),oy=function(e){this.count=e};function ay(e){switch(e){case qp.OK:return $p();case qp.CANCELLED:case qp.UNKNOWN:case qp.DEADLINE_EXCEEDED:case qp.RESOURCE_EXHAUSTED:case qp.INTERNAL:case qp.UNAVAILABLE:case qp.UNAUTHENTICATED:return!1;case qp.INVALID_ARGUMENT:case qp.NOT_FOUND:case qp.ALREADY_EXISTS:case qp.PERMISSION_DENIED:case qp.FAILED_PRECONDITION:case qp.ABORTED:case qp.OUT_OF_RANGE:case qp.UNIMPLEMENTED:case qp.DATA_LOSS:return!0;default:return $p()}}function sy(e){if(void 0===e)return Hp("GRPC error has no .code"),qp.UNKNOWN;switch(e){case ty.OK:return qp.OK;case ty.CANCELLED:return qp.CANCELLED;case ty.UNKNOWN:return qp.UNKNOWN;case ty.DEADLINE_EXCEEDED:return qp.DEADLINE_EXCEEDED;case ty.RESOURCE_EXHAUSTED:return qp.RESOURCE_EXHAUSTED;case ty.INTERNAL:return qp.INTERNAL;case ty.UNAVAILABLE:return qp.UNAVAILABLE;case ty.UNAUTHENTICATED:return qp.UNAUTHENTICATED;case ty.INVALID_ARGUMENT:return qp.INVALID_ARGUMENT;case ty.NOT_FOUND:return qp.NOT_FOUND;case ty.ALREADY_EXISTS:return qp.ALREADY_EXISTS;case ty.PERMISSION_DENIED:return qp.PERMISSION_DENIED;case ty.FAILED_PRECONDITION:return qp.FAILED_PRECONDITION;case ty.ABORTED:return qp.ABORTED;case ty.OUT_OF_RANGE:return qp.OUT_OF_RANGE;case ty.UNIMPLEMENTED:return qp.UNIMPLEMENTED;case ty.DATA_LOSS:return qp.DATA_LOSS;default:return $p()}}(ny=ty||(ty={}))[ny.OK=0]="OK",ny[ny.CANCELLED=1]="CANCELLED",ny[ny.UNKNOWN=2]="UNKNOWN",ny[ny.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ny[ny.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ny[ny.NOT_FOUND=5]="NOT_FOUND",ny[ny.ALREADY_EXISTS=6]="ALREADY_EXISTS",ny[ny.PERMISSION_DENIED=7]="PERMISSION_DENIED",ny[ny.UNAUTHENTICATED=16]="UNAUTHENTICATED",ny[ny.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ny[ny.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ny[ny.ABORTED=10]="ABORTED",ny[ny.OUT_OF_RANGE=11]="OUT_OF_RANGE",ny[ny.UNIMPLEMENTED=12]="UNIMPLEMENTED",ny[ny.INTERNAL=13]="INTERNAL",ny[ny.UNAVAILABLE=14]="UNAVAILABLE",ny[ny.DATA_LOSS=15]="DATA_LOSS";var uy=function(){function e(e,t){this.comparator=e,this.root=t||ly.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ly.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ly.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new cy(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new cy(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new cy(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new cy(this.root,e,this.comparator,!0)},e}(),cy=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),ly=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw $p();if(this.right.isRed())throw $p();var e=this.left.check();if(e!==this.right.check())throw $p();return e+(this.isRed()?0:1)},e}();ly.EMPTY=null,ly.RED=!0,ly.BLACK=!1,ly.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw $p()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw $p()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw $p()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw $p()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw $p()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ly(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var fy=function(){function e(e){this.comparator=e,this.data=new uy(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new hy(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new hy(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),hy=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),dy=new uy(Tv.comparator);function py(){return dy}var vy=new uy(Tv.comparator);function gy(){return vy}var yy=new uy(Tv.comparator);function my(){return yy}var by=new fy(Tv.comparator);function _y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=by,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var wy=new fy(ev);function Ey(){return wy}var Sy=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Ty.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(iv.min(),r,Ey(),py(),_y())},e}(),Ty=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(dv.EMPTY_BYTE_STRING,n,_y(),_y(),_y())},e}(),ky=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Iy=function(e,t){this.targetId=e,this.V=t},Cy=function(e,t,n,r){void 0===n&&(n=dv.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Ny=function(){function e(){this.S=0,this.D=Py(),this.C=dv.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=_y(),t=_y(),n=_y();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:$p()}})),new Ty(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Py()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Ay=function(){function e(e){this.W=e,this.G=new Map,this.H=py(),this.J=xy(),this.Y=new fy(ev)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:$p()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Hv(i))if(0===n){var o=new Tv(i.path);this.tt(t,o,qv.newNoDocument(o,iv.min()))}else Yp(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Hv(o.target)){var a=new Tv(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,qv.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=_y();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Sy(e,n,this.Y,this.H,r);return this.H=py(),this.J=xy(),this.Y=new fy(ev),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Ny,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new fy(ev),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Wp("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Ny),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function xy(){return new uy(Tv.comparator)}function Py(){return new uy(Tv.comparator)}var Ry={asc:"ASCENDING",desc:"DESCENDING"},Oy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dy=function(e,t){this.databaseId=e,this.I=t};function Ly(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function My(e,t){return e.I?t.toBase64():t.toUint8Array()}function jy(e,t){return Ly(e,t.toTimestamp())}function Fy(e){return Yp(!!e),iv.fromTimestamp(function(e){var t=vv(e);return new rv(t.seconds,t.nanos)}(e))}function Uy(e,t){return function(e){return new cv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Vy(e){var t=cv.fromString(e);return Yp(lm(t)),t}function qy(e,t){return Uy(e.databaseId,t.path)}function By(e,t){var n=Vy(t);if(n.get(1)!==e.databaseId.projectId)throw new Bp(qp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Bp(qp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Tv(Hy(n))}function zy(e,t){return Uy(e.databaseId,t)}function Ky(e){var t=Vy(e);return 4===t.length?cv.emptyPath():Hy(t)}function Wy(e){return new cv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Hy(e){return Yp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Gy(e,t,n){return{name:qy(e,t),fields:n.value.mapValue.fields}}function Qy(e,t,n){var r=By(e,t.name),i=Fy(t.updateTime),o=new Uv({mapValue:{fields:t.fields}}),a=qv.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function $y(e,t){var n;if(t instanceof Yg)n={update:Gy(e,t.key,t.value)};else if(t instanceof ry)n={delete:qy(e,t.key)};else if(t instanceof Xg)n={update:Gy(e,t.key,t.data),updateMask:cm(t.fieldMask)};else{if(!(t instanceof iy))return $p();n={verify:qy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Rg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Og)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Lg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof jg)return{fieldPath:t.field.canonicalString(),increment:n.A};throw $p()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:$p()}(e,t.precondition)),n}function Yy(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Bg.updateTime(Fy(e.updateTime)):void 0!==e.exists?Bg.exists(e.exists):Bg.none()}(t.currentDocument):Bg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Yp("REQUEST_TIME"===t.setToServerValue),n=new Rg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Og(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Lg(i)}else"increment"in t?n=new jg(e,t.increment):$p();var o=fv.fromServerFormat(t.fieldPath);return new Vg(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=By(e,t.update.name),o=new Uv({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new hv(t.map((function(e){return fv.fromServerFormat(e)})))}(t.updateMask);return new Xg(i,o,a,n,r)}return new Yg(i,o,n,r)}if(t.delete){var s=By(e,t.delete);return new ry(s,n)}if(t.verify){var u=By(e,t.verify);return new iy(u,n)}return $p()}function Xy(e,t){return{documents:[zy(e,t.path)]}}function Jy(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=zy(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=zy(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Mv(e.value))return{unaryFilter:{field:om(e.field),op:"IS_NAN"}};if(Lv(e.value))return{unaryFilter:{field:om(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mv(e.value))return{unaryFilter:{field:om(e.field),op:"IS_NOT_NAN"}};if(Lv(e.value))return{unaryFilter:{field:om(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:om(e.field),op:im(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:om(e.field),direction:rm(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||wv(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=tm(t.startAt)),t.endAt&&(n.structuredQuery.endAt=tm(t.endAt)),n}function Zy(e){var t=Ky(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Yp(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=em(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new ig(am(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return wv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=nm(n.startAt));var l=null;return n.endAt&&(l=nm(n.endAt)),cg(t,i,s,a,u,"F",c,l)}function em(e){return e?void 0!==e.unaryFilter?[um(e)]:void 0!==e.fieldFilter?[sm(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return em(e)})).reduce((function(e,t){return e.concat(t)})):$p():[]}function tm(e){return{before:e.before,values:e.position}}function nm(e){var t=!!e.before,n=e.values||[];return new ng(n,t)}function rm(e){return Ry[e]}function im(e){return Oy[e]}function om(e){return{fieldPath:e.canonicalString()}}function am(e){return fv.fromServerFormat(e.fieldPath)}function sm(e){return Gv.create(am(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $p()}}(e.fieldFilter.op),e.fieldFilter.value)}function um(e){switch(e.unaryFilter.op){case"IS_NAN":var t=am(e.unaryFilter.field);return Gv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=am(e.unaryFilter.field);return Gv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=am(e.unaryFilter.field);return Gv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=am(e.unaryFilter.field);return Gv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return $p()}}function cm(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function lm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function fm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=dm(t)),t=hm(e.get(n),t);return dm(t)}function hm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function dm(e){return e+"\x01\x01"}function pm(e){var t=e.length;if(Yp(t>=2),2===t)return Yp("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),cv.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&$p(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:$p()}o=a+2}return new cv(r)}var vm=function(e,t){this.seconds=e,this.nanoseconds=t},gm=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};gm.store="owner",gm.key="owner";var ym=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};ym.store="mutationQueues",ym.keyPath="userId";var mm=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};mm.store="mutations",mm.keyPath="batchId",mm.userMutationsIndex="userMutationsIndex",mm.userMutationsKeyPath=["userId","batchId"];var bm=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,fm(t)]},e.key=function(e,t,n){return[e,fm(t),n]},e}();bm.store="documentMutations",bm.PLACEHOLDER=new bm;var _m=function(e,t){this.path=e,this.readTime=t},wm=function(e,t){this.path=e,this.version=t},Em=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Em.store="remoteDocuments",Em.readTimeIndex="readTimeIndex",Em.readTimeIndexPath="readTime",Em.collectionReadTimeIndex="collectionReadTimeIndex",Em.collectionReadTimeIndexPath=["parentPath","readTime"];var Sm=function(e){this.byteSize=e};Sm.store="remoteDocumentGlobal",Sm.key="remoteDocumentGlobalKey";var Tm=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Tm.store="targets",Tm.keyPath="targetId",Tm.queryTargetsIndexName="queryTargetsIndex",Tm.queryTargetsKeyPath=["canonicalId","targetId"];var km=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};km.store="targetDocuments",km.keyPath=["targetId","path"],km.documentTargetsIndex="documentTargetsIndex",km.documentTargetsKeyPath=["path","targetId"];var Im=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Im.key="targetGlobalKey",Im.store="targetGlobal";var Cm=function(e,t){this.collectionId=e,this.parent=t};Cm.store="collectionParents",Cm.keyPath=["collectionId","parent"];var Nm=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Nm.store="clientMetadata",Nm.keyPath="clientId";var Am=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Am.store="bundles",Am.keyPath="bundleId";var xm=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};xm.store="namedQueries",xm.keyPath="name";var Pm=El(El([],El(El([],El(El([],El(El([],[ym.store,mm.store,bm.store,Em.store,Tm.store,gm.store,Im.store,km.store]),[Nm.store])),[Sm.store])),[Cm.store])),[Am.store,xm.store]),Rm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Om=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Dm=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Lm=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&$p(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Mm=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Dm,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Um(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Km(t.target.error);n.ft.reject(new Um(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Um(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Wp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new qm(t)},e}(),jm=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,Sl.getUA)())&&Hp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Wp("SimpleDb","Removing database:",e),Bm(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,Sl.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/ordle",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return _l(this,void 0,void 0,(function(){var t,n=this;return wl(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Wp("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Um(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Bp(qp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Um(e,n))},i.onupgradeneeded=function(e){Wp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Wp("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return _l(this,void 0,void 0,(function(){var i,o,a,s,u;return wl(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return wl(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=f.sent(),t=Mm.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Lm.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(f.sent(),a),u)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,Wp("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Fm=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Bm(this.Pt.delete())},e}(),Um=function(e){function t(t,n){var r=this;return(r=e.call(this,qp.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return bl(t,e),t}(Bp);function Vm(e){return"IndexedDbTransactionError"===e.name}var qm=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Wp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Wp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Bm(n)},e.prototype.add=function(e){return Wp("SimpleDb","ADD",this.store.name,e,e),Bm(this.store.add(e))},e.prototype.get=function(e){var t=this;return Bm(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Wp("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Wp("SimpleDb","DELETE",this.store.name,e),Bm(this.store.delete(e))},e.prototype.count=function(){return Wp("SimpleDb","COUNT",this.store.name),Bm(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){Wp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Lm((function(n,r){t.onerror=function(e){var t=Km(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Lm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Fm(i),a=t(i.primaryKey,i.value,o);if(a instanceof Lm){var s=a.catch((function(e){return o.done(),Lm.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Lm.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Bm(e){return new Lm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Km(e.target.error);n(t)}}))}var zm=!1;function Km(e){var t=jm._t((0,Sl.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Bp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return zm||(zm=!0,setTimeout((function(){throw r}),0)),r}}return e}var Wm=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return bl(t,e),t}(Om);function Hm(e,t){var n=Xp(e);return jm.It(n.Mt,t)}var Gm=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Wg(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Hg(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Hg(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(iv.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),_y())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&tv(this.mutations,e.mutations,(function(e,t){return Qg(e,t)}))&&tv(this.baseMutations,e.baseMutations,(function(e,t){return Qg(e,t)}))},e}(),Qm=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Yp(t.mutations.length===r.length);for(var i=my(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),$m=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=iv.min()),void 0===o&&(o=iv.min()),void 0===a&&(a=dv.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Ym=function(e){this.Lt=e};function Xm(e,t){if(t.document)return Qy(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Tv.fromSegments(t.noDocument.path),r=nb(t.noDocument.readTime),i=qv.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Tv.fromSegments(t.unknownDocument.path);return r=nb(t.unknownDocument.version),qv.newUnknownDocument(o,r)}return $p()}function Jm(e,t,n){var r=Zm(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:qy(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ly(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Em(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=tb(t.version);return a=t.hasCommittedMutations,new Em(null,new _m(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=tb(t.version);return new Em(new wm(c,l),null,null,!0,r,i)}return $p()}function Zm(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function eb(e){var t=new rv(e[0],e[1]);return iv.fromTimestamp(t)}function tb(e){var t=e.toTimestamp();return new vm(t.seconds,t.nanoseconds)}function nb(e){var t=new rv(e.seconds,e.nanoseconds);return iv.fromTimestamp(t)}function rb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Yy(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Yy(e.Lt,t)})),s=rv.fromMillis(t.localWriteTimeMs);return new Gm(t.batchId,s,n,a)}function ib(e){var t,n,r=nb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?nb(e.lastLimboFreeSnapshotVersion):iv.min();return void 0!==e.query.documents?(Yp(1===(n=e.query).documents.length),t=yg(lg(Ky(n.documents[0])))):t=function(e){return yg(Zy(e))}(e.query),new $m(t,e.targetId,0,e.lastListenSequenceNumber,r,i,dv.fromBase64String(e.resumeToken))}function ob(e,t){var n,r=tb(t.snapshotVersion),i=tb(t.lastLimboFreeSnapshotVersion);n=Hv(t.target)?Xy(e.Lt,t.target):Jy(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Tm(t.targetId,Kv(t.target),r,o,t.sequenceNumber,i,n)}function ab(e){var t=Zy({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?mg(t,t.limit,"L"):t}var sb=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return ub(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:nb(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return ub(e).put({bundleId:(n=t).id,createTime:tb(Fy(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return cb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ab(t.bundledQuery),readTime:nb(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return cb(e).put(function(e){return{name:e.name,readTime:tb(Fy(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function ub(e){return Hm(e,Am.store)}function cb(e){return Hm(e,xm.store)}var lb=function(){function e(){this.Bt=new fb}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Lm.resolve()},e.prototype.getCollectionParents=function(e,t){return Lm.resolve(this.Bt.getEntries(t))},e}(),fb=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fy(cv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new fy(cv.comparator)).toArray()},e}(),hb=function(){function e(){this.qt=new fb}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:fm(i)};return db(e).put(o)}return Lm.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[nv(t),""],!1,!0);return db(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(pm(o.parent))}return n}))},e}();function db(e){return Hm(e,Cm.store)}var pb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vb=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function gb(e,t,n){var r=e.store(mm.store),i=e.store(bm.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Yp(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=bm.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Lm.waitFor(o).next((function(){return c}))}function yb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw $p();t=e.noDocument}return JSON.stringify(t).length}vb.DEFAULT_COLLECTION_PERCENTILE=10,vb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vb.DEFAULT=new vb(41943040,vb.DEFAULT_COLLECTION_PERCENTILE,vb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vb.DISABLED=new vb(-1,0,0);var mb=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Yp(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _b(e).$t({index:mm.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=wb(e),a=_b(e);return a.add({}).next((function(s){Yp("number"==typeof s);for(var u=new Gm(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return $y(e.Lt,t)})),i=n.mutations.map((function(t){return $y(e.Lt,t)}));return new mm(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new fy((function(e,t){return ev(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=bm.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,bm.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Lm.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return _b(e).get(t).next((function(e){return e?(Yp(e.userId===n.userId),rb(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Lm.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return _b(e).$t({index:mm.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Yp(t.batchId>=r),o=rb(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return _b(e).$t({index:mm.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _b(e).Nt(mm.userMutationsIndex,n).next((function(e){return e.map((function(e){return rb(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=bm.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return wb(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=pm(u);if(s===n.userId&&t.path.isEqual(l))return _b(e).get(c).next((function(e){if(!e)throw $p();Yp(e.userId===n.userId),o.push(rb(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new fy(ev),i=[];return t.forEach((function(t){var o=bm.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=wb(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=pm(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Lm.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=bm.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new fy(ev);return wb(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=pm(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(_b(e).get(t).next((function(e){if(null===e)throw $p();Yp(e.userId===n.userId),r.push(rb(n.R,e))})))})),Lm.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return gb(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Lm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Lm.resolve();var r=IDBKeyRange.lowerBound(bm.prefixForUser(t.userId)),i=[];return wb(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=pm(e[1]);i.push(o)}else r.done()})).next((function(){Yp(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return bb(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Eb(e).get(this.userId).next((function(e){return e||new ym(t.userId,-1,"")}))},e}();function bb(e,t,n){var r=bm.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return wb(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function _b(e){return Hm(e,mm.store)}function wb(e){return Hm(e,bm.store)}function Eb(e){return Hm(e,ym.store)}var Sb=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Tb=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Sb(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return iv.fromTimestamp(new rv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return kb(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Yp(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return kb(e).$t((function(a,s){var u=ib(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Lm.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return kb(e).$t((function(e,n){var r=ib(n);t(r)}))},e.prototype.Xt=function(e){return Ib(e).get(Im.key).next((function(e){return Yp(null!==e),e}))},e.prototype.Zt=function(e,t){return Ib(e).put(Im.key,t)},e.prototype.te=function(e,t){return kb(e).put(ob(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Kv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return kb(e).$t({range:r,index:Tm.queryTargetsIndexName},(function(e,n,r){var o=ib(n);Wv(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Cb(e);return t.forEach((function(t){var a=fm(t.path);i.push(o.put(new km(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Lm.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Cb(e);return Lm.forEach(t,(function(t){var o=fm(t.path);return Lm.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Cb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Cb(e),i=_y();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=pm(e[1]),o=new Tv(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=fm(t.path),r=IDBKeyRange.bound([n],[nv(n)],!1,!0),i=0;return Cb(e).$t({index:km.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return kb(e).get(t).next((function(e){return e?ib(e):null}))},e}();function kb(e){return Hm(e,Tm.store)}function Ib(e){return Hm(e,Im.store)}function Cb(e){return Hm(e,km.store)}function Nb(e){return _l(this,void 0,void 0,(function(){return wl(this,(function(t){if(e.code!==qp.FAILED_PRECONDITION||e.message!==Rm)throw e;return Wp("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Ab(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=ev(n,i);return 0===a?ev(r,o):a}var xb=function(){function e(e){this.ne=e,this.buffer=new fy(Ab),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ab(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Pb=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Wp("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return _l(t,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Vm(t=n.sent())?(Wp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Nb(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Rb=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Lm.resolve(Vp.o);var r=new xb(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Wp("LruGarbageCollector","Garbage collection skipped; disabled"),Lm.resolve(pb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Wp("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),pb):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Wp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Kp()<=Tl.LogLevel.DEBUG&&Wp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Lm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Ob=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Rb(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Db(e,n)},e.prototype.removeReference=function(e,t,n){return Db(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Db(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Eb(e).Ot((function(r){return bb(e,r,t).next((function(e){return e&&(n=!0),Lm.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Cb(e).delete([0,fm(a.path)])}))}));i.push(u)}})).next((function(){return Lm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Db(e,t)},e.prototype.we=function(e,t){var n,r=Cb(e),i=Vp.o;return r.$t({index:km.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Vp.o&&t(new Tv(pm(n)),i),i=s,n=a):i=Vp.o})).next((function(){i!==Vp.o&&t(new Tv(pm(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Db(e,t){return Cb(e).put(function(e,t){return new km(0,fm(e.path),t)}(t,e.currentSequenceNumber))}var Lb=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){av(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return sv(this.inner)},e}(),Mb=function(){function e(){this.changes=new Lb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:iv.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:qv.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Lm.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),jb=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Vb(e).put(qb(t),n)},e.prototype.removeEntry=function(e,t){var n=Vb(e),r=qb(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Vb(e).get(qb(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Vb(e).get(qb(t)).next((function(e){return{document:n.ye(t,e),size:yb(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=py();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=py(),i=new uy(Tv.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,yb(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Lm.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Vb(e).$t({range:r},(function(e,t,r){for(var a=Tv.fromSegments(e);o&&Tv.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=py(),o=t.path.length+1,a={};if(n.isEqual(iv.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Zm(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Em.collectionReadTimeIndex}return Vb(e).$t(a,(function(e,n,a){if(e.length===o){var s=Xm(r.R,n);t.path.isPrefixOf(s.key.path)?Eg(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Fb(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Ub(e).get(Sm.key).next((function(e){return Yp(!!e),e}))},e.prototype.me=function(e,t){return Ub(e).put(Sm.key,t)},e.prototype.ye=function(e,t){if(t){var n=Xm(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(iv.min()))return n}return qv.newInvalidDocument(e)},e}(),Fb=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Lb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return bl(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new fy((function(e,t){return ev(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Jm(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=yb(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Jm(t.Ie.R,qv.newNoDocument(o,iv.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Lm.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Mb);function Ub(e){return Hm(e,Sm.store)}function Vb(e){return Hm(e,Em.store)}function qb(e){return e.path.toArray()}var Bb=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Yp(n<r&&n>=0&&r<=11);var o=new Mm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(gm.store)}(e),function(e){e.createObjectStore(ym.store,{keyPath:ym.keyPath}),e.createObjectStore(mm.store,{keyPath:mm.keyPath,autoIncrement:!0}).createIndex(mm.userMutationsIndex,mm.userMutationsKeyPath,{unique:!0}),e.createObjectStore(bm.store)}(e),zb(e),function(e){e.createObjectStore(Em.store)}(e));var a=Lm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(km.store),e.deleteObjectStore(Tm.store),e.deleteObjectStore(Im.store)}(e),zb(e)),a=a.next((function(){return function(e){var t=e.store(Im.store),n=new Im(0,0,iv.min().toTimestamp(),0);return t.put(Im.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(mm.store).Nt().next((function(n){e.deleteObjectStore(mm.store),e.createObjectStore(mm.store,{keyPath:mm.keyPath,autoIncrement:!0}).createIndex(mm.userMutationsIndex,mm.userMutationsKeyPath,{unique:!0});var r=t.store(mm.store),i=n.map((function(e){return r.put(e)}));return Lm.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Nm.store,{keyPath:Nm.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Sm.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Em.store);t.createIndex(Em.readTimeIndex,Em.readTimeIndexPath,{unique:!1}),t.createIndex(Em.collectionReadTimeIndex,Em.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Am.store,{keyPath:Am.keyPath})}(e),function(e){e.createObjectStore(xm.store,{keyPath:xm.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Em.store).$t((function(e,n){t+=yb(n)})).next((function(){var n=new Sm(t);return e.store(Sm.store).put(Sm.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(ym.store),r=e.store(mm.store);return n.Nt().next((function(n){return Lm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(mm.userMutationsIndex,i).next((function(r){return Lm.forEach(r,(function(r){Yp(r.userId===n.userId);var i=rb(t.R,r);return gb(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(km.store),n=e.store(Em.store);return e.store(Im.store).get(Im.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new cv(n),a=function(e){return[0,fm(e)]}(o);r.push(t.get(a).next((function(n){return n?Lm.resolve():function(n){return t.put(new km(0,fm(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Lm.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Cm.store,{keyPath:Cm.keyPath});var n=t.store(Cm.store),r=new fb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:fm(i)})}};return t.store(Em.store).$t({Ft:!0},(function(e,t){var n=new cv(e);return i(n.popLast())})).next((function(){return t.store(bm.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=pm(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Tm.store);return n.$t((function(e,r){var i=ib(r),o=ob(t.R,i);return n.put(o)}))},e}();function zb(e){e.createObjectStore(km.store,{keyPath:km.keyPath}).createIndex(km.documentTargetsIndex,km.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Tm.store,{keyPath:Tm.keyPath}).createIndex(Tm.queryTargetsIndexName,Tm.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Im.store)}var Kb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Wb=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Bp(qp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ob(this,i),this.Le=n+"main",this.R=new Ym(u),this.Be=new jm(this.Le,11,new Bb(this.R)),this.qe=new Tb(this.referenceDelegate,this.R),this.Ut=new hb,this.Ue=function(e,t){return new jb(e,t)}(this.R,this.Ut),this.Ke=new sb,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Hp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Bp(qp.FAILED_PRECONDITION,Kb);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Vp(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return _l(t,void 0,void 0,(function(){return wl(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return _l(t,void 0,void 0,(function(){return wl(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return _l(t,void 0,void 0,(function(){return wl(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Gb(t).put(new Nm(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Vm(t))return Wp("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Wp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Hb(e).get(gm.key).next((function(e){return Lm.resolve(t.tn(e))}))},e.prototype.en=function(e){return Gb(e).delete(this.clientId)},e.prototype.nn=function(){return _l(this,void 0,void 0,(function(){var e,t,n,r,i=this;return wl(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Hm(e,Nm.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Lm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Lm.resolve(!0):Hb(e).get(gm.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Bp(qp.FAILED_PRECONDITION,Kb);return!1}}return!(!t.networkEnabled||!t.inForeground)||Gb(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Wp("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return _l(this,void 0,void 0,(function(){var e=this;return wl(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[gm.store,Nm.store],(function(t){var n=new Wm(t,Vp.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Gb(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return mb.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Wp("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Pm,(function(o){return i=new Wm(o,r.Ne?r.Ne.next():Vp.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Hp("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Bp(qp.FAILED_PRECONDITION,Rm);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Hb(e).get(gm.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Bp(qp.FAILED_PRECONDITION,Kb)}))},e.prototype.Ze=function(e){var t=new gm(this.clientId,this.allowTabSynchronization,Date.now());return Hb(e).put(gm.key,t)},e.yt=function(){return jm.yt()},e.prototype.Xe=function(e){var t=this,n=Hb(e);return n.get(gm.key).next((function(e){return t.tn(e)?(Wp("IndexedDbPersistence","Releasing primary lease."),n.delete(gm.key)):Lm.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Hp("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,Sl.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Wp("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Hp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Hp("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Hb(e){return Hm(e,gm.store)}function Gb(e){return Hm(e,Nm.store)}function Qb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var $b=function(e,t){this.progress=e,this.wn=t},Yb=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Tv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):vg(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Tv(t)).next((function(e){var t=gy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=gy();return this.Ut.getCollectionParents(e,i).next((function(a){return Lm.forEach(a,(function(a){var s=function(e,t){return new ug(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=qv.newInvalidDocument(c),r=r.insert(c,l)),Hg(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Eg(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=_y(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Xg&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Xb=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=_y(),i=_y(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Jb=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(iv.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(fg(t)||hg(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Kp()<=Tl.LogLevel.DEBUG&&Wp("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),wg(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new fy(Sg(e));return t.forEach((function(t,r){Eg(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Kp()<=Tl.LogLevel.DEBUG&&Wp("QueryEngine","Using full collection scan to execute query:",wg(t)),this.Sn.getDocumentsMatchingQuery(e,t,iv.min())},e}(),Zb=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new uy(ev),this.Fn=new Lb((function(e){return Kv(e)}),Wv),this.$n=iv.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Yb(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function e_(e,t,n,r){return new Zb(e,t,n,r)}function t_(e,t){return _l(this,void 0,void 0,(function(){var n,r,i,o;return wl(this,(function(a){switch(a.label){case 0:return n=Xp(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Yb(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=_y(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];a=a.add(m.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function n_(e,t){var n=Xp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Lm.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Yp(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function r_(e){var t=Xp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function i_(e,t){var n=Xp(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Yp(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=py();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(o_(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(iv.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Lm.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function o_(e,t,n,r,i){var o=_y();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=py();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(iv.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Wp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function a_(e,t){var n=Xp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function s_(e,t){var n=Xp(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Lm.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new $m(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function u_(e,t,n){return _l(this,void 0,void 0,(function(){var r,i,o,a;return wl(this,(function(s){switch(s.label){case 0:r=Xp(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Vm(a=s.sent()))throw a;return Wp("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function c_(e,t,n){var r=Xp(e),i=iv.min(),o=_y();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Xp(e),i=r.Fn.get(n);return void 0!==i?Lm.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,yg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:iv.min(),n?o:_y())})).next((function(e){return{documents:e,Bn:o}}))}))}function l_(e,t){var n=Xp(e),r=Xp(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function f_(e){var t=Xp(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Xp(e),i=py(),o=Zm(n),a=Vb(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Em.readTimeIndex,range:s},(function(e,t){var n=Xm(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:eb(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function h_(e){return _l(this,void 0,void 0,(function(){var t;return wl(this,(function(n){return[2,(t=Xp(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Vb(e),n=iv.min();return t.$t({index:Em.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=eb(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function d_(e,t,n,r){return _l(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,h,d;return wl(this,(function(p){switch(p.label){case 0:for(i=Xp(e),o=_y(),a=py(),s=my(),u=0,c=n;u<c.length;u++)l=c[u],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),s=s.insert(f,t.Kn(l.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,s_(i,function(e){return yg(lg(cv.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return o_(e,h,a,iv.min(),s).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function p_(e,t,n){return void 0===n&&(n=_y()),_l(this,void 0,void 0,(function(){var r,i;return wl(this,(function(o){switch(o.label){case 0:return[4,s_(e,yg(ab(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Xp(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Fy(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(dv.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var v_=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Lm.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:Fy(n.createTime)}),Lm.resolve()},e.prototype.getNamedQuery=function(e,t){return Lm.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:ab(e.bundledQuery),readTime:Fy(e.readTime)}}(t)),Lm.resolve()},e}(),g_=function(){function e(){this.Wn=new fy(y_.Gn),this.zn=new fy(y_.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new y_(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new y_(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Tv(new cv([])),r=new y_(n,e),i=new y_(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Tv(new cv([])),n=new y_(t,e),r=new y_(t,e+1),i=_y();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new y_(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),y_=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Tv.comparator(e.key,t.key)||ev(e.ns,t.ns)},e.Hn=function(e,t){return ev(e.ns,t.ns)||Tv.comparator(e.key,t.key)},e}(),m_=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new fy(y_.Gn)}return e.prototype.checkEmpty=function(e){return Lm.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Gm(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new y_(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Lm.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Lm.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Lm.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Lm.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Lm.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new y_(t,0),i=new y_(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Lm.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new fy(ev);return t.forEach((function(e){var t=new y_(e,0),i=new y_(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Lm.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Tv.isDocumentKey(i)||(i=i.child(""));var o=new y_(new Tv(i),0),a=new fy(ev);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Lm.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Yp(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Lm.forEach(t.mutations,(function(i){var o=new y_(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new y_(t,0),r=this.rs.firstAfterOrEqual(n);return Lm.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Lm.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),b_=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new uy(Tv.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Lm.resolve(n?n.document.clone():qv.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=py();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():qv.newInvalidDocument(e))})),Lm.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=py(),i=new Tv(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Eg(t,c)&&(r=r.insert(c.key,c.clone()))}return Lm.resolve(r)},e.prototype.fs=function(e,t){return Lm.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new __(this)},e.prototype.getSize=function(e){return Lm.resolve(this.size)},e}(),__=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return bl(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Lm.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Mb),w_=function(){function e(e){this.persistence=e,this.ds=new Lb((function(e){return Kv(e)}),Wv),this.lastRemoteSnapshotVersion=iv.min(),this.highestTargetId=0,this.ws=0,this._s=new g_,this.targetCount=0,this.ys=Sb.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Lm.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Lm.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Lm.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Lm.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Lm.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Sb(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Lm.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Lm.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Lm.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Lm.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Lm.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Lm.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Lm.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Lm.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Lm.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Lm.resolve(n)},e.prototype.containsKey=function(e,t){return Lm.resolve(this._s.containsKey(t))},e}(),E_=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Vp(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new w_(this),this.Ut=new lb,this.Ue=function(e,t){return new b_(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Ym(t),this.Ke=new v_(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new m_(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Wp("MemoryPersistence","Starting transaction:",e);var i=new S_(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Lm.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),S_=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return bl(t,e),t}(Om),T_=function(){function e(e){this.persistence=e,this.As=new g_,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw $p()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Lm.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Lm.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Lm.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lm.forEach(this.vs,(function(r){var i=Tv.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Lm.or([function(){return Lm.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),k_=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function I_(e,t){return"firestore_clients_"+e+"_"+t}function C_(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function N_(e,t){return"firestore_targets_"+e+"_"+t}k_.UNAUTHENTICATED=new k_(null),k_.GOOGLE_CREDENTIALS=new k_("google-credentials-uid"),k_.FIRST_PARTY=new k_("first-party-uid"),k_.MOCK_USER=new k_("mock-user");var A_=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Bp(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Hp("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),x_=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Bp(i.error.code,i.error.message)),o?new e(t,i.state,r):(Hp("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),P_=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ey(),a=0;i&&a<r.activeTargetIds.length;++a)i=Sv(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Hp("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),R_=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Hp("SharedClientState","Failed to parse online state: "+t),null)},e}(),O_=function(){function e(){this.activeTargetIds=Ey()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),D_=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new uy(ev),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=I_(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new O_),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return _l(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f=this;return wl(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(I_(this.persistenceKey,r)))&&(o=P_.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(N_(this.persistenceKey,e));if(n){var r=x_.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(N_(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Wp("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Wp("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Wp("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Wp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Hp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return _l(t,void 0,void 0,(function(){var e,t,r,i,o,a;return wl(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Vp.o;if(null!=e)try{var n=JSON.parse(e);Yp("number"==typeof n),t=n}catch(e){Hp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Vp.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new A_(this.currentUser,e,t,n),i=C_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=C_(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=N_(this.persistenceKey,e),i=new x_(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return P_.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return A_.Vs(new k_(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return x_.Vs(r,t)},e.prototype.js=function(e){return R_.Vs(e)},e.prototype.ii=function(e){return _l(this,void 0,void 0,(function(){return wl(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Wp("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Ey();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),L_=function(){function e(){this.li=new O_,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new O_,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),M_=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),j_=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Wp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Wp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),F_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},U_=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),V_=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return bl(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new Up;a.listenOnce(Dp.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Op.NO_ERROR:var t=a.getResponseJson();Wp("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Op.TIMEOUT:Wp("Connection",'RPC "'+e+'" timed out'),o(new Bp(qp.DEADLINE_EXCEEDED,"Request time out"));break;case Op.HTTP_ERROR:var n=a.getStatus();if(Wp("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(qp).indexOf(t)>=0?t:qp.UNKNOWN}(r.status);o(new Bp(s,r.message))}else o(new Bp(qp.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Bp(qp.UNAVAILABLE,"Connection failed."));break;default:$p()}}finally{Wp("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Pp(),i=Rp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new jp({})),this.ki(o.initMessageHeaders,t),(0,Sl.isMobileCordova)()||(0,Sl.isReactNative)()||(0,Sl.isElectron)()||(0,Sl.isIE)()||(0,Sl.isUWP)()||(0,Sl.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Wp("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new U_({Ei:function(e){c?Wp("Connection","Not sending because WebChannel is closed:",e):(u||(Wp("Connection","Opening WebChannel transport."),s.open(),u=!0),Wp("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,Fp.EventType.OPEN,(function(){c||Wp("Connection","WebChannel transport opened.")})),f(s,Fp.EventType.CLOSE,(function(){c||(c=!0,Wp("Connection","WebChannel transport closed"),l.Vi())})),f(s,Fp.EventType.ERROR,(function(e){c||(c=!0,Gp("Connection","WebChannel transport errored:",e),l.Vi(new Bp(qp.UNAVAILABLE,"The operation could not be completed")))})),f(s,Fp.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Yp(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Wp("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=ty[e];if(void 0!==t)return sy(t)}(o),u=i.message;void 0===a&&(a=qp.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Bp(a,u)),s.close()}else Wp("Connection","WebChannel received:",n),l.Si(n)}})),f(i,Lp.STAT_EVENT,(function(e){e.stat===Mp.PROXY?Wp("Connection","Detected buffering proxy"):e.stat===Mp.NOPROXY&&Wp("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Wp("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return Wp("RestConnection","Received: ",e),e}),(function(t){throw Gp("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=F_[e];return this.Di+"/v1/"+t+":"+n},e}());function q_(){return"undefined"!=typeof window?window:null}function B_(){return"undefined"!=typeof document?document:null}function z_(e){return new Dy(e,!0)}var K_=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Wp("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),W_=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new K_(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return _l(this,void 0,void 0,(function(){return wl(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return _l(this,void 0,void 0,(function(){return wl(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return _l(this,void 0,void 0,(function(){return wl(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===qp.RESOURCE_EXHAUSTED?(Hp(t.toString()),Hp("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===qp.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Bp(qp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return _l(e,void 0,void 0,(function(){return wl(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Wp("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Wp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),H_=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return bl(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:$p()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Yp(void 0===t||"string"==typeof t),dv.fromBase64String(t||"")):(Yp(void 0===t||t instanceof Uint8Array),dv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?qp.UNKNOWN:sy(e.code);return new Bp(t,e.message||"")}(s);n=new Cy(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=By(e,r.document.name),o=Fy(r.document.updateTime);var s=new Uv({mapValue:{fields:r.document.fields}}),u=(a=qv.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new ky(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=By(e,r.document),o=r.readTime?Fy(r.readTime):iv.min(),s=qv.newNoDocument(i,o),a=r.removedTargetIds||[],n=new ky([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=By(e,r.document),o=r.removedTargetIds||[],n=new ky([],o,i,null);else{if(!("filter"in t))return $p();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new oy(r),o=l.targetId,n=new Iy(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return iv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?iv.min():t.readTime?Fy(t.readTime):iv.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Wy(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Hv(r)?{documents:Xy(e,r)}:{query:Jy(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=My(e,t.resumeToken):t.snapshotVersion.compareTo(iv.min())>0&&(n.readTime=Ly(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $p()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Wy(this.R),t.removeTarget=e,this.cr(t)},t}(W_),G_=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return bl(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Yp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Yp(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Fy(e.updateTime):Fy(t);return n.isEqual(iv.min())&&(n=Fy(t)),new qg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Fy(e.commitTime);return this.listener.Tr(n,t)}return Yp(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Wy(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return $y(t.R,e)}))};this.cr(n)},t}(W_),Q_=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return bl(t,e),t.prototype.br=function(){if(this.Rr)throw new Bp(qp.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qp.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Bp(qp.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qp.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Bp(qp.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),$_=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Hp(t),this.Vr=!1):Wp("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Y_=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return _l(o,void 0,void 0,(function(){return wl(this,(function(e){switch(e.label){case 0:return ow(this)?(Wp("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return _l(this,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:return(t=Xp(e)).Or.add(4),[4,J_(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,X_(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new $_(n,r)};function X_(e){return _l(this,void 0,void 0,(function(){var t,n;return wl(this,(function(r){switch(r.label){case 0:if(!ow(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function J_(e){return _l(this,void 0,void 0,(function(){var t,n;return wl(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Z_(e,t){var n=Xp(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),iw(n)?rw(n):_w(n).er()&&tw(n,t))}function ew(e,t){var n=Xp(e),r=_w(n);n.$r.delete(t),r.er()&&nw(n,t),0===n.$r.size&&(r.er()?r.ir():ow(n)&&n.Br.set("Unknown"))}function tw(e,t){e.qr.U(t.targetId),_w(e).mr(t)}function nw(e,t){e.qr.U(t),_w(e).yr(t)}function rw(e){e.qr=new Ay({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),_w(e).start(),e.Br.Sr()}function iw(e){return ow(e)&&!_w(e).tr()&&e.$r.size>0}function ow(e){return 0===Xp(e).Or.size}function aw(e){e.qr=void 0}function sw(e){return _l(this,void 0,void 0,(function(){return wl(this,(function(t){return e.$r.forEach((function(t,n){tw(e,t)})),[2]}))}))}function uw(e,t){return _l(this,void 0,void 0,(function(){return wl(this,(function(n){return aw(e),iw(e)?(e.Br.Nr(t),rw(e)):e.Br.set("Unknown"),[2]}))}))}function cw(e,t,n){return _l(this,void 0,void 0,(function(){var r,i,o;return wl(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Cy&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return _l(this,void 0,void 0,(function(){var n,r,i,o;return wl(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Wp("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,lw(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ky?e.qr.X(t):t instanceof Iy?e.qr.rt(t):e.qr.et(t),n.isEqual(iv.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,r_(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(dv.EMPTY_BYTE_STRING,n.snapshotVersion)),nw(e,t);var r=new $m(n.target,t,1,n.sequenceNumber);tw(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Wp("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,lw(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function lw(e,t,n){return _l(this,void 0,void 0,(function(){var r=this;return wl(this,(function(i){switch(i.label){case 0:if(!Vm(t))throw t;return e.Or.add(1),[4,J_(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return r_(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return _l(r,void 0,void 0,(function(){return wl(this,(function(t){switch(t.label){case 0:return Wp("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,X_(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function fw(e,t){return t().catch((function(n){return lw(e,n,t)}))}function hw(e){return _l(this,void 0,void 0,(function(){var t,n,r,i,o;return wl(this,(function(a){switch(a.label){case 0:t=Xp(e),n=ww(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return ow(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,a_(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=ww(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,lw(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return dw(t)&&pw(t),[2]}}))}))}function dw(e){return ow(e)&&!ww(e).tr()&&e.Fr.length>0}function pw(e){ww(e).start()}function vw(e){return _l(this,void 0,void 0,(function(){return wl(this,(function(t){return ww(e).Ar(),[2]}))}))}function gw(e){return _l(this,void 0,void 0,(function(){var t,n,r,i;return wl(this,(function(o){for(t=ww(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function yw(e,t,n){return _l(this,void 0,void 0,(function(){var r,i;return wl(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Qm.from(r,t,n),[4,fw(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,hw(e)];case 2:return o.sent(),[2]}}))}))}function mw(e,t){return _l(this,void 0,void 0,(function(){return wl(this,(function(n){switch(n.label){case 0:return t&&ww(e).pr?[4,function(e,t){return _l(this,void 0,void 0,(function(){var n,r;return wl(this,(function(i){switch(i.label){case 0:return ay(r=t.code)&&r!==qp.ABORTED?(n=e.Fr.shift(),ww(e).sr(),[4,fw(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,hw(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return dw(e)&&pw(e),[2]}}))}))}function bw(e,t){return _l(this,void 0,void 0,(function(){var n;return wl(this,(function(r){switch(r.label){case 0:return n=Xp(e),t?(n.Or.delete(2),[4,X_(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,J_(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function _w(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Xp(e);return r.br(),new H_(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:sw.bind(null,e),Ri:uw.bind(null,e),_r:cw.bind(null,e)}),e.Mr.push((function(n){return _l(t,void 0,void 0,(function(){return wl(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),iw(e)?rw(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),aw(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function ww(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Xp(e);return r.br(),new G_(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:vw.bind(null,e),Ri:mw.bind(null,e),Ir:gw.bind(null,e),Tr:yw.bind(null,e)}),e.Mr.push((function(n){return _l(t,void 0,void 0,(function(){return wl(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,hw(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(Wp("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Ew=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Dm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bp(qp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Sw(e,t){if(Hp("AsyncQueue",t+": "+e),Vm(e))return new Bp(qp.UNAVAILABLE,t+": "+e);throw e}var Tw=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Tv.comparator(t.key,n.key)}:function(e,t){return Tv.comparator(e.key,t.key)},this.keyedMap=gy(),this.sortedSet=new uy(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),kw=function(){function e(){this.Qr=new uy(Tv.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):$p():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Iw=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Tw.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Cw=function(){this.Wr=void 0,this.listeners=[]},Nw=function(){this.queries=new Lb((function(e){return _g(e)}),bg),this.onlineState="Unknown",this.Gr=new Set};function Aw(e,t){return _l(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return wl(this,(function(c){switch(c.label){case 0:if(n=Xp(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Cw),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Sw(s,"Initialization of query '"+wg(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Ow(n),[2]}}))}))}function xw(e,t){return _l(this,void 0,void 0,(function(){var n,r,i,o,a;return wl(this,(function(s){return n=Xp(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Pw(e,t){for(var n=Xp(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Ow(n)}function Rw(e,t,n){var r=Xp(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Ow(e){e.Gr.forEach((function(e){e.next()}))}var Dw=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Iw(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Iw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Lw=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Mw=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return By(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Qy(this.R,e.document,!1):qv.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return Fy(e)},e}(),jw=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Fw(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Mw(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||_y()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return _l(this,void 0,void 0,(function(){var e,t,n,r,i;return wl(this,(function(o){switch(o.label){case 0:return[4,d_(this.localStore,new Mw(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,p_(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new $b(Object.assign({},this.progress),e))]}}))}))},e}();function Fw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Uw=function(e){this.key=e},Vw=function(e){this.key=e},qw=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=_y(),this.mutatedKeys=_y(),this.lo=Sg(e),this.fo=new Tw(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new kw,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=fg(this.query)&&i.size===this.query.limit?i.last():null,c=hg(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Eg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),fg(this.query)||hg(this.query))for(;a.size>this.query.limit;){var l=fg(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $p()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Iw(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new kw,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=_y(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Vw(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Uw(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=_y();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Iw.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Bw=function(e,t,n){this.query=e,this.targetId=t,this.view=n},zw=function(e){this.key=e,this.bo=!1},Kw=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Lb((function(e){return _g(e)}),bg),this.Vo=new Map,this.So=new Set,this.Do=new uy(Tv.comparator),this.Co=new Map,this.No=new g_,this.xo={},this.ko=new Map,this.Fo=Sb.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Ww(e,t){return _l(this,void 0,void 0,(function(){var n,r,i,o,a,s;return wl(this,(function(u){switch(u.label){case 0:return n=_E(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,s_(n.localStore,yg(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Hw(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Z_(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function Hw(e,t,n,r){return _l(this,void 0,void 0,(function(){var i,o,a,s,u,c;return wl(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return _l(this,void 0,void 0,(function(){var i,o,a;return wl(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,c_(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(oE(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,c_(e.localStore,t,!0)];case 1:return i=l.sent(),o=new qw(t,i.Bn),a=o._o(i.documents),s=Ty.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),oE(e,n,u.To),c=new Bw(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function Gw(e,t){return _l(this,void 0,void 0,(function(){var n,r,i;return wl(this,(function(o){switch(o.label){case 0:return n=Xp(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!bg(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,u_(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),ew(n.remoteStore,r.targetId),rE(n,r.targetId)})).catch(Nb)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return rE(n,r.targetId),[4,u_(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Qw(e,t,n){return _l(this,void 0,void 0,(function(){var r,i,o,a;return wl(this,(function(s){switch(s.label){case 0:r=wE(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Xp(e),i=rv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),_y());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Gg(c,n.get(c.key));null!=l&&a.push(new Xg(c.key,l,Vv(l.value.mapValue),Bg.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new uy(ev)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,uE(r,i.changes)];case 3:return s.sent(),[4,hw(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Sw(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function $w(e,t){return _l(this,void 0,void 0,(function(){var n,r;return wl(this,(function(i){switch(i.label){case 0:n=Xp(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,i_(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Yp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Yp(r.bo):e.removedDocuments.size>0&&(Yp(r.bo),r.bo=!1))})),[4,uE(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Nb(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Yw(e,t,n){var r=Xp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Xp(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Ow(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Xw(e,t,n){return _l(this,void 0,void 0,(function(){var r,i,o,a,s,u;return wl(this,(function(c){switch(c.label){case 0:return(r=Xp(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new uy(Tv.comparator)).insert(o,qv.newNoDocument(o,iv.min())),s=_y().add(o),u=new Sy(iv.min(),new Map,new fy(ev),a,s),[4,$w(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),sE(r),[3,4];case 2:return[4,u_(r.localStore,t,!1).then((function(){return rE(r,t,n)})).catch(Nb)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Jw(e,t){return _l(this,void 0,void 0,(function(){var n,r,i;return wl(this,(function(o){switch(o.label){case 0:n=Xp(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,n_(n.localStore,t)];case 2:return i=o.sent(),nE(n,r,null),tE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,uE(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Nb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Zw(e,t,n){return _l(this,void 0,void 0,(function(){var r,i;return wl(this,(function(o){switch(o.label){case 0:r=Xp(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Xp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Yp(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),nE(r,t,n),tE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,uE(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Nb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function eE(e,t){return _l(this,void 0,void 0,(function(){var n,r,i,o,a;return wl(this,(function(s){switch(s.label){case 0:ow((n=Xp(e)).remoteStore)||Wp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Xp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=Sw(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function tE(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function nE(e,t,n){var r=Xp(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function rE(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||iE(e,t)}))}function iE(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(ew(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),sE(e))}function oE(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Uw?(e.No.addReference(o.key,t),aE(e,o)):o instanceof Vw?(Wp("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||iE(e,o.key)):$p()}}function aE(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Wp("SyncEngine","New document in limbo: "+n),e.So.add(r),sE(e))}function sE(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Tv(cv.fromString(t)),r=e.Fo.next();e.Co.set(r,new zw(n)),e.Do=e.Do.insert(n,r),Z_(e.remoteStore,new $m(yg(lg(n.path)),r,2,Vp.o))}}function uE(e,t,n){return _l(this,void 0,void 0,(function(){var r,i,o,a;return wl(this,(function(s){switch(s.label){case 0:return r=Xp(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Xb.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return _l(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return wl(this,(function(f){switch(f.label){case 0:n=Xp(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Lm.forEach(t,(function(t){return Lm.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Lm.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Vm(r=f.sent()))throw r;return Wp("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function cE(e,t){return _l(this,void 0,void 0,(function(){var n,r;return wl(this,(function(i){switch(i.label){case 0:return(n=Xp(e)).currentUser.isEqual(t)?[3,3]:(Wp("SyncEngine","User change. New user:",t.toKey()),[4,t_(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new Bp(qp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,uE(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function lE(e,t){var n=Xp(e),r=n.Co.get(t);if(r&&r.bo)return _y().add(r.key);var i=_y(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function fE(e,t){return _l(this,void 0,void 0,(function(){var n,r,i;return wl(this,(function(o){switch(o.label){case 0:return[4,c_((n=Xp(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&oE(n,t.targetId,i.To),i)]}}))}))}function hE(e){return _l(this,void 0,void 0,(function(){var t;return wl(this,(function(n){return[2,f_((t=Xp(e)).localStore).then((function(e){return uE(t,e)}))]}))}))}function dE(e,t,n,r){return _l(this,void 0,void 0,(function(){var i,o;return wl(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Xp(e),r=Xp(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Lm.resolve(null)}))}))}((i=Xp(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,hw(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(nE(i,t,r||null),tE(i,t),function(e,t){Xp(Xp(e)._n).Gt(t)}(i.localStore,t)):$p(),a.label=4;case 4:return[4,uE(i,o)];case 5:return a.sent(),[3,7];case 6:Wp("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function pE(e,t){return _l(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return wl(this,(function(l){switch(l.label){case 0:return _E(n=Xp(e)),wE(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,vE(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,bw(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Z_(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return rE(n,t),u_(n.localStore,t,!0)})),ew(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,vE(n,u)];case 5:return l.sent(),function(e){var t=Xp(e);t.Co.forEach((function(e,n){ew(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new uy(Tv.comparator)}(n),n.$o=!1,[4,bw(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function vE(e,t,n){return _l(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,h,d,p,v;return wl(this,(function(g){switch(g.label){case 0:n=Xp(e),r=[],i=[],o=0,a=t,g.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,s_(n.localStore,yg(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,f=c,g.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,fE(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,l_(n.localStore,s)];case 8:return v=g.sent(),[4,s_(n.localStore,v)];case 9:return u=g.sent(),[4,Hw(n,gE(v),s,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function gE(e){return cg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function yE(e){var t=Xp(e);return Xp(Xp(t.localStore).persistence).fn()}function mE(e,t,n,r){return _l(this,void 0,void 0,(function(){var i,o,a;return wl(this,(function(s){switch(s.label){case 0:return(i=Xp(e)).$o?(Wp("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,f_(i.localStore)];case 3:return o=s.sent(),a=Sy.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,uE(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,u_(i.localStore,t,!0)];case 6:return s.sent(),rE(i,t,r),[3,8];case 7:$p(),s.label=8;case 8:return[2]}}))}))}function bE(e,t,n){return _l(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h;return wl(this,(function(d){switch(d.label){case 0:if(!(r=_E(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Wp("SyncEngine","Adding an already active target "+a),[3,5]):[4,l_(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,s_(r.localStore,s)];case 3:return u=d.sent(),[4,Hw(r,gE(s),u.targetId,!1)];case 4:d.sent(),Z_(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return wl(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,u_(r.localStore,e,!1).then((function(){ew(r.remoteStore,e),rE(r,e)})).catch(Nb)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function _E(e){var t=Xp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$w.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xw.bind(null,t),t.vo._r=Pw.bind(null,t.eventManager),t.vo.Mo=Rw.bind(null,t.eventManager),t}function wE(e){var t=Xp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Jw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Zw.bind(null,t),t}function EE(e,t,n){var r=Xp(e);(function(e,t,n){return _l(this,void 0,void 0,(function(){var r,i,o,a,s,u;return wl(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=Xp(e),r=Fy(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(Fw(r)),i=new jw(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,uE(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=Xp(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return Gp("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var SE=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return _l(this,void 0,void 0,(function(){return wl(this,(function(t){switch(t.label){case 0:return this.R=z_(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return e_(this.persistence,new Jb,e.initialUser,this.R)},e.prototype.qo=function(e){return new E_(T_.bs,this.R)},e.prototype.Bo=function(e){return new L_},e.prototype.terminate=function(){return _l(this,void 0,void 0,(function(){return wl(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),TE=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return bl(t,e),t.prototype.initialize=function(t){return _l(this,void 0,void 0,(function(){var n=this;return wl(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,h_(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,wE(this.Qo.syncEngine)];case 4:return r.sent(),[4,hw(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return e_(this.persistence,new Jb,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Pb(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Qb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vb.withCacheSize(this.cacheSizeBytes):vb.DEFAULT;return new Wb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,q_(),B_(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new L_},t}(SE),kE=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return bl(t,e),t.prototype.initialize=function(t){return _l(this,void 0,void 0,(function(){var n,r=this;return wl(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof D_?(this.sharedClientState.syncEngine={ui:dE.bind(null,n),ai:mE.bind(null,n),hi:bE.bind(null,n),fn:yE.bind(null,n),ci:hE.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return _l(r,void 0,void 0,(function(){return wl(this,(function(t){switch(t.label){case 0:return[4,pE(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=q_();if(!D_.yt(t))throw new Bp(qp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new D_(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(TE),IE=function(){function e(){}return e.prototype.initialize=function(e,t){return _l(this,void 0,void 0,(function(){var n=this;return wl(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Yw(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cE.bind(null,this.syncEngine),[4,bw(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Nw},e.prototype.createDatastore=function(e){var t,n=z_(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new V_(t));return function(e,t,n){return new Q_(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Yw(a.syncEngine,e,0)},o=j_.yt()?new j_:new M_,new Y_(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Kw(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return _l(this,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:return t=Xp(e),Wp("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,J_(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function CE(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return _l(this,void 0,void 0,(function(){var r;return wl(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return _l(this,void 0,void 0,(function(){return wl(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var NE=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),AE=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Dm,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return _l(this,void 0,void 0,(function(){return wl(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return _l(this,void 0,void 0,(function(){return wl(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return _l(this,void 0,void 0,(function(){var e,t,n,r;return wl(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Lw(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return _l(this,void 0,void 0,(function(){var e,t;return wl(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return _l(this,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return _l(this,void 0,void 0,(function(){var e,t;return wl(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),xE=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return _l(this,void 0,void 0,(function(){var t,n=this;return wl(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Bp(qp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return _l(this,void 0,void 0,(function(){var n,r,i,o,a,s;return wl(this,(function(u){switch(u.label){case 0:return n=Xp(e),r=Wy(n.R)+"/documents",i={documents:t.map((function(e){return qy(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Yp(!!t.found),t.found.name,t.found.updateTime;var n=By(e,t.found.name),r=Fy(t.found.updateTime),i=new Uv({mapValue:{fields:t.found.fields}});return qv.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Yp(!!t.missing),Yp(!!t.readTime);var n=By(e,t.missing),r=Fy(t.readTime);return qv.newNoDocument(n,r)}(e,t):$p()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Yp(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new ry(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return _l(this,void 0,void 0,(function(){var e,t=this;return wl(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Tv.fromPath(n);t.mutations.push(new iy(r,t.precondition(r)))})),[4,function(e,t){return _l(this,void 0,void 0,(function(){var n,r,i;return wl(this,(function(o){switch(o.label){case 0:return n=Xp(e),r=Wy(n.R)+"/documents",i={writes:t.map((function(e){return $y(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw $p();t=iv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Bp(qp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Bg.updateTime(t):Bg.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(iv.min()))throw new Bp(qp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bg.updateTime(t)}return Bg.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),PE=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new K_(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return _l(e,void 0,void 0,(function(){var e,t,n=this;return wl(this,(function(r){return e=new xE(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!wv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ay(t)}return!1},e}(),RE=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=k_.UNAUTHENTICATED,this.clientId=Zp.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return _l(r,void 0,void 0,(function(){return wl(this,(function(t){switch(t.label){case 0:return Wp("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return _l(this,void 0,void 0,(function(){return wl(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Bp(qp.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Dm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return _l(e,void 0,void 0,(function(){var e,n;return wl(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Sw(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function OE(e,t){return _l(this,void 0,void 0,(function(){var n,r,i=this;return wl(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Wp("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return _l(i,void 0,void 0,(function(){return wl(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,t_(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function DE(e,t){return _l(this,void 0,void 0,(function(){var n,r;return wl(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,LE(e)];case 1:return n=i.sent(),Wp("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return _l(this,void 0,void 0,(function(){var n,r;return wl(this,(function(i){switch(i.label){case 0:return(n=Xp(e)).asyncQueue.verifyOperationInProgress(),Wp("RemoteStore","RemoteStore received new credentials"),r=ow(n),n.Or.add(3),[4,J_(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,X_(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function LE(e){return _l(this,void 0,void 0,(function(){return wl(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Wp("FirestoreClient","Using default OfflineComponentProvider"),[4,OE(e,new SE)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function ME(e){return _l(this,void 0,void 0,(function(){return wl(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Wp("FirestoreClient","Using default OnlineComponentProvider"),[4,DE(e,new IE)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function jE(e){return LE(e).then((function(e){return e.persistence}))}function FE(e){return LE(e).then((function(e){return e.localStore}))}function UE(e){return ME(e).then((function(e){return e.remoteStore}))}function VE(e){return ME(e).then((function(e){return e.syncEngine}))}function qE(e){return _l(this,void 0,void 0,(function(){var t,n;return wl(this,(function(r){switch(r.label){case 0:return[4,ME(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Ww.bind(null,t.syncEngine),n.onUnlisten=Gw.bind(null,t.syncEngine),n)]}}))}))}function BE(e,t,n){var r=this;void 0===n&&(n={});var i=new Dm;return e.asyncQueue.enqueueAndForget((function(){return _l(r,void 0,void 0,(function(){var r;return wl(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new NE({next:function(o){t.enqueueAndForget((function(){return xw(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Bp(qp.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Bp(qp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Dw(lg(n.path),o,{includeMetadataChanges:!0,so:!0});return Aw(e,a)},[4,qE(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function zE(e,t,n){var r=this;void 0===n&&(n={});var i=new Dm;return e.asyncQueue.enqueueAndForget((function(){return _l(r,void 0,void 0,(function(){var r;return wl(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new NE({next:function(n){t.enqueueAndForget((function(){return xw(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Bp(qp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Dw(n,o,{includeMetadataChanges:!0,so:!0});return Aw(e,a)},[4,qE(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var KE=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},WE=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),HE=new Map,GE=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},QE=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(k_.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),$E=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),YE=function(){function e(e){var t=this;this.currentUser=k_.UNAUTHENTICATED,this.oc=new Dm,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Wp("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Wp("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Wp("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Yp("string"==typeof n.accessToken),new GE(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return _l(n,void 0,void 0,(function(){return wl(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Yp(null===e||"string"==typeof e),new k_(e)},e}(),XE=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=k_.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),JE=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new XE(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(k_.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function ZE(e,t,n){if(!n)throw new Bp(qp.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function eS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Bp(qp.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function tS(e,t,n,r){if(!0===t&&!0===r)throw new Bp(qp.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function nS(e){if(!Tv.isDocumentKey(e))throw new Bp(qp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function rS(e){if(Tv.isDocumentKey(e))throw new Bp(qp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function iS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":$p()}function oS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Bp(qp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=iS(e);throw new Bp(qp.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function aS(e,t){if(t<=0)throw new Bp(qp.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var sS=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Bp(qp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bp(qp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,tS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),uS=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sS({}),this._settingsFrozen=!1,e instanceof WE?(this._databaseId=e,this._credentials=new QE):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Bp(qp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new WE(e.options.projectId)}(e),this._credentials=new YE(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Bp(qp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Bp(qp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sS(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new QE;switch(e.type){case"gapi":var t=e.client;return Yp(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new JE(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Bp(qp.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=HE.get(this))&&(Wp("ComponentProvider","Removing Datastore"),HE.delete(this),e.terminate()),Promise.resolve();var e},e}(),cS=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new fS(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),lS=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),fS=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,lg(r))||this)._path=r,i.type="collection",i}return bl(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new cS(this.firestore,null,new Tv(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(lS);function hS(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Sl.getModularInstance)(e),ZE("collection","path",t),e instanceof uS)return rS(n=cv.fromString.apply(cv,El([t],r))),new fS(e,null,n);if(!(e instanceof cS||e instanceof fS))throw new Bp(qp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rS(n=cv.fromString.apply(cv,El([e.path],r)).child(cv.fromString(t))),new fS(e.firestore,null,n)}function dS(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Sl.getModularInstance)(e),1===arguments.length&&(t=Zp.u()),ZE("doc","path",t),e instanceof uS)return nS(n=cv.fromString.apply(cv,El([t],r))),new cS(e,null,new Tv(n));if(!(e instanceof cS||e instanceof fS))throw new Bp(qp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return nS(n=e._path.child(cv.fromString.apply(cv,El([t],r)))),new cS(e.firestore,e instanceof fS?e.converter:null,new Tv(n))}function pS(e,t){return e=(0,Sl.getModularInstance)(e),t=(0,Sl.getModularInstance)(t),(e instanceof cS||e instanceof fS)&&(t instanceof cS||t instanceof fS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function vS(e,t){return e=(0,Sl.getModularInstance)(e),t=(0,Sl.getModularInstance)(t),e instanceof lS&&t instanceof lS&&e.firestore===t.firestore&&bg(e._query,t._query)&&e.converter===t.converter}var gS=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new K_(this,"async_queue_retry"),this.Ic=function(){var t=B_();t&&Wp("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=B_();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=B_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Dm;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return _l(this,void 0,void 0,(function(){var e,t=this;return wl(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Vm(e=n.sent()))throw e;return Wp("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Hp("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=Ew.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&$p()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return _l(this,void 0,void 0,(function(){var e;return wl(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function yS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var mS=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Dm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),bS=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new gS,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return bl(t,e),t.prototype._terminate=function(){return this._firestoreClient||wS(this),this._firestoreClient.terminate()},t}(uS);function _S(e){return e._firestoreClient||wS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function wS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new KE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new RE(e._credentials,e._queue,r)}function ES(e,t,n){var r=this,i=new Dm;return e.asyncQueue.enqueue((function(){return _l(r,void 0,void 0,(function(){var r;return wl(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,OE(e,n)];case 1:return o.sent(),[4,DE(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===qp.FAILED_PRECONDITION||e.code===qp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function SS(e){if(e._initialized||e._terminated)throw new Bp(qp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var TS=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Bp(qp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fv(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),kS=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(dv.fromBase64String(t))}catch(t){throw new Bp(qp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(dv.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),IS=function(e){this._methodName=e},CS=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bp(qp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bp(qp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return ev(this._lat,e._lat)||ev(this._long,e._long)},e}(),NS=/^__.*__$/,AS=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Xg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yg(e,this.data,t,this.fieldTransforms)},e}(),xS=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Xg(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function PS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $p()}}var RS=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return JS(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(PS(this.Nc)&&NS.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),OS=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||z_(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new RS({Nc:e,methodName:t,qc:n,path:fv.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function DS(e){var t=e._freezeSettings(),n=z_(e._databaseId);return new OS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function LS(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);QS("Data must be an object, but it was:",a,r);var s,u,c=HS(r,a);if(o.merge)s=new hv(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=$S(t,h[f],n);if(!a.contains(d))throw new Bp(qp.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");ZS(l,d)||l.push(d)}s=new hv(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new AS(new Uv(c),s,u)}var MS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(IS);function jS(e,t,n){return new RS({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var FS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl(t,e),t.prototype._toFieldTransform=function(e){return new Vg(e.path,new Rg)},t.prototype.isEqual=function(e){return e instanceof t},t}(IS),US=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return bl(t,e),t.prototype._toFieldTransform=function(e){var t=jS(this,e,!0),n=this.Kc.map((function(e){return WS(e,t)})),r=new Og(n);return new Vg(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(IS),VS=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return bl(t,e),t.prototype._toFieldTransform=function(e){var t=jS(this,e,!0),n=this.Kc.map((function(e){return WS(e,t)})),r=new Lg(n);return new Vg(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(IS),qS=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return bl(t,e),t.prototype._toFieldTransform=function(e){var t=new jg(e.R,Cg(e.R,this.Qc));return new Vg(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(IS);function BS(e,t,n,r){var i=e.Uc(1,t,n);QS("Data must be an object, but it was:",i,r);var o=[],a=Uv.empty();av(r,(function(e,r){var s=XS(t,e,n);r=(0,Sl.getModularInstance)(r);var u=i.Oc(s);if(r instanceof MS)o.push(s);else{var c=WS(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new hv(o);return new xS(a,s,i.fieldTransforms)}function zS(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[$S(t,r,n)],u=[i];if(o.length%2!=0)throw new Bp(qp.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push($S(t,o[c])),u.push(o[c+1]);for(var l=[],f=Uv.empty(),h=s.length-1;h>=0;--h)if(!ZS(l,s[h])){var d=s[h],p=u[h];p=(0,Sl.getModularInstance)(p);var v=a.Oc(d);if(p instanceof MS)l.push(d);else{var g=WS(p,v);null!=g&&(l.push(d),f.set(d,g))}}var y=new hv(l);return new xS(f,y,a.fieldTransforms)}function KS(e,t,n,r){return void 0===r&&(r=!1),WS(n,e.Uc(r?4:3,t))}function WS(e,t){if(GS(e=(0,Sl.getModularInstance)(e)))return QS("Unsupported field value:",t,e),HS(e,t);if(e instanceof IS)return function(e,t){if(!PS(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=WS(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Sl.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Cg(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=rv.fromDate(e);return{timestampValue:Ly(t.R,n)}}if(e instanceof rv)return n=new rv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Ly(t.R,n)};if(e instanceof CS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof kS)return{bytesValue:My(t.R,e._byteString)};if(e instanceof cS){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Uy(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+iS(e))}(e,t)}function HS(e,t){var n={};return sv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):av(e,(function(e,r){var i=WS(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function GS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rv||e instanceof CS||e instanceof kS||e instanceof cS||e instanceof IS)}function QS(e,t,n){if(!GS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=iS(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function $S(e,t,n){if((t=(0,Sl.getModularInstance)(t))instanceof TS)return t._internalPath;if("string"==typeof t)return XS(e,t);throw JS("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var YS=new RegExp("[~\\*/\\[\\]]");function XS(e,t,n){if(t.search(YS)>=0)throw JS("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(TS.bind.apply(TS,El([void 0],t.split(".")))))._internalPath}catch(nk){throw JS("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function JS(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Bp(qp.INVALID_ARGUMENT,(s+=". ")+e+u)}function ZS(e,t){return e.some((function(e){return e.isEqual(t)}))}var eT=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new cS(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new tT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(nT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),tT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(eT);function nT(e,t){return"string"==typeof t?XS(e,t):t instanceof TS?t._internalPath:t._delegate._internalPath}var rT=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),iT=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return bl(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new oT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(nT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(eT),oT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(iT),aT=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new rT(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new oT(n._firestore,n._userDataWriter,r.key,r,new rT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bp(qp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new oT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new oT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:sT(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function sT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $p()}}function uT(e,t){return e instanceof iT&&t instanceof iT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof aT&&t instanceof aT&&e._firestore===t._firestore&&vS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function cT(e){if(hg(e)&&0===e.explicitOrderBy.length)throw new Bp(qp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lT=function(){};function fT(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var hT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return bl(t,e),t.prototype._apply=function(e){var t=DS(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Bp(qp.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){bT(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(mT(r,e,f))}s={arrayValue:{values:u}}}else s=mT(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||bT(a,o),s=KS(n,"where",a,"in"===o||"not-in"===o);var h=Gv.create(i,o,s);return function(e,t){if(t.g()){var n=pg(e);if(null!==n&&!n.isEqual(t.field))throw new Bp(qp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=dg(e);null!==r&&_T(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Bp(qp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Bp(qp.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new lS(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(lT),dT=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return bl(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Bp(qp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Bp(qp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ig(t,n);return function(e,t){if(null===dg(e)){var n=pg(e);null!==n&&_T(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new lS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ug(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(lT),pT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return bl(t,e),t.prototype._apply=function(e){return new lS(e.firestore,e.converter,mg(e._query,this.Hc,this.Jc))},t}(lT),vT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return bl(t,e),t.prototype._apply=function(e){var t=yT(e,this.type,this.Yc,this.Xc);return new lS(e.firestore,e.converter,function(e,t){return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(lT),gT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return bl(t,e),t.prototype._apply=function(e){var t=yT(e,this.type,this.Yc,this.Xc);return new lS(e.firestore,e.converter,function(e,t){return new ug(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(lT);function yT(e,t,n,r){if(n[0]=(0,Sl.getModularInstance)(n[0]),n[0]instanceof eT)return function(e,t,n,r,i){if(!r)throw new Bp(qp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=gg(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Rv(t,r.key));else{var c=r.data.field(u.field);if(mv(c))throw new Bp(qp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Bp(qp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ng(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=DS(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Bp(qp.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Bp(qp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!vg(e)&&-1!==c.indexOf("/"))throw new Bp(qp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(cv.fromString(c));if(!Tv.isDocumentKey(l))throw new Bp(qp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Tv(l);s.push(Rv(t,f))}else{var h=KS(n,r,c);s.push(h)}}return new ng(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function mT(e,t,n){if("string"==typeof(n=(0,Sl.getModularInstance)(n))){if(""===n)throw new Bp(qp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!vg(t)&&-1!==n.indexOf("/"))throw new Bp(qp.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(cv.fromString(n));if(!Tv.isDocumentKey(r))throw new Bp(qp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Rv(e,new Tv(r))}if(n instanceof cS)return Rv(e,n._key);throw new Bp(qp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+iS(n)+".")}function bT(e,t){if(!Array.isArray(e)||0===e.length)throw new Bp(qp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Bp(qp.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function _T(e,t,n){if(!n.isEqual(t))throw new Bp(qp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var wT=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),kv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $p()}},e.prototype.convertObject=function(e,t){var n=this,r={};return av(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new CS(gv(e.latitude),gv(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=bv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_v(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=vv(e);return new rv(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=cv.fromString(e);Yp(lm(n));var r=new WE(n.get(1),n.get(3)),i=new Tv(n.popFirst(5));return r.isEqual(t)||Hp("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function ET(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ST=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return bl(t,e),t.prototype.convertBytes=function(e){return new kS(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new cS(this.firestore,null,t)},t}(wT),TT=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=DS(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=kT(e,this._firestore),i=ET(r.converter,t,n),o=LS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Bg.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=kT(e,this._firestore);return o="string"==typeof(t=(0,Sl.getModularInstance)(t))||t instanceof TS?zS(this._dataReader,"WriteBatch.update",a._key,t,n,r):BS(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Bg.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=kT(e,this._firestore);return this._mutations=this._mutations.concat(new ry(t._key,Bg.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Bp(qp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function kT(e,t){if((e=(0,Sl.getModularInstance)(e)).firestore!==t)throw new Bp(qp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var IT=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return bl(t,e),t.prototype.convertBytes=function(e){return new kS(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new cS(this.firestore,null,t)},t}(wT);function CT(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=oS(e,cS);var o=oS(e.firestore,bS),a=DS(o);return AT(o,[("string"==typeof(t=(0,Sl.getModularInstance)(t))||t instanceof TS?zS(a,"updateDoc",e._key,t,n,r):BS(a,"updateDoc",e._key,t)).toMutation(e._key,Bg.exists(!0))])}function NT(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,Sl.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||yS(i[s])||(a=i[s],s++);var u,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(yS(i[s])){var h=i[s];i[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[s+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[s+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof cS)c=oS(e.firestore,bS),l=lg(e._key.path),u={next:function(t){i[s]&&i[s](xT(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=oS(e,lS);c=oS(d.firestore,bS),l=d._query;var p=new IT(c);u={next:function(e){i[s]&&i[s](new aT(c,p,d,e))},error:i[s+1],complete:i[s+2]},cT(e._query)}return function(e,t,n,r){var i=this,o=new NE(r),a=new Dw(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return _l(i,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:return t=Aw,[4,qE(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return _l(i,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:return t=xw,[4,qE(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(_S(c),l,f,u)}function AT(e,t){return function(e,t){var n=this,r=new Dm;return e.asyncQueue.enqueueAndForget((function(){return _l(n,void 0,void 0,(function(){var n;return wl(this,(function(i){switch(i.label){case 0:return n=Qw,[4,VE(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(_S(e),t)}function xT(e,t,n){var r=n.docs.get(t._key),i=new IT(e);return new iT(e,i,t._key,r,new rT(n.hasPendingWrites,n.fromCache),t.converter)}var PT=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return bl(t,e),t.prototype.get=function(t){var n=this,r=kT(t,this._firestore),i=new IT(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new iT(n._firestore,i,r._key,e._document,new rT(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=DS(e)}return e.prototype.get=function(e){var t=this,n=kT(e,this._firestore),r=new ST(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return $p();var i=e[0];if(i.isFoundDocument())return new eT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new eT(t._firestore,r,n._key,null,n.converter);throw $p()}))},e.prototype.set=function(e,t,n){var r=kT(e,this._firestore),i=ET(r.converter,t,n),o=LS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=kT(e,this._firestore);return o="string"==typeof(t=(0,Sl.getModularInstance)(t))||t instanceof TS?zS(this._dataReader,"Transaction.update",a._key,t,n,r):BS(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=kT(e,this._firestore);return this._transaction.delete(t._key),this},e}());function RT(){if("undefined"==typeof Uint8Array)throw new Bp(qp.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function OT(){if("undefined"==typeof atob)throw new Bp(qp.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var DT=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return OT(),new e(kS.fromBase64String(t))},e.fromUint8Array=function(t){return RT(),new e(kS.fromUint8Array(t))},e.prototype.toBase64=function(){return OT(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return RT(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),LT=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){SS(e=oS(e,bS));var n=_S(e),r=e._freezeSettings(),i=new IE;return ES(n,i,new TE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){SS(e=oS(e,bS));var t=_S(e),n=e._freezeSettings(),r=new IE;return ES(t,r,new kE(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Bp(qp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Dm;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return _l(t,void 0,void 0,(function(){var t;return wl(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return _l(this,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:return jm.yt()?(t=e+"main",[4,jm.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Qb(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),MT=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof WE||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Gp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=oS(e,uS))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Gp("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=k_.MOCK_USER;else{a=(0,Sl.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Bp(qp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new k_(u)}e._credentials=new $E(new GE(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return _l(t,void 0,void 0,(function(){var t,n;return wl(this,(function(r){switch(r.label){case 0:return[4,jE(e)];case 1:return t=r.sent(),[4,UE(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Xp(e);return t.Or.delete(0),X_(t)}(n))]}}))}))}))}(_S(oS(this._delegate,bS)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return _l(t,void 0,void 0,(function(){var t,n;return wl(this,(function(r){switch(r.label){case 0:return[4,jE(e)];case 1:return t=r.sent(),[4,UE(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return _l(this,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:return(t=Xp(e)).Or.add(0),[4,J_(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(_S(oS(this._delegate,bS)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&tS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Dm;return e.asyncQueue.enqueueAndForget((function(){return _l(t,void 0,void 0,(function(){var t;return wl(this,(function(r){switch(r.label){case 0:return t=eE,[4,VE(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(_S(oS(this._delegate,bS)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new NE(t);return e.asyncQueue.enqueueAndForget((function(){return _l(n,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:return t=function(e,t){Xp(e).Gr.add(t),t.next()},[4,qE(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return _l(n,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:return t=function(e,t){Xp(e).Gr.delete(t)},[4,qE(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(_S(e=oS(e,bS)),yS(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Bp(qp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new YT(this,hS(this._delegate,e))}catch(e){throw BT(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new qT(this,dS(this._delegate,e))}catch(e){throw BT(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new GT(this,function(e,t){if(e=oS(e,uS),ZE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Bp(qp.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new lS(e,null,function(e){return new ug(cv.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw BT(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Dm;return e.asyncQueue.enqueueAndForget((function(){return _l(n,void 0,void 0,(function(){var n;return wl(this,(function(i){switch(i.label){case 0:return[4,function(e){return ME(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new PE(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(_S(e),(function(n){return t(new PT(e,n))}))}(this._delegate,(function(n){return e(new FT(t,n))}))},e.prototype.batch=function(){var e=this;return _S(this._delegate),new UT(new TT(this._delegate,(function(t){return AT(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Bp(qp.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Bp(qp.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),jT=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return bl(t,e),t.prototype.convertBytes=function(e){return new DT(new kS(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return qT.eu(t,this.firestore,null)},t}(wT);var FT=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jT(e)}return e.prototype.get=function(e){var t=this,n=XT(e);return this._delegate.get(n).then((function(e){return new WT(t._firestore,new iT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=XT(e);return n?(eS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=XT(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,El([a,t,n],i)),this},e.prototype.delete=function(e){var t=XT(e);return this._delegate.delete(t),this},e}(),UT=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=XT(e);return n?(eS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=XT(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,El([a,t,n],i)),this},e.prototype.delete=function(e){var t=XT(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),VT=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new oT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new HT(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new jT(t),n),i.set(n,o)),o},e}();VT.su=new WeakMap;var qT=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jT(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Bp(qp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new cS(n._delegate,r,new Tv(t)))},e.eu=function(t,n,r){return new e(n,new cS(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new YT(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new YT(this.firestore,hS(this._delegate,e))}catch(e){throw BT(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,Sl.getModularInstance)(e))instanceof cS&&pS(this._delegate,e)},e.prototype.set=function(e,t){t=eS("DocumentReference.set",t);try{return function(e,t,n){e=oS(e,cS);var r=oS(e.firestore,bS),i=ET(e.converter,t,n);return AT(r,[LS(DS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bg.none())])}(this._delegate,e,t)}catch(e){throw BT(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?CT(this._delegate,e):CT.apply(void 0,El([this._delegate,e,t],n))}catch(e){throw BT(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return AT(oS((e=this._delegate).firestore,bS),[new ry(e._key,Bg.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=zT(t),i=KT(t,(function(t){return new WT(e.firestore,new iT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return NT(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=oS(e,cS);var t=oS(e.firestore,bS),n=_S(t),r=new IT(t);return function(e,t){var n=this,r=new Dm;return e.asyncQueue.enqueueAndForget((function(){return _l(n,void 0,void 0,(function(){var n;return wl(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return _l(this,void 0,void 0,(function(){var r,i;return wl(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Xp(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Bp(qp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Sw(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,FE(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new iT(t,r,e._key,n,new rT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=oS(e,cS);var t=oS(e.firestore,bS);return BE(_S(t),e._key,{source:"server"}).then((function(n){return xT(t,e,n)}))}(this._delegate):function(e){e=oS(e,cS);var t=oS(e.firestore,bS);return BE(_S(t),e._key).then((function(n){return xT(t,e,n)}))}(this._delegate)).then((function(e){return new WT(t.firestore,new iT(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(VT.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function BT(e,t,n){return e.message=e.message.replace(t,n),e}function zT(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!yS(r))return r}return{}}function KT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=yS(e[0])?e[0]:yS(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var WT=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new qT(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return uT(this._delegate,e._delegate)},e}(),HT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bl(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(WT),GT=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jT(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,fT(this._delegate,function(e,t,n){var r=t,i=nT("where",e);return new hT(i,r,n)}(t,n,r)))}catch(t){throw BT(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,fT(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=nT("orderBy",e);return new dT(r,n)}(t,n)))}catch(t){throw BT(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,fT(this._delegate,function(e){return aS("limit",e),new pT("limit",e,"F")}(t)))}catch(t){throw BT(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,fT(this._delegate,function(e){return aS("limitToLast",e),new pT("limitToLast",e,"L")}(t)))}catch(t){throw BT(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,fT(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new vT("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw BT(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,fT(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new vT("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw BT(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,fT(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new gT("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw BT(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,fT(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new gT("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw BT(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return vS(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=oS(e,lS);var t=oS(e.firestore,bS),n=_S(t),r=new IT(t);return function(e,t){var n=this,r=new Dm;return e.asyncQueue.enqueueAndForget((function(){return _l(n,void 0,void 0,(function(){var n;return wl(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return _l(this,void 0,void 0,(function(){var r,i,o,a,s;return wl(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,c_(e,t,!0)];case 1:return s=u.sent(),r=new qw(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Sw(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,FE(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new aT(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=oS(e,lS);var t=oS(e.firestore,bS),n=_S(t),r=new IT(t);return zE(n,e._query,{source:"server"}).then((function(n){return new aT(t,r,e,n)}))}(this._delegate):function(e){e=oS(e,lS);var t=oS(e.firestore,bS),n=_S(t),r=new IT(t);return cT(e._query),zE(n,e._query).then((function(n){return new aT(t,r,e,n)}))}(this._delegate)).then((function(e){return new $T(t.firestore,new aT(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=zT(t),i=KT(t,(function(t){return new $T(e.firestore,new aT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return NT(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(VT.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),QT=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new HT(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),$T=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new GT(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new HT(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new QT(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new HT(n._firestore,r))}))},e.prototype.isEqual=function(e){return uT(this._delegate,e._delegate)},e}(),YT=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return bl(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new qT(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new qT(this.firestore,void 0===e?dS(this._delegate):dS(this._delegate,e))}catch(e){throw BT(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=oS(e.firestore,bS),r=dS(e),i=ET(e.converter,t);return AT(n,[LS(DS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new qT(t.firestore,e)}))},t.prototype.isEqual=function(e){return pS(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(VT.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(GT);function XT(e){return oS(e,cS)}var JT=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(TS.bind.apply(TS,El([void 0],e)))}return e.documentId=function(){return new e(fv.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,Sl.getModularInstance)(e))instanceof TS&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),ZT=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new FS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new MS("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new US("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new VS("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new qS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function ek(e){return function(e,t){var n=_S(e=oS(e,bS)),r=new mS;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new AE(e,t)}(function(e,t){if(e instanceof Uint8Array)return CE(e,t);if(e instanceof ArrayBuffer)return CE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,z_(t));e.asyncQueue.enqueueAndForget((function(){return _l(i,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:return t=EE,[4,VE(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function tk(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return _l(n,void 0,void 0,(function(){var n;return wl(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=Xp(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,FE(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(_S(t=oS(t,bS)),n).then((function(e){return e?new lS(t,null,e.query):null}))).then((function(e){return e?new GT(r,e):null}))}var nk,rk,ik=n(181),ok={Firestore:MT,GeoPoint:CS,Timestamp:rv,Blob:DT,Transaction:FT,WriteBatch:UT,DocumentReference:qT,DocumentSnapshot:WT,Query:GT,QueryDocumentSnapshot:HT,QuerySnapshot:$T,CollectionReference:YT,FieldPath:JT,FieldValue:ZT,setLogLevel:function(e){var t;t=e,zp.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new ik.Component("firestore",(function(e){return function(e,t){return new MT(e,new bS(e,t),new LT)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ok)))})(nk=ec.default),nk.registerVersion("@firebase/firestore","2.4.0"),(rk=MT).prototype.loadBundle=ek,rk.prototype.namedQuery=tk;var ak=function(e,t){return ak=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ak(e,t)};function sk(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(nk){o(nk)}}function s(e){try{u(r.throw(e))}catch(nk){o(nk)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function uk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(nk){o=[6,nk],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create;var ck={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lk=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ak(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);var fk=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return sk(this,void 0,void 0,(function(){var e;return uk(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return sk(this,void 0,void 0,(function(){return uk(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return sk(this,void 0,void 0,(function(){var e,t;return uk(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function hk(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var dk=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return hk(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?hk(e,(function(e){return t.decode(e)})):e},e}();var pk=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new dk,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new fk(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(nk){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return sk(this,void 0,void 0,(function(){var r,i,o;return uk(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return sk(this,void 0,void 0,(function(){var e;return uk(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return sk(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,h,d;return uk(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new lk("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([vk(c,this.postJSON(r,i,o)),l,vk(c,this.cancelAllRequests)])];case 2:if(!(f=p.sent()))throw new lk("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!ck[s])return new lk("internal","internal");r=ck[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(nk){}return"ok"===r?null:new lk(r,i,o)}(f.status,f.json,this.serializer),h)throw h;if(!f.json)throw new lk("internal","Response is not valid JSON object.");if("undefined"===typeof(d=f.json.data)&&(d=f.json.result),"undefined"===typeof d)throw new lk("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function vk(e,t){return sk(this,void 0,void 0,(function(){var n;return uk(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:pk};e.INTERNAL.registerComponent(new ik.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new pk(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(ec.default,fetch.bind(self)),ec.default.registerVersion("@firebase/functions","0.6.15");var gk=function(){return gk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gk.apply(this,arguments)};function yk(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(nk){o(nk)}}function s(e){try{u(r.throw(e))}catch(nk){o(nk)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function mk(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(nk){o=[6,nk],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function bk(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _k(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(jc){i={error:jc}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;var wk,Ek=n(494),Sk="0.4.32",Tk=1e4,kk="w:0.4.32",Ik="FIS_v2",Ck=36e5,Nk=((wk={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',wk["not-registered"]="Firebase Installation is not registered.",wk["installation-not-found"]="Firebase Installation not found.",wk["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',wk["app-offline"]="Could not process request. Application offline.",wk["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",wk),Ak=new Sl.ErrorFactory("installations","Installations",Nk);function xk(e){return e instanceof Sl.FirebaseError&&e.code.includes("request-failed")}function Pk(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function Rk(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Ok(e,t){return yk(this,void 0,void 0,(function(){var n,r;return mk(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Ak.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Dk(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Lk(e,t){var n=t.refreshToken,r=Dk(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function Mk(e){return yk(this,void 0,void 0,(function(){var t;return mk(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function jk(e,t){var n=t.fid;return yk(this,void 0,void 0,(function(){var t,r,i,o,a,s;return mk(this,(function(u){switch(u.label){case 0:return t=Pk(e),r=Dk(e),i={fid:n,authVersion:Ik,appId:e.appId,sdkVersion:kk},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Mk((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Rk(s.authToken)}];case 3:return[4,Ok("Create Installation",a)];case 4:throw u.sent()}}))}))}function Fk(e){return new Promise((function(t){setTimeout(t,e)}))}function Uk(e){var t=btoa(String.fromCharCode.apply(String,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],_k(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}var Vk=/^[cdef][\w-]{21}$/;function qk(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return Uk(e).substr(0,22)}(e);return Vk.test(t)?t:""}catch(MS){return""}}function Bk(e){return e.appName+"!"+e.appId}var zk=new Map;function Kk(e,t){var n=Bk(e);Wk(n,t),function(e,t){var n=Gk();n&&n.postMessage({key:e,fid:t});Qk()}(n,t)}function Wk(e,t){var n,r,i=zk.get(e);if(i)try{for(var o=bk(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Hk=null;function Gk(){return!Hk&&"BroadcastChannel"in self&&((Hk=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Wk(e.data.key,e.data.fid)}),Hk}function Qk(){0===zk.size&&Hk&&(Hk.close(),Hk=null)}var $k,Yk="firebase-installations-store",Xk=null;function Jk(){return Xk||(Xk=(0,Ek.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(Yk)}))),Xk}function Zk(e,t){return yk(this,void 0,void 0,(function(){var n,r,i,o,a;return mk(this,(function(s){switch(s.label){case 0:return n=Bk(e),[4,Jk()];case 1:return r=s.sent(),i=r.transaction(Yk,"readwrite"),[4,(o=i.objectStore(Yk)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||Kk(e,t.fid),[2,t]}}))}))}function eI(e){return yk(this,void 0,void 0,(function(){var t,n,r;return mk(this,(function(i){switch(i.label){case 0:return t=Bk(e),[4,Jk()];case 1:return n=i.sent(),[4,(r=n.transaction(Yk,"readwrite")).objectStore(Yk).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function tI(e,t){return yk(this,void 0,void 0,(function(){var n,r,i,o,a,s;return mk(this,(function(u){switch(u.label){case 0:return n=Bk(e),[4,Jk()];case 1:return r=u.sent(),i=r.transaction(Yk,"readwrite"),[4,(o=i.objectStore(Yk)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||Kk(e,s.fid),[2,s]}}))}))}function nI(e){return yk(this,void 0,void 0,(function(){var t,n,r;return mk(this,(function(i){switch(i.label){case 0:return[4,tI(e,(function(n){var r=function(e){return oI(e||{fid:qk(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Ak.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return yk(this,void 0,void 0,(function(){var n,r;return mk(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,jk(e,t)];case 1:return n=i.sent(),[2,Zk(e,n)];case 2:return xk(r=i.sent())&&409===r.customData.serverCode?[4,eI(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Zk(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:rI(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function rI(e){return yk(this,void 0,void 0,(function(){var t,n,r,i;return mk(this,(function(o){switch(o.label){case 0:return[4,iI(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,Fk(100)];case 3:return o.sent(),[4,iI(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,nI(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function iI(e){return tI(e,(function(e){if(!e)throw Ak.create("installation-not-found");return oI(e)}))}function oI(e){return 1===(t=e).registrationStatus&&t.registrationTime+Tk<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function aI(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return yk(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return mk(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return Pk(e)+"/"+n+"/authTokens:generate"}(n,t),i=Lk(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:kk}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,Mk((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,Rk(c)];case 3:return[4,Ok("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function sI(e,t){return void 0===t&&(t=!1),yk(this,void 0,void 0,(function(){var n,r,i;return mk(this,(function(o){switch(o.label){case 0:return[4,tI(e.appConfig,(function(r){if(!cI(r))throw Ak.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ck}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return yk(this,void 0,void 0,(function(){var n,r;return mk(this,(function(i){switch(i.label){case 0:return[4,uI(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Fk(100)];case 3:return i.sent(),[4,uI(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,sI(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw Ak.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return gk(gk({},e),{authToken:t})}(r);return n=function(e,t){return yk(this,void 0,void 0,(function(){var n,r,i;return mk(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,aI(e,t)];case 1:return n=o.sent(),i=gk(gk({},t),{authToken:n}),[4,Zk(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!xk(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,eI(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=gk(gk({},t),{authToken:{requestStatus:0}}),[4,Zk(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function uI(e){return tI(e,(function(e){if(!cI(e))throw Ak.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Tk<Date.now()?gk(gk({},e),{authToken:{requestStatus:0}}):e}))}function cI(e){return void 0!==e&&2===e.registrationStatus}function lI(e){return yk(this,void 0,void 0,(function(){var t;return mk(this,(function(n){switch(n.label){case 0:return[4,nI(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function fI(e,t){return yk(this,void 0,void 0,(function(){var n,r,i,o;return mk(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return Pk(e)+"/"+n}(e,t),r=Lk(e,t),i={method:"DELETE",headers:r},[4,Mk((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Ok("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function hI(e,t){var n=e.appConfig;return function(e,t){Gk();var n=Bk(e),r=zk.get(n);r||(r=new Set,zk.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=Bk(e),r=zk.get(n);r&&(r.delete(t),0===r.size&&zk.delete(n),Qk())}(n,t)}}function dI(e){return Ak.create("missing-app-config-values",{valueName:e})}($k=ec.default).INTERNAL.registerComponent(new ik.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw dI("App Configuration");if(!e.name)throw dI("App Name");try{for(var r=bk(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw dI(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return yk(this,void 0,void 0,(function(){var t,n,r;return mk(this,(function(i){switch(i.label){case 0:return[4,nI(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):sI(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),yk(this,void 0,void 0,(function(){return mk(this,(function(n){switch(n.label){case 0:return[4,lI(e.appConfig)];case 1:return n.sent(),[4,sI(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return yk(this,void 0,void 0,(function(){var t,n;return mk(this,(function(r){switch(r.label){case 0:return[4,tI(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Ak.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Ak.create("app-offline");case 3:return[4,fI(t,n)];case 4:return r.sent(),[4,eI(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return hI(r,e)}};return i}),"PUBLIC")),$k.registerVersion("@firebase/installations",Sk);var pI=function(){return pI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pI.apply(this,arguments)};function vI(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(nk){o(nk)}}function s(e){try{u(r.throw(e))}catch(nk){o(nk)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function gI(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(nk){o=[6,nk],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function yI(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mI(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(jc){i={error:jc}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;var bI,_I,wI=n(365),EI=((bI={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',bI["only-available-in-window"]="This method is available in a Window context.",bI["only-available-in-sw"]="This method is available in a service worker context.",bI["permission-default"]="The notification permission was not granted and dismissed instead.",bI["permission-blocked"]="The notification permission was not granted and blocked instead.",bI["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",bI["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",bI["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",bI["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",bI["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",bI["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",bI["token-update-no-token"]="FCM returned no token when updating the user to push.",bI["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",bI["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",bI["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",bI["invalid-vapid-key"]="The public VAPID key must be a string.",bI["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",bI),SI=new Sl.ErrorFactory("messaging","Messaging",EI),TI="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kI="google.c.a.c_id";function II(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([],mI(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function CI(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(_I||(_I={}));var NI="fcm_token_details_db",AI="fcm_token_object_Store";function xI(e){return vI(this,void 0,void 0,(function(){var t,n,r,i=this;return gI(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(NI))return[2,null];o.label=2;case 2:return r=null,[4,(0,wI.openDb)(NI,5,(function(t){return vI(i,void 0,void 0,(function(){var n,i,o,a;return gI(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(AI)?[4,(n=t.transaction.objectStore(AI)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:II(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:II(o.auth),p256dh:II(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:II(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,wI.deleteDb)(NI)];case 4:return o.sent(),[4,(0,wI.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,wI.deleteDb)("undefined")];case 6:return o.sent(),[2,PI(r)?r:null]}}))}))}function PI(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var RI="firebase-messaging-store",OI=null;function DI(){return OI||(OI=(0,wI.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(RI)}))),OI}function LI(e){return vI(this,void 0,void 0,(function(){var t,n,r;return gI(this,(function(i){switch(i.label){case 0:return t=FI(e),[4,DI()];case 1:return[4,i.sent().transaction(RI).objectStore(RI).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,xI(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,MI(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function MI(e,t){return vI(this,void 0,void 0,(function(){var n,r,i;return gI(this,(function(o){switch(o.label){case 0:return n=FI(e),[4,DI()];case 1:return r=o.sent(),[4,(i=r.transaction(RI,"readwrite")).objectStore(RI).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function jI(e){return vI(this,void 0,void 0,(function(){var t,n,r;return gI(this,(function(i){switch(i.label){case 0:return t=FI(e),[4,DI()];case 1:return n=i.sent(),[4,(r=n.transaction(RI,"readwrite")).objectStore(RI).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function FI(e){return e.appConfig.appId}function UI(e,t){return vI(this,void 0,void 0,(function(){var n,r,i,o,a,s;return gI(this,(function(u){switch(u.label){case 0:return[4,zI(e)];case 1:n=u.sent(),r=KI(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(BI(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),SI.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,SI.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw SI.create("token-subscribe-no-token");return[2,o.token]}}))}))}function VI(e,t){return vI(this,void 0,void 0,(function(){var n,r,i,o,a,s;return gI(this,(function(u){switch(u.label){case 0:return[4,zI(e)];case 1:n=u.sent(),r=KI(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(BI(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),SI.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,SI.create("token-update-failed",{errorInfo:s});if(!o.token)throw SI.create("token-update-no-token");return[2,o.token]}}))}))}function qI(e,t){return vI(this,void 0,void 0,(function(){var n,r,i,o,a;return gI(this,(function(s){switch(s.label){case 0:return[4,zI(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(BI(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,SI.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),SI.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function BI(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function zI(e){var t=e.appConfig,n=e.installations;return vI(this,void 0,void 0,(function(){var e;return gI(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function KI(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==TI&&(o.web.applicationPubKey=i),o}function WI(e,t,n){return vI(this,void 0,void 0,(function(){var r,i,o,a;return gI(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw SI.create("permission-blocked");return[4,$I(t,n)];case 1:return r=s.sent(),[4,LI(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:II(r.getKey("auth")),p256dh:II(r.getKey("p256dh"))},i?[3,3]:[2,QI(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,qI(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,QI(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,GI({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function HI(e,t){return vI(this,void 0,void 0,(function(){var n,r;return gI(this,(function(i){switch(i.label){case 0:return[4,LI(e)];case 1:return(n=i.sent())?[4,qI(e,n.token)]:[3,4];case 2:return i.sent(),[4,jI(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function GI(e,t,n){return vI(this,void 0,void 0,(function(){var r,i,o;return gI(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,VI(t,e)];case 1:return r=a.sent(),i=pI(pI({},e),{token:r,createTime:Date.now()}),[4,MI(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,HI(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function QI(e,t){return vI(this,void 0,void 0,(function(){var n,r;return gI(this,(function(i){switch(i.label){case 0:return[4,UI(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,MI(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function $I(e,t){return vI(this,void 0,void 0,(function(){var n;return gI(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:CI(t)})]}}))}))}function YI(e){return"object"===typeof e&&!!e&&kI in e}function XI(e){return new Promise((function(t){setTimeout(t,e)}))}var JI=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw SI.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return vI(this,void 0,void 0,(function(){var n;return gI(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,LI(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:TI,r.label=2;case 2:return[2,WI(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return HI(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw SI.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw SI.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw SI.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw SI.create("only-available-in-window")},e.prototype.onMessage=function(){throw SI.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw SI.create("only-available-in-window")},e.prototype.onPush=function(e){return vI(this,void 0,void 0,(function(){var t,n,r,i;return gI(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,nC()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,tC(n,t)]:(r=!1,t.notification?[4,rC(ZI(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,XI(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return vI(this,void 0,void 0,(function(){var r;return gI(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,HI(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,LI(this.firebaseDependencies)];case 3:return r=i.sent(),[4,HI(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,WI(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:TI)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return vI(this,void 0,void 0,(function(){var r,i,o,a,s;return gI(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return YI(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,eC(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,XI(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=_I.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function ZI(e){var t,n=pI({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function eC(e){return vI(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return gI(this,(function(u){switch(u.label){case 0:return[4,nC()];case 1:t=u.sent();try{for(n=yI(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function tC(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=_I.PUSH_RECEIVED;try{for(var i=yI(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function nC(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function rC(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var iC=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return vI(this,void 0,void 0,(function(){var t,n;return gI(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===_I.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),YI(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return vI(this,void 0,void 0,(function(){return gI(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw SI.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,WI(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return vI(this,void 0,void 0,(function(){return gI(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=TI),[2]}))}))},e.prototype.updateSwReg=function(e){return vI(this,void 0,void 0,(function(){return gI(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw SI.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return vI(this,void 0,void 0,(function(){var e,t;return gI(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),SI.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return vI(this,void 0,void 0,(function(){return gI(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,HI(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return vI(this,void 0,void 0,(function(){var e;return gI(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?SI.create("permission-blocked"):SI.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw SI.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw SI.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw SI.create("invalid-sw-registration");if(this.swRegistration)throw SI.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw SI.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw SI.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return vI(this,void 0,void 0,(function(){var n;return gI(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case _I.NOTIFICATION_CLICKED:return"notification_open";case _I.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function oC(e){return SI.create("missing-app-config-values",{valueName:e})}var aC={isSupported:sC};function sC(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}ec.default.INTERNAL.registerComponent(new ik.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw oC("App Configuration Object");if(!e.name)throw oC("App Name");var r=e.options;try{for(var i=yI(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw oC(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!sC())throw SI.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new JI(r):new iC(r)}),"PUBLIC").setServiceProps(aC));var uC=function(e,t){return uC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},uC(e,t)};var cC=function(){return cC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cC.apply(this,arguments)};function lC(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(nk){o(nk)}}function s(e){try{u(r.throw(e))}catch(nk){o(nk)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function fC(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(nk){o=[6,nk],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function hC(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var dC="firebasestorage.googleapis.com",pC=function(e){function t(n,r){var i=e.call(this,vC(n),"Firebase Storage: "+r+" ("+vC(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}uC(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._codeEquals=function(e){return vC(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Sl.FirebaseError);function vC(e){return"storage/"+e}function gC(){return new pC("unknown","An unknown error occurred, please check the error payload for server response.")}function yC(){return new pC("canceled","User canceled the upload/download.")}function mC(){return new pC("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function bC(e){return new pC("invalid-argument",e)}function _C(){return new pC("app-deleted","The Firebase app was deleted.")}function wC(e){return new pC("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function EC(e,t){return new pC("invalid-format","String does not match format '"+e+"': "+t)}function SC(e){throw new pC("internal-error","Internal error: "+e)}var TC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},kC=function(e,t){this.data=e,this.contentType=t||null};function IC(e,t){switch(e){case TC.RAW:return new kC(CC(t));case TC.BASE64:case TC.BASE64URL:return new kC(NC(e,t));case TC.DATA_URL:return new kC(function(e){var t=new AC(e);return t.base64?NC(TC.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(nk){throw EC(TC.DATA_URL,"Malformed data URL.")}return CC(t)}(t.rest)}(t),new AC(t).contentType)}throw gC()}function CC(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function NC(e,t){switch(e){case TC.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw EC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case TC.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw EC(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(nk){throw EC(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var AC=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw EC(TC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var xC,PC={STATE_CHANGED:"state_changed"},RC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function OC(e){switch(e){case"running":case"pausing":case"canceling":return RC.RUNNING;case"paused":return RC.PAUSED;case"success":return RC.SUCCESS;case"canceled":return RC.CANCELED;default:return RC.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(xC||(xC={}));var DC=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=xC.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=xC.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=xC.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw SC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw SC("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw SC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(nk){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw SC("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var LC=function(){function e(){}return e.prototype.createConnection=function(){return new DC},e}(),MC=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(nk){return new e(t,"")}if(""===r.path)return r;throw new pC("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===dC?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new pC("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),jC=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function FC(e){return"string"===typeof e||e instanceof String}function UC(e){return VC()&&e instanceof Blob}function VC(){return"undefined"!==typeof Blob}function qC(e,t,n,r){if(r<t)throw bC("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw bC("Invalid value for '"+e+"'. Expected "+n+" or less.")}function BC(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function zC(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var KC=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(nk){o(nk)}else null!==a?((r=gC()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?_C():yC()):o(r=new pC("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new WC(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,hC([null,e],t));else{var i;s()||o?c.call.apply(c,hC([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var h=!1;function d(e){h||(h=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new WC(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===xC.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new WC(a,r))}else{var s=r.getErrorCode()===xC.ABORT;t(!1,new WC(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),WC=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function HC(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function GC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=HC();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(VC())return new Blob(e);throw new pC("unsupported-environment","This browser doesn't seem to support creating Blobs")}var QC=function(){function e(e,t){var n=0,r="";UC(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(UC(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(VC()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(GC.apply(null,r))}var i=t.map((function(e){return FC(e)?IC(TC.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function $C(e){var t;try{t=JSON.parse(e)}catch(nk){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function YC(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function XC(e,t){return t}var JC=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||XC},ZC=null;function eN(){if(ZC)return ZC;var e=[];e.push(new JC("bucket")),e.push(new JC("generation")),e.push(new JC("metageneration")),e.push(new JC("name","fullPath",!0));var t=new JC("name");t.xform=function(e,t){return function(e){return!FC(e)||e.length<2?e:YC(e)}(t)},e.push(t);var n=new JC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new JC("timeCreated")),e.push(new JC("updated")),e.push(new JC("md5Hash",null,!0)),e.push(new JC("cacheControl",null,!0)),e.push(new JC("contentDisposition",null,!0)),e.push(new JC("contentEncoding",null,!0)),e.push(new JC("contentLanguage",null,!0)),e.push(new JC("contentType",null,!0)),e.push(new JC("metadata","customMetadata",!0)),ZC=e}function tN(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new MC(n,r);return t._makeStorageReference(i)}})}(r,e),r}function nN(e,t,n){var r=$C(t);return null===r?null:tN(e,r,n)}function rN(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function iN(e,t,n){var r=$C(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new MC(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new MC(t,l.name)),r.items.push(s)}return r}(e,t,r)}var oN=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function aN(e){if(!e)throw gC()}function sN(e,t){return function(n,r){var i=nN(e,r,t);return aN(null!==i),i}}function uN(e,t){return function(n,r){var i=nN(e,r,t);return aN(null!==i),function(e,t,n){var r=$C(t);if(null===r)return null;if(!FC(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return BC("/b/"+o(r)+"/o/"+o(i),n)+zC({alt:"media",token:t})}))[0]}(i,r,e.host)}}function cN(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new pC("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new pC("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new pC("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new pC("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function lN(e){var t=cN(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new pC("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function fN(e,t,n){var r=BC(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new oN(r,"GET",sN(e,n),i);return o.errorHandler=lN(t),o}function hN(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=BC(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new oN(a,"GET",function(e,t){return function(n,r){var i=iN(e,t,r);return aN(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=cN(t),u}function dN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var pN=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function vN(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(nk){aN(!1)}return aN(!!n&&-1!==(t||["active"]).indexOf(n)),n}var gN=262144;function yN(e,t,n,r,i,o,a,s){var u=new pN(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new pC("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(f,h);if(null===p)throw mC();var v=t.maxUploadRetryTime,g=new oN(n,"POST",(function(e,n){var i,a=vN(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?sN(t,o)(e,n):null,new pN(s,c,"final"===a,i)}),v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=cN(e),g}var mN=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function bN(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var _N=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=eN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=dN(t,r,i),s={name:a.fullPath},u=BC(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=rN(a,n),f=e.maxUploadRetryTime,h=new oN(u,"POST",(function(e){var t;vN(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(nk){aN(!1)}return aN(FC(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=cN(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new oN(n,"POST",(function(e){var t=vN(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(nk){aN(!1)}n||aN(!1);var i=Number(n);return aN(!isNaN(i)),new pN(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=cN(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=gN*this._chunkMultiplier,n=new pN(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=yN(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(nk){return e._error=nk,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){gN*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=fN(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=dN(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+rN(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=QC.getBlob(c,r,l);if(null===f)throw mC();var h={name:u.fullPath},d=BC(o,e.host),p=e.maxUploadRetryTime,v=new oN(d,"POST",sN(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=cN(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=yC(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=OC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new mN(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(OC(this._state)){case RC.SUCCESS:bN(this._resolve.bind(null,this.snapshot))();break;case RC.CANCELED:case RC.ERROR:bN(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(OC(this._state)){case RC.RUNNING:case RC.PAUSED:e.next&&bN(e.next.bind(e,this.snapshot))();break;case RC.SUCCESS:e.complete&&bN(e.complete.bind(e))();break;default:e.error&&bN(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),wN=function(){function e(e,t){this._service=e,this._location=t instanceof MC?t:MC.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new MC(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return YC(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new MC(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw wC(e)},e}();function EN(e){var t={prefixes:[],items:[]};return SN(e,t).then((function(){return t}))}function SN(e,t,n){return lC(this,void 0,void 0,(function(){var r,i,o;return fC(this,(function(a){switch(a.label){case 0:return[4,TN(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,SN(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function TN(e,t){return lC(this,void 0,void 0,(function(){var n,r;return fC(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&qC("options.maxResults",1,1e3,t.maxResults),n=t||{},r=hN(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function kN(e,t){return lC(this,void 0,void 0,(function(){var n;return fC(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=BC(t.fullServerUrl(),e.host),o=rN(n,r),a=e.maxOperationRetryTime,s=new oN(i,"PATCH",sN(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=lN(t),s}(e.storage,e._location,t,eN()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function IN(e){return lC(this,void 0,void 0,(function(){var t;return fC(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=BC(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new oN(r,"GET",uN(e,n),i);return o.errorHandler=lN(t),o}(e.storage,e._location,eN()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new pC("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function CN(e){return lC(this,void 0,void 0,(function(){var t;return fC(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=BC(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new oN(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=lN(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function NN(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new MC(e._location.bucket,n);return new wN(e.storage,r)}function AN(e){return/^[A-Za-z]+:\/\//.test(e)}function xN(e,t){if(e instanceof ON){var n=e;if(null==n._bucket)throw new pC("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new wN(n,n._bucket);return null!=t?xN(r,t):r}return void 0!==t?NN(e,t):e}function PN(e,t){if(t&&AN(t)){if(e instanceof ON)return new wN(e,t);throw bC("To use ref(service, url), the first argument must be a Storage instance.")}return xN(e,t)}function RN(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:MC.makeFromBucketSpec(n,e)}var ON=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=dC,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?MC.makeFromBucketSpec(i,this._host):RN(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=MC.makeFromBucketSpec(this._url,e):this._bucket=RN(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){qC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){qC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return lC(this,void 0,void 0,(function(){var e,t;return fC(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return lC(this,void 0,void 0,(function(){var e;return fC(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new wN(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new jC(_C());var i=function(e,t,n,r,i,o){var a=zC(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new KC(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return lC(this,void 0,void 0,(function(){var t,n,r;return fC(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function DN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new _N(e,new QC(t),n)}(e=(0,Sl.getModularInstance)(e),t,n)}function LN(e){return function(e){return lC(this,void 0,void 0,(function(){var t;return fC(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=fN(e.storage,e._location,eN()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,Sl.getModularInstance)(e))}function MN(e,t){return PN(e=(0,Sl.getModularInstance)(e),t)}function jN(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,Sl.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}var FN=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),UN=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new FN(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new FN(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new FN(e,i,i._ref))}:{next:t.next?function(e){return t.next(new FN(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),VN=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new qN(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new qN(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),qN=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return NN(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new UN(DN(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=TC.RAW),this._throwIfRoot("putString");var r=IC(t,e),i=cC({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new UN(new _N(this._delegate,new QC(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return EN(e=(0,Sl.getModularInstance)(e))}(this._delegate).then((function(t){return new VN(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return TN(e=(0,Sl.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new VN(e,t.storage)}))},e.prototype.getMetadata=function(){return LN(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return kN(e=(0,Sl.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return IN(e=(0,Sl.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return CN(e=(0,Sl.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw wC(e)},e}(),BN=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(AN(e))throw bC("ref() expected a child path but got a URL, use refFromURL instead.");return new qN(MN(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!AN(e))throw bC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{MC.makeFromUrl(e,this._delegate.host)}catch(nk){throw bC("refFromUrl() expected a valid full URL but got an invalid one.")}return new qN(MN(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),jN(this._delegate,e,t,n)},e}();function zN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new BN(r,new ON(r,i,o,new LC,n,ec.default.SDK_VERSION))}!function(e){var t={TaskState:RC,TaskEvent:PC,StringFormat:TC,Storage:ON,Reference:qN};e.INTERNAL.registerComponent(new ik.Component("storage",zN,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.0")}(ec.default);var KN=function(){return KN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},KN.apply(this,arguments)};Object.create;function WN(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var HN,GN,QN,$N="0.4.18",YN=$N,XN="FB-PERF-TRACE-MEASURE",JN="_wt_",ZN="_fcp",eA="_fid",tA="@firebase/performance/config",nA="@firebase/performance/configexpire",rA="Performance",iA=((HN={})["trace started"]="Trace {$traceName} was started before.",HN["trace stopped"]="Trace {$traceName} is not running.",HN["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",HN["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",HN["no window"]="Window is not available.",HN["no app id"]="App id is not available.",HN["no project id"]="Project id is not available.",HN["no api key"]="Api key is not available.",HN["invalid cc log"]="Attempted to queue invalid cc event",HN["FB not default"]="Performance can only start when Firebase app instance is the default one.",HN["RC response not ok"]="RC response is not ok",HN["invalid attribute name"]="Attribute name {$attributeName} is invalid.",HN["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",HN["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",HN["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",HN),oA=new Sl.ErrorFactory("performance",rA,iA),aA=new Tl.Logger(rA);aA.logLevel=Tl.LogLevel.INFO;var sA,uA=function(){function e(e){if(this.window=e,!e)throw oA.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,Sl.isIndexedDBAvailable)()||(aA.info("IndexedDB is not supported by current browswer"),!1):(aA.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===GN&&(GN=new e(QN)),GN},e}();function cA(e,t){var n=e.length-t.length;if(n<0||n>1)throw oA.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var lA,fA,hA=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=cA("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=cA("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw oA.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw oA.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw oA.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===sA&&(sA=new e),sA},e}();function dA(){return lA}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(fA||(fA={}));var pA=["firebase_","google_","ga_"],vA=new RegExp("^[a-zA-Z]\\w*$");function gA(){var e=uA.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function yA(){switch(uA.getInstance().document.visibilityState){case"visible":return fA.VISIBLE;case"hidden":return fA.HIDDEN;default:return fA.UNKNOWN}}function mA(){var e=uA.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var bA="0.0.1",_A=!0,wA="FIREBASE_INSTALLATIONS_AUTH";function EA(e){var t=function(){var e=uA.getInstance().localStorage;if(!e)return;var t=e.getItem(nA);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(tA);if(!r)return;try{return JSON.parse(r)}catch(MS){return}}();return t?(TA(t),Promise.resolve()):function(e){return function(){var e=hA.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+hA.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+hA.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:wA+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:hA.getInstance().getAppId(),app_version:YN,sdk_version:bA})});return fetch(r).then((function(e){if(e.ok)return e.json();throw oA.create("RC response not ok")}))})).catch((function(){aA.info(SA)}))}(e).then(TA).then((function(e){return function(e){var t=uA.getInstance().localStorage;if(!e||!t)return;t.setItem(tA,JSON.stringify(e)),t.setItem(nA,String(Date.now()+60*hA.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var SA="Could not fetch config, will use default configs";function TA(e){if(!e)return e;var t=hA.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=_A,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=kA(t.tracesSamplingRate),t.logNetworkAfterSampling=kA(t.networkRequestsSamplingRate),e}function kA(e){return Math.random()<=e}var IA,CA=1;function NA(){return CA=2,IA=IA||function(){var e=uA.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=hA.getInstance().installationsService.getId();return e.then((function(e){lA=e})),e}()})).then((function(e){return EA(e)})).then((function(){return AA()}),(function(){return AA()}))}function AA(){CA=3}var xA,PA=1e4,RA=3,OA=[],DA=!1;function LA(e){setTimeout((function(){if(0!==RA)return OA.length?void function(){var e=OA.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=hA.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||aA.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=PA;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(OA=WN(WN([],t),OA),aA.info("Retry transport request later.")),RA=3,LA(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:hA.getInstance().logSource,log_event:t},e).catch((function(){OA=WN(WN([],e),OA),RA--,aA.info("Tries left: "+RA+"."),LA(PA)}))}():LA(PA)}),e)}function MA(e){if(!e.eventTime||!e.message)throw oA.create("invalid cc log");OA=WN(WN([],OA),[e])}function jA(e,t){xA||(xA=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];MA({message:e.apply(void 0,t),eventTime:Date.now()})}}(VA)),xA(e,t)}function FA(e){var t=hA.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&uA.getInstance().requiredApisAvailable()&&(e.isAuto&&yA()!==fA.VISIBLE||(3===CA?UA(e):NA().then((function(){return UA(e)}),(function(){return UA(e)}))))}function UA(e){if(dA()){var t=hA.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return jA(e,1)}),0)}}function VA(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:qA(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:qA(),trace_metric:t};return JSON.stringify(r)}(e)}function qA(){return{google_app_id:hA.getInstance().getAppId(),app_instance_id:dA(),web_app_info:{sdk_version:YN,page_url:uA.getInstance().getUrl(),service_worker_status:gA(),visibility_state:yA(),effective_connection_type:mA()},application_process_state:0}}var BA=["_fp",ZN,eA];var zA=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=uA.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw oA.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw oA.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),FA(this)},e.prototype.record=function(e,t,n){if(e<=0)throw oA.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw oA.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=KN({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}FA(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(JN)&&BA.indexOf(n)>-1)&&n.startsWith("_"))throw oA.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&aA.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!pA.some((function(e){return n.startsWith(e)}))&&!!n.match(vA),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw oA.create("invalid attribute name",{attributeName:e});if(!i)throw oA.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return KN({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=uA.getInstance().getUrl();if(i){var o=new e(JN+i,!0),a=Math.floor(1e3*uA.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(ZN,Math.floor(1e3*u.startTime)),r&&o.putMetric(eA,Math.floor(1e3*r))}FA(o)}},e.createUserTimingTrace=function(t){FA(new e(t,!1,t))},e}();function KA(e){var t=e;if(t&&void 0!==t.responseStart){var n=uA.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=hA.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return jA(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function WA(){dA()&&(setTimeout((function(){return function(){var e=uA.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){zA.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),zA.createOobTrace(t,n,e))}))}else zA.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=uA.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){KA(r[n])}e.setupObserver("resource",KA)}()}),0),setTimeout((function(){return function(){for(var e=uA.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){HA(r[n])}e.setupObserver("measure",HA)}()}),0))}function HA(e){var t=e.name;t.substring(0,XN.length)!==XN&&zA.createUserTimingTrace(t)}var GA=function(){function e(e){this.app=e,uA.getInstance().requiredApisAvailable()&&(0,Sl.validateIndexedDBOpenable)().then((function(e){e&&(DA||(LA(5500),DA=!0),NA().then(WA,WA))})).catch((function(e){aA.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new zA(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return hA.getInstance().instrumentationEnabled},set:function(e){hA.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return hA.getInstance().dataCollectionEnabled},set:function(e){hA.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw oA.create("FB not default");if("undefined"===typeof window)throw oA.create("no window");return function(e){QN=e}(window),hA.getInstance().firebaseAppInstance=e,hA.getInstance().installationsService=t,new GA(e)};e.INTERNAL.registerComponent(new ik.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",$N)}(ec.default);var QA=function(){return QA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},QA.apply(this,arguments)};function $A(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(nk){o(nk)}}function s(e){try{u(r.throw(e))}catch(nk){o(nk)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function YA(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(nk){o=[6,nk],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create;var XA,JA,ZA="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(XA||(XA={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(JA||(JA={}));var ex,tx=new Tl.Logger("@firebase/analytics");function nx(e,t,n,r,i,o){return $A(this,void 0,void 0,(function(){var a,s,u,c;return YA(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),tx.error(c),[3,8];case 8:return e(XA.CONFIG,i,o),[2]}}))}))}function rx(e,t,n,r,i){return $A(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,h;return YA(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(f=l[c],"break"!==u(f));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(XA.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),tx.error(h),[3,5];case 5:return[2]}}))}))}function ix(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return $A(this,void 0,void 0,(function(){var s;return YA(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==XA.EVENT?[3,2]:[4,rx(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==XA.CONFIG?[3,4]:[4,nx(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(XA.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),tx.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var ox=((ex={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ex["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ex["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ex["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ex["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ex["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ex["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ex["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ex["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ex),ax=new Sl.ErrorFactory("analytics","Analytics",ox),sx=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function ux(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function cx(e){var t;return $A(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return YA(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:ux(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw ax.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function lx(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=sx),$A(this,void 0,void 0,(function(){var t,a,s,u,c,l,f;return YA(this,(function(h){switch(h.label){case 0:t=e.appId,a=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,fx(n,i)];case 2:return h.sent(),[3,4];case 3:if(s=h.sent(),a)return tx.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return h.trys.push([4,6,,7]),[4,cx(e)];case 5:return u=h.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof Sl.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=h.sent())){if(r.deleteThrottleMetadata(t),a)return tx.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,Sl.calculateBackoffMillis)(o,r.intervalMillis,30):(0,Sl.calculateBackoffMillis)(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,f),tx.debug("Calling attemptFetch again in "+l+" millis"),[2,lx(e,f,n,r)];case 7:return[2]}}))}))}function fx(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(ax.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var hx=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function dx(e,t,n,r,i,o){return $A(this,void 0,void 0,(function(){var a,s,u,c,l,f,h;return YA(this,(function(d){switch(d.label){case 0:return a=function(e,t,n){return void 0===t&&(t=sx),$A(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return YA(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw ax.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw ax.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new hx,setTimeout((function(){return $A(c,void 0,void 0,(function(){return YA(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,lx({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&tx.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return tx.error(e)})),t.push(a),s=function(){return $A(this,void 0,void 0,(function(){var e;return YA(this,(function(t){switch(t.label){case 0:return(0,Sl.isIndexedDBAvailable)()?[3,1]:(tx.warn(ax.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,Sl.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),tx.warn(ax.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(ZA))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=ZA+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(h={}).origin="firebase",h.update=!0,f=h,null!=l&&(f.firebase_id=l),i(XA.CONFIG,c.measurementId,f),[2,c.measurementId]}}))}))}var px,vx,gx={},yx=[],mx={},bx="dataLayer",_x="gtag",wx=!1;function Ex(e){if(wx)throw ax.create("already-initialized");e.dataLayerName&&(bx=e.dataLayerName),e.gtagName&&(_x=e.gtagName)}function Sx(e,t){!function(){var e=[];if((0,Sl.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,Sl.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=ax.create("invalid-analytics-context",{errorInfo:t});tx.warn(n.message)}}();var n=e.options.appId;if(!n)throw ax.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ax.create("no-api-key");tx.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=gx[n])throw ax.create("already-exists",{id:n});if(!wx){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(bx);var r=ix(gx,yx,mx,bx,_x),i=r.wrappedGtag,o=r.gtagCore;vx=i,px=o,wx=!0}gx[n]=dx(e,yx,mx,t,px,bx);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return $A(this,void 0,void 0,(function(){var o,a;return YA(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(XA.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=QA(QA({},r),{send_to:o}),e(XA.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(vx,gx[n],e,t,r).catch((function(e){return tx.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return $A(this,void 0,void 0,(function(){var i;return YA(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(XA.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(XA.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(vx,gx[n],e,t).catch((function(e){return tx.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return $A(this,void 0,void 0,(function(){var i;return YA(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(XA.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(XA.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(vx,gx[n],e,t).catch((function(e){return tx.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return $A(this,void 0,void 0,(function(){var i,o,a,s,u;return YA(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(XA.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(XA.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(vx,gx[n],e,t).catch((function(e){return tx.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return $A(this,void 0,void 0,(function(){var n;return YA(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(gx[n],e).catch((function(e){return tx.error(e)}))},INTERNAL:{delete:function(){return delete gx[n],Promise.resolve()}}};return a}var Tx="analytics";function kx(){return $A(this,void 0,void 0,(function(){return YA(this,(function(e){switch(e.label){case 0:if((0,Sl.isBrowserExtension)())return[2,!1];if(!(0,Sl.areCookiesEnabled)())return[2,!1];if(!(0,Sl.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,Sl.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new ik.Component(Tx,(function(e){return Sx(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Ex,EventName:JA,isSupported:kx})),e.INTERNAL.registerComponent(new ik.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(Tx).getImmediate().logEvent}}catch(nk){throw ax.create("interop-component-reg-failed",{reason:nk})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(ec.default);var Ix=function(){return Ix=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ix.apply(this,arguments)};function Cx(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(nk){o(nk)}}function s(e){try{u(r.throw(e))}catch(nk){o(nk)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Nx(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(nk){o=[6,nk],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create;var Ax,xx=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return Cx(this,void 0,void 0,(function(){var t,n,r,i,o;return Nx(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),Px=((Ax={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Ax["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Ax["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Ax["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Ax["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ax["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ax["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ax["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Ax["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ax["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Ax["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Ax["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ax["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ax),Rx=new Sl.ErrorFactory("remoteconfig","Remote Config",Px);var Ox=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return Cx(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,h,d,p,v,g,y,m,b;return Nx(this,(function(_){switch(_.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=_.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),_.label=2;case 2:return _.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return _.sent(),[4,c];case 4:return f=_.sent(),[3,6];case 5:throw h=_.sent(),d="fetch-client-network","AbortError"===h.name&&(d="fetch-timeout"),Rx.create(d,{originalErrorMessage:h.message});case 6:if(p=f.status,v=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];m=void 0,_.label=7;case 7:return _.trys.push([7,9,,10]),[4,f.json()];case 8:return m=_.sent(),[3,10];case 9:throw b=_.sent(),Rx.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:g=m.entries,y=m.state,_.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===y?p=500:"NO_CHANGE"===y?p=304:"NO_TEMPLATE"!==y&&"EMPTY_CONFIG"!==y||(g={}),304!==p&&200!==p)throw Rx.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:g}]}var w}))}))},e}(),Dx=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),Lx=["1","true","t","yes","y","on"],Mx=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&Lx.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),jx=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Tl.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Tl.LogLevel.SILENT;break;default:this._logger.logLevel=Tl.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return Cx(this,void 0,void 0,(function(){var e,t,n;return Nx(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return Cx(this,void 0,void 0,(function(){var e,t,n,r=this;return Nx(this,(function(i){switch(i.label){case 0:e=new Dx,setTimeout((function(){return Cx(r,void 0,void 0,(function(){return Nx(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof Sl.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return Cx(this,void 0,void 0,(function(){return Nx(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(Ix(Ix({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new Mx("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new Mx("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new Mx("static"))},e}();function Fx(e,t){var n=e.target.error||void 0;return Rx.create(t,{originalErrorMessage:n&&n.message})}var Ux="app_namespace_store";var Vx=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(Fx(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(Ux,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return Cx(this,void 0,void 0,(function(){var t,n=this;return Nx(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Ux],"readonly").objectStore(Ux),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(Fx(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(nk){i(Rx.create("storage-get",{originalErrorMessage:nk&&nk.message}))}}))]}}))}))},e.prototype.set=function(e,t){return Cx(this,void 0,void 0,(function(){var n,r=this;return Nx(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([Ux],"readwrite").objectStore(Ux),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(Fx(e,"storage-set"))},u.onsuccess=function(){i()}}catch(nk){o(Rx.create("storage-set",{originalErrorMessage:nk&&nk.message}))}}))]}}))}))},e.prototype.delete=function(e){return Cx(this,void 0,void 0,(function(){var t,n=this;return Nx(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Ux],"readwrite").objectStore(Ux),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(Fx(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(nk){i(Rx.create("storage-delete",{originalErrorMessage:nk&&nk.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),qx=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return Cx(this,void 0,void 0,(function(){var e,t,n,r,i,o;return Nx(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function Bx(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(Rx.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var zx,Kx=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return Cx(this,void 0,void 0,(function(){var t;return Nx(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return Cx(this,void 0,void 0,(function(){var t,i,o;return Nx(this,(function(a){switch(a.label){case 0:return[4,Bx(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof Sl.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,Sl.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),Wx="@firebase/remote-config";(zx=ec.default).INTERNAL.registerComponent(new ik.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw Rx.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw Rx.create("registration-project-id");if(!s)throw Rx.create("registration-api-key");if(!u)throw Rx.create("registration-app-id");n=n||"firebase";var c=new Vx(u,r.name,n),l=new qx(c),f=new Tl.Logger(Wx);f.logLevel=Tl.LogLevel.ERROR;var h=new Ox(i,zx.SDK_VERSION,n,a,s,u),d=new Kx(h,c),p=new xx(d,c,l,f),v=new jx(r,p,l,c,f);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),zx.registerVersion(Wx,"0.1.43");n(446);var Hx="8.10.0";ec.default.registerVersion("firebase",Hx,"app"),ec.default.SDK_VERSION=Hx;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),ec.default.registerVersion("firebase","8.10.0");var Gx=function(t){var n=t.node,r=t.children,i=ec.default.database().ref(n),o=Hc();return(0,e.useEffect)((function(){i.set(o)}),[o,i]),(0,ee.jsx)(ee.Fragment,{children:r})},Qx=function(t){var n=t.node,r=t.children,i=Gc(),o=(0,e.useCallback)((function(e){var t=e.val();t?i(t):console.warn("Remote settings were deleted")}),[i]);return(0,e.useEffect)((function(){var e=ec.default.database().ref(n);return e.on("value",o),function(){e.off("value",o)}}),[n,o]),(0,ee.jsx)(ee.Fragment,{children:r})},$x=function(e){var t=e.children,n=x().lang,r=Rc(),i=rc().userId;if(!i)return(0,ee.jsx)(ee.Fragment,{children:t});var o="/users/".concat(i,"/").concat(r),a="/users/".concat(i,"/ordle/").concat(n,"/_settings");return(0,ee.jsx)(vl,{node:o,children:(0,ee.jsx)(gl,{node:o,children:(0,ee.jsx)(yl,{node:o,children:(0,ee.jsx)(Gx,{node:a,children:(0,ee.jsx)(Qx,{node:a,children:(0,ee.jsx)(ee.Fragment,{children:t})})})})})})},Yx=function(){var e=x(),t=e.lang,n=e.gameId;if(!t)return(0,ee.jsx)(pl,{});var r=null!==n&&void 0!==n?n:"";if(!n){var i=new Date;r=[i.getFullYear(),"0".concat(i.getMonth()+1).substr(-2),"0".concat(i.getDate()).substr(-2)].join("-")}return(0,ee.jsx)(eu,{children:(0,ee.jsx)(hl,{children:(0,ee.jsx)(Nu,{gameId:r,children:(0,ee.jsx)($x,{children:(0,ee.jsx)(Oc,{children:(0,ee.jsx)(fl,{})})})})})})},Xx=function(){return(0,ee.jsx)(ne,{children:(0,ee.jsx)($,{children:(0,ee.jsxs)(T,{children:[(0,ee.jsx)(E,{path:"/",element:(0,ee.jsx)(Yx,{})}),(0,ee.jsx)(E,{path:"/:lang",element:(0,ee.jsx)(Yx,{})}),(0,ee.jsx)(E,{path:"/:lang/:gameId",element:(0,ee.jsx)(Yx,{})})]})})})},Jx=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};t.render((0,ee.jsx)(e.StrictMode,{children:(0,ee.jsx)(Xx,{})}),document.getElementById("root")),Jx()}()}();
//# sourceMappingURL=main.2479e58e.js.map